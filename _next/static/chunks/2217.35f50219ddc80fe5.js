"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2217],{22217:function(t,e,o){o.d(e,{g:function(){return th}});var i=o(97582),n=o(67294),a=o(24394),r=o(60900),s=o(28148),l=o(54735),u=o(86917),c=o(70737);let isPoint=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),isPoint3D=t=>isPoint(t)&&t.hasOwnProperty("z");var h=o(80734);let distance1D=(t,e)=>Math.abs(t-e);function distance(t,e){if((0,h.e)(t)&&(0,h.e)(e))return distance1D(t,e);if(isPoint(t)&&isPoint(e)){let o=distance1D(t.x,e.x),i=distance1D(t.y,e.y),n=isPoint3D(t)&&isPoint3D(e)?distance1D(t.z,e.z):0;return Math.sqrt(Math.pow(o,2)+Math.pow(i,2)+Math.pow(n,2))}}var d=o(9897),p=function(){function PanSession(t,e,o){var n=this,a=(void 0===o?{}:o).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(n.lastMoveEvent&&n.lastMoveEventInfo){var t=getPanInfo(n.lastMoveEventInfo,n.history),e=null!==n.startEvent,o=distance(t.offset,{x:0,y:0})>=3;if(e||o){var a=t.point,r=(0,l.$B)().timestamp;n.history.push((0,i.__assign)((0,i.__assign)({},a),{timestamp:r}));var s=n.handlers,u=s.onStart,c=s.onMove;e||(u&&u(n.lastMoveEvent,t),n.startEvent=n.lastMoveEvent),c&&c(n.lastMoveEvent,t)}}},this.handlePointerMove=function(t,e){if(n.lastMoveEvent=t,n.lastMoveEventInfo=transformPoint(e,n.transformPagePoint),(0,r.N)(t)&&0===t.buttons){n.handlePointerUp(t,e);return}l.ZP.update(n.updatePoint,!0)},this.handlePointerUp=function(t,e){n.end();var o=n.handlers,i=o.onEnd,a=o.onSessionEnd,r=getPanInfo(transformPoint(e,n.transformPagePoint),n.history);n.startEvent&&i&&i(t,r),a&&a(t,r)},!(0,r.z)(t)||!(t.touches.length>1)){this.handlers=e,this.transformPagePoint=a;var u=transformPoint((0,s.Q)(t),this.transformPagePoint),h=u.point,p=(0,l.$B)().timestamp;this.history=[(0,i.__assign)((0,i.__assign)({},h),{timestamp:p})];var v=e.onSessionStart;v&&v(t,getPanInfo(u,this.history)),this.removeListeners=(0,d.z)((0,c.a)(window,"pointermove",this.handlePointerMove),(0,c.a)(window,"pointerup",this.handlePointerUp),(0,c.a)(window,"pointercancel",this.handlePointerUp))}}return PanSession.prototype.updateHandlers=function(t){this.handlers=t},PanSession.prototype.end=function(){this.removeListeners&&this.removeListeners(),l.qY.update(this.updatePoint)},PanSession}();function transformPoint(t,e){return e?{point:e(t.point)}:t}function subtractPoint(t,e){return{x:t.x-e.x,y:t.y-e.y}}function getPanInfo(t,e){var o=t.point;return{point:o,delta:subtractPoint(o,lastDevicePoint(e)),offset:subtractPoint(o,e[0]),velocity:function(t,e){if(t.length<2)return{x:0,y:0};for(var o=t.length-1,i=null,n=lastDevicePoint(t);o>=0&&(i=t[o],!(n.timestamp-i.timestamp>(0,u.w)(.1)));)o--;if(!i)return{x:0,y:0};var a=(n.timestamp-i.timestamp)/1e3;if(0===a)return{x:0,y:0};var r={x:(n.x-i.x)/a,y:(n.y-i.y)/a};return r.x===1/0&&(r.x=0),r.y===1/0&&(r.y=0),r}(e,0)}}function lastDevicePoint(t){return t[t.length-1]}var v=o(37544),m=o(51804),f=o(72453),g=o(9326),y=o(6773);function calcLength(t){return t.max-t.min}function isNear(t,e,o){return void 0===e&&(e=0),void 0===o&&(o=.01),distance(t,e)<o}function calcAxisDelta(t,e,o,i){void 0===i&&(i=.5),t.origin=i,t.originPoint=(0,f.C)(e.min,e.max,t.origin),t.scale=calcLength(o)/calcLength(e),(isNear(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=(0,f.C)(o.min,o.max,t.origin)-t.originPoint,(isNear(t.translate)||isNaN(t.translate))&&(t.translate=0)}function calcBoxDelta(t,e,o,i){calcAxisDelta(t.x,e.x,o.x,null==i?void 0:i.originX),calcAxisDelta(t.y,e.y,o.y,null==i?void 0:i.originY)}function calcRelativeAxis(t,e,o){t.min=o.min+e.min,t.max=t.min+calcLength(e)}function calcRelativeAxisPosition(t,e,o){t.min=e.min-o.min,t.max=t.min+calcLength(e)}function calcRelativePosition(t,e,o){calcRelativeAxisPosition(t.x,e.x,o.x),calcRelativeAxisPosition(t.y,e.y,o.y)}function calcRelativeAxisConstraints(t,e,o){return{min:void 0!==e?t.min+e:void 0,max:void 0!==o?t.max+o-(t.max-t.min):void 0}}function calcViewportAxisConstraints(t,e){var o,n=e.min-t.min,a=e.max-t.max;return e.max-e.min<t.max-t.min&&(n=(o=(0,i.__read)([a,n],2))[0],a=o[1]),{min:n,max:a}}function resolveAxisElastic(t,e,o){return{min:resolvePointElastic(t,e),max:resolvePointElastic(t,o)}}function resolvePointElastic(t,e){var o;return"number"==typeof t?t:null!==(o=t[e])&&void 0!==o?o:0}var x=o(3233),createAxisDelta=function(){return{translate:0,scale:1,origin:0,originPoint:0}},createDelta=function(){return{x:createAxisDelta(),y:createAxisDelta()}},createAxis=function(){return{min:0,max:0}},createBox=function(){return{x:createAxis(),y:createAxis()}};function eachAxis(t){return[t("x"),t("y")]}var P=o(56460),D=o(81593),E=o(76117),T=o(51756),A=o(2969),S=new WeakMap,C=function(){function VisualElementDragControls(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=t}return VisualElementDragControls.prototype.start=function(t,e){var o=this,i=(void 0===e?{}:e).snapToCursor,n=void 0!==i&&i;!1!==this.visualElement.isPresent&&(this.panSession=new p(t,{onSessionStart:function(t){o.stopAnimation(),n&&o.snapToCursor((0,s.Q)(t,"page").point)},onStart:function(t,e){var i,n=o.getProps(),a=n.drag,r=n.dragPropagation,s=n.onDragStart;(!a||r||(o.openGlobalLock&&o.openGlobalLock(),o.openGlobalLock=(0,v.fJ)(a),o.openGlobalLock))&&(o.isDragging=!0,o.currentDirection=null,o.resolveConstraints(),o.visualElement.projection&&(o.visualElement.projection.isAnimationBlocked=!0,o.visualElement.projection.target=void 0),eachAxis(function(t){var e,i,n=o.getAxisMotionValue(t).get()||0;if(A.aQ.test(n)){var a=null===(i=null===(e=o.visualElement.projection)||void 0===e?void 0:e.layout)||void 0===i?void 0:i.actual[t];a&&(n=calcLength(a)*(parseFloat(n)/100))}o.originPoint[t]=n}),null==s||s(t,e),null===(i=o.visualElement.animationState)||void 0===i||i.setActive(x.r.Drag,!0))},onMove:function(t,e){var i=o.getProps(),n=i.dragPropagation,a=i.dragDirectionLock,r=i.onDirectionLock,s=i.onDrag;if(n||o.openGlobalLock){var l,u,c=e.offset;if(a&&null===o.currentDirection){o.currentDirection=(void 0===l&&(l=10),u=null,Math.abs(c.y)>l?u="y":Math.abs(c.x)>l&&(u="x"),u),null!==o.currentDirection&&(null==r||r(o.currentDirection));return}o.updateAxis("x",e.point,c),o.updateAxis("y",e.point,c),o.visualElement.syncRender(),null==s||s(t,e)}},onSessionEnd:function(t,e){return o.stop(t,e)}},{transformPagePoint:this.visualElement.getTransformPagePoint()}))},VisualElementDragControls.prototype.stop=function(t,e){var o=this.isDragging;if(this.cancel(),o){var i=e.velocity;this.startAnimation(i);var n=this.getProps().onDragEnd;null==n||n(t,e)}},VisualElementDragControls.prototype.cancel=function(){var t,e;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(t=this.panSession)||void 0===t||t.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(e=this.visualElement.animationState)||void 0===e||e.setActive(x.r.Drag,!1)},VisualElementDragControls.prototype.updateAxis=function(t,e,o){var i=this.getProps().drag;if(o&&shouldDrag(t,i,this.currentDirection)){var n,a,r,s,l,u=this.getAxisMotionValue(t),c=this.originPoint[t]+o[t];this.constraints&&this.constraints[t]&&(n=c,a=this.constraints[t],r=this.elastic[t],s=a.min,l=a.max,void 0!==s&&n<s?n=r?(0,f.C)(s,n,r.min):Math.max(n,s):void 0!==l&&n>l&&(n=r?(0,f.C)(l,n,r.max):Math.min(n,l)),c=n),u.set(c)}},VisualElementDragControls.prototype.resolveConstraints=function(){var t,e,o,i,n,a,r=this,s=this.getProps(),l=s.dragConstraints,u=s.dragElastic,c=(this.visualElement.projection||{}).layout,h=this.constraints;l&&(0,m.I)(l)?this.constraints||(this.constraints=this.resolveRefConstraints()):l&&c?this.constraints=(t=c.actual,e=l.top,o=l.left,i=l.bottom,n=l.right,{x:calcRelativeAxisConstraints(t.x,o,n),y:calcRelativeAxisConstraints(t.y,e,i)}):this.constraints=!1,this.elastic=(void 0===(a=u)&&(a=.35),!1===a?a=0:!0===a&&(a=.35),{x:resolveAxisElastic(a,"left","right"),y:resolveAxisElastic(a,"top","bottom")}),h!==this.constraints&&c&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(function(t){if(r.getAxisMotionValue(t)){var e,o,i;r.constraints[t]=(e=c.actual[t],o=r.constraints[t],i={},void 0!==o.min&&(i.min=o.min-e.min),void 0!==o.max&&(i.max=o.max-e.min),i)}})},VisualElementDragControls.prototype.resolveRefConstraints=function(){var t,e=this.getProps(),o=e.dragConstraints,i=e.onMeasureDragConstraints;if(!o||!(0,m.I)(o))return!1;var n=o.current;(0,a.k)(null!==n,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.");var r=this.visualElement.projection;if(!r||!r.layout)return!1;var s=(0,P.z)(n,r.root,this.visualElement.getTransformPagePoint()),l={x:calcViewportAxisConstraints((t=r.layout.actual).x,s.x),y:calcViewportAxisConstraints(t.y,s.y)};if(i){var u=i((0,E.z2)(l));this.hasMutatedConstraints=!!u,u&&(l=(0,E.i8)(u))}return l},VisualElementDragControls.prototype.startAnimation=function(t){var e=this,o=this.getProps(),n=o.drag,a=o.dragMomentum,r=o.dragElastic,s=o.dragTransition,l=o.dragSnapToOrigin,u=o.onDragTransitionEnd,c=this.constraints||{};return Promise.all(eachAxis(function(o){if(shouldDrag(o,n,e.currentDirection)){var u,h=null!==(u=null==c?void 0:c[o])&&void 0!==u?u:{};l&&(h={min:0,max:0});var d=(0,i.__assign)((0,i.__assign)({type:"inertia",velocity:a?t[o]:0,bounceStiffness:r?200:1e6,bounceDamping:r?40:1e7,timeConstant:750,restDelta:1,restSpeed:10},s),h);return e.startAxisValueAnimation(o,d)}})).then(u)},VisualElementDragControls.prototype.startAxisValueAnimation=function(t,e){var o=this.getAxisMotionValue(t);return(0,D.b8)(t,o,0,e)},VisualElementDragControls.prototype.stopAnimation=function(){var t=this;eachAxis(function(e){return t.getAxisMotionValue(e).stop()})},VisualElementDragControls.prototype.getAxisMotionValue=function(t){var e,o,i="_drag"+t.toUpperCase();return this.visualElement.getProps()[i]||this.visualElement.getValue(t,null!==(o=null===(e=this.visualElement.getProps().initial)||void 0===e?void 0:e[t])&&void 0!==o?o:0)},VisualElementDragControls.prototype.snapToCursor=function(t){var e=this;eachAxis(function(o){if(shouldDrag(o,e.getProps().drag,e.currentDirection)){var i=e.visualElement.projection,n=e.getAxisMotionValue(o);if(i&&i.layout){var a=i.layout.actual[o],r=a.min,s=a.max;n.set(t[o]-(0,f.C)(r,s,.5))}}})},VisualElementDragControls.prototype.scalePositionWithinConstraints=function(){var t,e=this,o=this.getProps(),i=o.drag,n=o.dragConstraints,a=this.visualElement.projection;if((0,m.I)(n)&&a&&this.constraints){this.stopAnimation();var r={x:0,y:0};eachAxis(function(t){var o=e.getAxisMotionValue(t);if(o){var i,n,a,s,l,u=o.get();r[t]=(i={min:u,max:u},n=e.constraints[t],a=.5,s=calcLength(i),(l=calcLength(n))>s?a=(0,g.Y)(n.min,n.max-s,i.min):s>l&&(a=(0,g.Y)(i.min,i.max-l,n.min)),(0,y.u)(0,1,a))}});var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(t=a.root)||void 0===t||t.updateScroll(),a.updateLayout(),this.resolveConstraints(),eachAxis(function(t){if(shouldDrag(t,i,null)){var o=e.getAxisMotionValue(t),n=e.constraints[t],a=n.min,s=n.max;o.set((0,f.C)(a,s,r[t]))}})}},VisualElementDragControls.prototype.addListeners=function(){var t,e=this;S.set(this.visualElement,this);var o=this.visualElement.getInstance(),i=(0,c.a)(o,"pointerdown",function(t){var o=e.getProps(),i=o.drag,n=o.dragListener;i&&(void 0===n||n)&&e.start(t)}),measureDragConstraints=function(){var t=e.getProps().dragConstraints;(0,m.I)(t)&&(e.constraints=e.resolveRefConstraints())},n=this.visualElement.projection,a=n.addEventListener("measure",measureDragConstraints);n&&!n.layout&&(null===(t=n.root)||void 0===t||t.updateScroll(),n.updateLayout()),measureDragConstraints();var r=(0,T.E)(window,"resize",function(){return e.scalePositionWithinConstraints()});return n.addEventListener("didUpdate",function(t){var o=t.delta,i=t.hasLayoutChanged;e.isDragging&&i&&(eachAxis(function(t){var i=e.getAxisMotionValue(t);i&&(e.originPoint[t]+=o[t].translate,i.set(i.get()+o[t].translate))}),e.visualElement.syncRender())}),function(){r(),i(),a()}},VisualElementDragControls.prototype.getProps=function(){var t=this.visualElement.getProps(),e=t.drag,o=t.dragDirectionLock,n=t.dragPropagation,a=t.dragConstraints,r=t.dragElastic,s=t.dragMomentum;return(0,i.__assign)((0,i.__assign)({},t),{drag:void 0!==e&&e,dragDirectionLock:void 0!==o&&o,dragPropagation:void 0!==n&&n,dragConstraints:void 0!==a&&a,dragElastic:void 0===r?.35:r,dragMomentum:void 0===s||s})},VisualElementDragControls}();function shouldDrag(t,e,o){return(!0===e||e===t)&&(null===o||o===t)}var L=o(96681),j=o(16014),R=o(65411),N=o(5445),V={pan:(0,N.x)(function(t){var e=t.onPan,o=t.onPanStart,i=t.onPanEnd,a=t.onPanSessionStart,r=t.visualElement,s=e||o||i||a,l=(0,n.useRef)(null),u=(0,n.useContext)(j._).transformPagePoint,h={onSessionStart:a,onStart:o,onMove:e,onEnd:function(t,e){l.current=null,i&&i(t,e)}};(0,n.useEffect)(function(){null!==l.current&&l.current.updateHandlers(h)}),(0,c.m)(r,"pointerdown",s&&function(t){l.current=new p(t,h,{transformPagePoint:u})}),(0,R.z)(function(){return l.current&&l.current.end()})}),drag:(0,N.x)(function(t){var e=t.dragControls,o=t.visualElement,i=(0,L.h)(function(){return new C(o)});(0,n.useEffect)(function(){return e&&e.subscribe(i)},[i,e]),(0,n.useEffect)(function(){return i.addListeners()},[i])})},b=o(15947),B=o(25364),_=o(41705),k=o(93083);function pixelsToPercent(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}var M={correct:function(t,e){if(!e.target)return t;if("string"==typeof t){if(!A.px.test(t))return t;t=parseFloat(t)}var o=pixelsToPercent(t,e.target.x),i=pixelsToPercent(t,e.target.y);return"".concat(o,"% ").concat(i,"%")}},w=o(28407),U=o(47539),I="_$css",F=o(64561),O=function(t){function MeasureLayoutWithContext(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(MeasureLayoutWithContext,t),MeasureLayoutWithContext.prototype.componentDidMount=function(){var t=this,e=this.props,o=e.visualElement,n=e.layoutGroup,a=e.switchLayoutGroup,r=e.layoutId,s=o.projection;(0,F.B)(z),s&&((null==n?void 0:n.group)&&n.group.add(s),(null==a?void 0:a.register)&&r&&a.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",function(){t.safeToRemove()}),s.setOptions((0,i.__assign)((0,i.__assign)({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),k.V.hasEverUpdated=!0},MeasureLayoutWithContext.prototype.getSnapshotBeforeUpdate=function(t){var e=this,o=this.props,i=o.layoutDependency,n=o.visualElement,a=o.drag,r=o.isPresent,s=n.projection;return s&&(s.isPresent=r,a||t.layoutDependency!==i||void 0===i?s.willUpdate():this.safeToRemove(),t.isPresent===r||(r?s.promote():s.relegate()||l.ZP.postRender(function(){var t;(null===(t=s.getStack())||void 0===t?void 0:t.members.length)||e.safeToRemove()}))),null},MeasureLayoutWithContext.prototype.componentDidUpdate=function(){var t=this.props.visualElement.projection;t&&(t.root.didUpdate(),!t.currentAnimation&&t.isLead()&&this.safeToRemove())},MeasureLayoutWithContext.prototype.componentWillUnmount=function(){var t=this.props,e=t.visualElement,o=t.layoutGroup,i=t.switchLayoutGroup,n=e.projection;n&&(n.scheduleCheckAfterUnmount(),(null==o?void 0:o.group)&&o.group.remove(n),(null==i?void 0:i.deregister)&&i.deregister(n))},MeasureLayoutWithContext.prototype.safeToRemove=function(){var t=this.props.safeToRemove;null==t||t()},MeasureLayoutWithContext.prototype.render=function(){return null},MeasureLayoutWithContext}(n.Component),z={borderRadius:(0,i.__assign)((0,i.__assign)({},M),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:M,borderTopRightRadius:M,borderBottomLeftRadius:M,borderBottomRightRadius:M,boxShadow:{correct:function(t,e){var o=e.treeScale,i=e.projectionDelta,n=t,a=t.includes("var("),r=[];a&&(t=t.replace(U.Xp,function(t){return r.push(t),I}));var s=w.P.parse(t);if(s.length>5)return n;var l=w.P.createTransformer(t),u="number"!=typeof s[0]?1:0,c=i.x.scale*o.x,h=i.y.scale*o.y;s[0+u]/=c,s[1+u]/=h;var d=(0,f.C)(c,h,.5);"number"==typeof s[2+u]&&(s[2+u]/=d),"number"==typeof s[3+u]&&(s[3+u]/=d);var p=l(s);if(a){var v=0;p=p.replace(I,function(){var t=r[v];return v++,t})}return p}}},W=o(55606),G=o(33234),Y=o(40406),Z=o(21560),q=o(84710),H=["TopLeft","TopRight","BottomLeft","BottomRight"],Q=H.length,asNumber=function(t){return"string"==typeof t?parseFloat(t):t},isPx=function(t){return"number"==typeof t||A.px.test(t)};function getRadius(t,e){var o;return null!==(o=t[e])&&void 0!==o?o:t.borderRadius}var X=compress(0,.5,q.Bn),$=compress(.5,.95,q.GE);function compress(t,e,o){return function(i){return i<t?0:i>e?1:o((0,g.Y)(t,e,i))}}function copyAxisInto(t,e){t.min=e.min,t.max=e.max}function copyBoxInto(t,e){copyAxisInto(t.x,e.x),copyAxisInto(t.y,e.y)}var J=o(16e3);function removePointDelta(t,e,o,i,n){return t-=e,t=(0,J.q2)(t,1/o,i),void 0!==n&&(t=(0,J.q2)(t,1/n,i)),t}function removeAxisTransforms(t,e,o,n,a){var r=(0,i.__read)(o,3),s=r[0],l=r[1],u=r[2];!function(t,e,o,i,n,a,r){if(void 0===e&&(e=0),void 0===o&&(o=1),void 0===i&&(i=.5),void 0===a&&(a=t),void 0===r&&(r=t),A.aQ.test(e)&&(e=parseFloat(e),e=(0,f.C)(r.min,r.max,e/100)-r.min),"number"==typeof e){var s=(0,f.C)(a.min,a.max,i);t===a&&(s-=e),t.min=removePointDelta(t.min,e,o,s,n),t.max=removePointDelta(t.max,e,o,s,n)}}(t,e[s],e[l],e[u],e.scale,n,a)}var K=["x","scaleX","originX"],tt=["y","scaleY","originY"];function removeBoxTransforms(t,e,o,i){removeAxisTransforms(t.x,e,K,null==o?void 0:o.x,null==i?void 0:i.x),removeAxisTransforms(t.y,e,tt,null==o?void 0:o.y,null==i?void 0:i.y)}function isAxisDeltaZero(t){return 0===t.translate&&1===t.scale}function isDeltaZero(t){return isAxisDeltaZero(t.x)&&isAxisDeltaZero(t.y)}function boxEquals(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}var te=o(10010),to=function(){function NodeStack(){this.members=[]}return NodeStack.prototype.add=function(t){(0,te.y4)(this.members,t),t.scheduleRender()},NodeStack.prototype.remove=function(t){if((0,te.cl)(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){var e=this.members[this.members.length-1];e&&this.promote(e)}},NodeStack.prototype.relegate=function(t){var e,o=this.members.findIndex(function(e){return t===e});if(0===o)return!1;for(var i=o;i>=0;i--){var n=this.members[i];if(!1!==n.isPresent){e=n;break}}return!!e&&(this.promote(e),!0)},NodeStack.prototype.promote=function(t,e){var o,i=this.lead;t!==i&&(this.prevLead=i,this.lead=t,t.show(),i&&(i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues,t.snapshot.isShared=!0),(null===(o=t.root)||void 0===o?void 0:o.isUpdating)&&(t.isLayoutDirty=!0),!1===t.options.crossfade&&i.hide()))},NodeStack.prototype.exitAnimationComplete=function(){this.members.forEach(function(t){var e,o,i,n,a;null===(o=(e=t.options).onExitComplete)||void 0===o||o.call(e),null===(a=null===(i=t.resumingFrom)||void 0===i?void 0:(n=i.options).onExitComplete)||void 0===a||a.call(n)})},NodeStack.prototype.scheduleRender=function(){this.members.forEach(function(t){t.instance&&t.scheduleRender(!1)})},NodeStack.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},NodeStack}();function buildProjectionTransform(t,e,o){var i=t.x.translate/e.x,n=t.y.translate/e.y,a="translate3d(".concat(i,"px, ").concat(n,"px, 0) ");if(a+="scale(".concat(1/e.x,", ").concat(1/e.y,") "),o){var r=o.rotate,s=o.rotateX,l=o.rotateY;r&&(a+="rotate(".concat(r,"deg) ")),s&&(a+="rotateX(".concat(s,"deg) ")),l&&(a+="rotateY(".concat(l,"deg) "))}var u=t.x.scale*e.x,c=t.y.scale*e.y;return"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===(a+="scale(".concat(u,", ").concat(c,")"))?"none":a}var ti=o(99527),tn=o(94714),compareByDepth=function(t,e){return t.depth-e.depth},ta=function(){function FlatTree(){this.children=[],this.isDirty=!1}return FlatTree.prototype.add=function(t){(0,te.y4)(this.children,t),this.isDirty=!0},FlatTree.prototype.remove=function(t){(0,te.cl)(this.children,t),this.isDirty=!0},FlatTree.prototype.forEach=function(t){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(t)},FlatTree}(),tr=o(16399);function createProjectionNode(t){var e=t.attachResizeListener,o=t.defaultParent,n=t.measureScroll,a=t.checkIsScrollRoot,r=t.resetTransform;return function(){function ProjectionNode(t,e,n){var a=this;void 0===e&&(e={}),void 0===n&&(n=null==o?void 0:o()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){a.isUpdating&&(a.isUpdating=!1,a.clearAllSnapshots())},this.updateProjection=function(){a.nodes.forEach(resolveTargetDelta),a.nodes.forEach(calcProjection)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=t,this.latestValues=e,this.root=n?n.root||n:this,this.path=n?(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__read)(n.path),!1),[n],!1):[],this.parent=n,this.depth=n?n.depth+1:0,t&&this.root.registerPotentialNode(t,this);for(var r=0;r<this.path.length;r++)this.path[r].shouldResetTransform=!0;this.root===this&&(this.nodes=new ta)}return ProjectionNode.prototype.addEventListener=function(t,e){return this.eventHandlers.has(t)||this.eventHandlers.set(t,new Z.L),this.eventHandlers.get(t).add(e)},ProjectionNode.prototype.notifyListeners=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this.eventHandlers.get(t);null==n||n.notify.apply(n,(0,i.__spreadArray)([],(0,i.__read)(e),!1))},ProjectionNode.prototype.hasListeners=function(t){return this.eventHandlers.has(t)},ProjectionNode.prototype.registerPotentialNode=function(t,e){this.potentialNodes.set(t,e)},ProjectionNode.prototype.mount=function(t,o){var n=this;if(void 0===o&&(o=!1),!this.instance){this.isSVG=t instanceof SVGElement&&"svg"!==t.tagName,this.instance=t;var a=this.options,r=a.layoutId,s=a.layout,l=a.visualElement;if(l&&!l.getInstance()&&l.mount(t),this.root.nodes.add(this),null===(u=this.parent)||void 0===u||u.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),o&&(s||r)&&(this.isLayoutDirty=!0),e){var u,c,resizeUnblockUpdate_1=function(){return n.root.updateBlockedByResize=!1};e(t,function(){n.root.updateBlockedByResize=!0,clearTimeout(c),c=window.setTimeout(resizeUnblockUpdate_1,250),k.V.hasAnimatedSinceResize&&(k.V.hasAnimatedSinceResize=!1,n.nodes.forEach(finishAnimation))})}r&&this.root.registerSharedNode(r,this),!1!==this.options.animate&&l&&(r||s)&&this.addEventListener("didUpdate",function(t){var e,o,a,r,s,u=t.delta,c=t.hasLayoutChanged,h=t.hasRelativeTargetChanged,d=t.layout;if(n.isTreeAnimationBlocked()){n.target=void 0,n.relativeTarget=void 0;return}var p=null!==(o=null!==(e=n.options.transition)&&void 0!==e?e:l.getDefaultTransition())&&void 0!==o?o:ts,v=l.getProps(),m=v.onLayoutAnimationStart,f=v.onLayoutAnimationComplete,g=!n.targetLayout||!boxEquals(n.targetLayout,d)||h,y=!c&&h;if((null===(a=n.resumeFrom)||void 0===a?void 0:a.instance)||y||c&&(g||!n.currentAnimation)){n.resumeFrom&&(n.resumingFrom=n.resumeFrom,n.resumingFrom.resumingFrom=void 0),n.setAnimationOrigin(u,y);var x=(0,i.__assign)((0,i.__assign)({},(0,D.ev)(p,"layout")),{onPlay:m,onComplete:f});l.shouldReduceMotion&&(x.delay=0,x.type=!1),n.startAnimation(x)}else c||0!==n.animationProgress||n.finishAnimation(),n.isLead()&&(null===(s=(r=n.options).onExitComplete)||void 0===s||s.call(r));n.targetLayout=d})}},ProjectionNode.prototype.unmount=function(){var t,e;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(t=this.getStack())||void 0===t||t.remove(this),null===(e=this.parent)||void 0===e||e.children.delete(this),this.instance=void 0,l.qY.preRender(this.updateProjection)},ProjectionNode.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},ProjectionNode.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},ProjectionNode.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},ProjectionNode.prototype.isTreeAnimationBlocked=function(){var t;return this.isAnimationBlocked||(null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimationBlocked())||!1},ProjectionNode.prototype.startUpdate=function(){var t;this.isUpdateBlocked()||(this.isUpdating=!0,null===(t=this.nodes)||void 0===t||t.forEach(resetRotation))},ProjectionNode.prototype.willUpdate=function(t){if(void 0===t&&(t=!0),this.root.isUpdateBlocked()){null===(o=(e=this.options).onExitComplete)||void 0===o||o.call(e);return}if(this.root.isUpdating||this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var e,o,i,n=0;n<this.path.length;n++){var a=this.path[n];a.shouldResetTransform=!0,a.updateScroll()}var r=this.options,s=r.layoutId,l=r.layout;if(void 0!==s||l){var u=null===(i=this.options.visualElement)||void 0===i?void 0:i.getProps().transformTemplate;this.prevTransformTemplateValue=null==u?void 0:u(this.latestValues,""),this.updateSnapshot(),t&&this.notifyListeners("willUpdate")}}},ProjectionNode.prototype.didUpdate=function(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(mountNodeEarly),this.potentialNodes.clear()),this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots(),l.iW.update(),l.iW.preRender(),l.iW.render())},ProjectionNode.prototype.clearAllSnapshots=function(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)},ProjectionNode.prototype.scheduleUpdateProjection=function(){l.ZP.preRender(this.updateProjection,!1,!0)},ProjectionNode.prototype.scheduleCheckAfterUnmount=function(){var t=this;l.ZP.postRender(function(){t.isLayoutDirty?t.root.didUpdate():t.root.checkUpdateFailed()})},ProjectionNode.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var t=this.measure(),e=this.removeTransform(this.removeElementScroll(t));roundBox(e),this.snapshot={measured:t,layout:e,latestValues:{}}}},ProjectionNode.prototype.updateLayout=function(){if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t,e=0;e<this.path.length;e++)this.path[e].updateScroll();var o=this.measure();roundBox(o);var i=this.layout;this.layout={measured:o,actual:this.removeElementScroll(o)},this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(t=this.options.visualElement)||void 0===t||t.notifyLayoutMeasure(this.layout.actual,null==i?void 0:i.actual)}},ProjectionNode.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=a(this.instance),this.scroll=n(this.instance))},ProjectionNode.prototype.resetTransform=function(){if(r){var t,e=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!isDeltaZero(this.projectionDelta),i=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate,n=null==i?void 0:i(this.latestValues,""),a=n!==this.prevTransformTemplateValue;e&&(o||(0,ti.u)(this.latestValues)||a)&&(r(this.instance,n),this.shouldResetTransform=!1,this.scheduleRender())}},ProjectionNode.prototype.measure=function(){var t=this.options.visualElement;if(!t)return createBox();var e=t.measureViewportBox(),o=this.root.scroll;return o&&((0,J.am)(e.x,o.x),(0,J.am)(e.y,o.y)),e},ProjectionNode.prototype.removeElementScroll=function(t){var e=createBox();copyBoxInto(e,t);for(var o=0;o<this.path.length;o++){var i=this.path[o],n=i.scroll,a=i.options,r=i.isScrollRoot;if(i!==this.root&&n&&a.layoutScroll){if(r){copyBoxInto(e,t);var s=this.root.scroll;s&&((0,J.am)(e.x,-s.x),(0,J.am)(e.y,-s.y))}(0,J.am)(e.x,n.x),(0,J.am)(e.y,n.y)}}return e},ProjectionNode.prototype.applyTransform=function(t,e){void 0===e&&(e=!1);var o=createBox();copyBoxInto(o,t);for(var i=0;i<this.path.length;i++){var n=this.path[i];!e&&n.options.layoutScroll&&n.scroll&&n!==n.root&&(0,J.D2)(o,{x:-n.scroll.x,y:-n.scroll.y}),(0,ti.u)(n.latestValues)&&(0,J.D2)(o,n.latestValues)}return(0,ti.u)(this.latestValues)&&(0,J.D2)(o,this.latestValues),o},ProjectionNode.prototype.removeTransform=function(t){var e,o=createBox();copyBoxInto(o,t);for(var i=0;i<this.path.length;i++){var n=this.path[i];if(n.instance&&(0,ti.u)(n.latestValues)){(0,ti.L)(n.latestValues)&&n.updateSnapshot();var a=createBox();copyBoxInto(a,n.measure()),removeBoxTransforms(o,n.latestValues,null===(e=n.snapshot)||void 0===e?void 0:e.layout,a)}}return(0,ti.u)(this.latestValues)&&removeBoxTransforms(o,this.latestValues),o},ProjectionNode.prototype.setTargetDelta=function(t){this.targetDelta=t,this.root.scheduleUpdateProjection()},ProjectionNode.prototype.setOptions=function(t){var e;this.options=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},this.options),t),{crossfade:null===(e=t.crossfade)||void 0===e||e})},ProjectionNode.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},ProjectionNode.prototype.resolveTargetDelta=function(){var t,e,o,i,n=this.options,a=n.layout,r=n.layoutId;this.layout&&(a||r)&&(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&((this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&(null===(i=this.relativeParent)||void 0===i?void 0:i.target))?(t=this.target,e=this.relativeTarget,o=this.relativeParent.target,calcRelativeAxis(t.x,e.x,o.x),calcRelativeAxis(t.y,e.y,o.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.actual):copyBoxInto(this.target,this.layout.actual),(0,J.o2)(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&!!this.relativeParent.resumingFrom==!!this.resumingFrom&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,this.relativeParent.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)))))},ProjectionNode.prototype.getClosestProjectingParent=function(){if(!(!this.parent||(0,ti.u)(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},ProjectionNode.prototype.calcProjection=function(){var t,e=this.options,o=e.layout,i=e.layoutId;if(this.isTreeAnimating=!!((null===(t=this.parent)||void 0===t?void 0:t.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(o||i)){var n=this.getLead();copyBoxInto(this.layoutCorrected,this.layout.actual),(0,J.YY)(this.layoutCorrected,this.treeScale,this.path,!!this.resumingFrom||this!==n);var a=n.target;if(a){this.projectionDelta||(this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta());var r=this.treeScale.x,s=this.treeScale.y,l=this.projectionTransform;calcBoxDelta(this.projectionDelta,this.layoutCorrected,a,this.latestValues),this.projectionTransform=buildProjectionTransform(this.projectionDelta,this.treeScale),(this.projectionTransform!==l||this.treeScale.x!==r||this.treeScale.y!==s)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",a))}}},ProjectionNode.prototype.hide=function(){this.isVisible=!1},ProjectionNode.prototype.show=function(){this.isVisible=!0},ProjectionNode.prototype.scheduleRender=function(t){var e,o,i;void 0===t&&(t=!0),null===(o=(e=this.options).scheduleRender)||void 0===o||o.call(e),t&&(null===(i=this.getStack())||void 0===i||i.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},ProjectionNode.prototype.setAnimationOrigin=function(t,e){var o,n=this;void 0===e&&(e=!1);var a=this.snapshot,r=(null==a?void 0:a.latestValues)||{},s=(0,i.__assign)({},this.latestValues),l=createDelta();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!e;var u=createBox(),c=null==a?void 0:a.isShared,h=1>=((null===(o=this.getStack())||void 0===o?void 0:o.members.length)||0),d=!!(c&&!h&&!0===this.options.crossfade&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0,this.mixTargetDelta=function(e){var o,i,a,p=e/1e3;mixAxisDelta(l.x,t.x,p),mixAxisDelta(l.y,t.y,p),n.setTargetDelta(l),n.relativeTarget&&n.relativeTargetOrigin&&n.layout&&(null===(a=n.relativeParent)||void 0===a?void 0:a.layout)&&(calcRelativePosition(u,n.layout.actual,n.relativeParent.layout.actual),o=n.relativeTarget,i=n.relativeTargetOrigin,mixAxis(o.x,i.x,u.x,p),mixAxis(o.y,i.y,u.y,p)),c&&(n.animationValues=s,function(t,e,o,i,n,a){var r,s,l,u;n?(t.opacity=(0,f.C)(0,null!==(r=o.opacity)&&void 0!==r?r:1,X(i)),t.opacityExit=(0,f.C)(null!==(s=e.opacity)&&void 0!==s?s:1,0,$(i))):a&&(t.opacity=(0,f.C)(null!==(l=e.opacity)&&void 0!==l?l:1,null!==(u=o.opacity)&&void 0!==u?u:1,i));for(var c=0;c<Q;c++){var h="border".concat(H[c],"Radius"),d=getRadius(e,h),p=getRadius(o,h);(void 0!==d||void 0!==p)&&(d||(d=0),p||(p=0),0===d||0===p||isPx(d)===isPx(p)?(t[h]=Math.max((0,f.C)(asNumber(d),asNumber(p),i),0),(A.aQ.test(p)||A.aQ.test(d))&&(t[h]+="%")):t[h]=p)}(e.rotate||o.rotate)&&(t.rotate=(0,f.C)(e.rotate||0,o.rotate||0,i))}(s,r,n.latestValues,p,d,h)),n.root.scheduleUpdateProjection(),n.scheduleRender(),n.animationProgress=p},this.mixTargetDelta(0)},ProjectionNode.prototype.startAnimation=function(t){var e,o,n=this;this.notifyListeners("animationStart"),null===(e=this.currentAnimation)||void 0===e||e.stop(),this.resumingFrom&&(null===(o=this.resumingFrom.currentAnimation)||void 0===o||o.stop()),this.pendingAnimation&&(l.qY.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=l.ZP.update(function(){var e,o;k.V.hasAnimatedSinceResize=!0,n.currentAnimation=(void 0===(e=(0,i.__assign)((0,i.__assign)({},t),{onUpdate:function(e){var o;n.mixTargetDelta(e),null===(o=t.onUpdate)||void 0===o||o.call(t,e)},onComplete:function(){var e;null===(e=t.onComplete)||void 0===e||e.call(t),n.completeAnimation()}}))&&(e={}),o=(0,Y.i)(0)?0:(0,G.B)(0),(0,D.b8)("",o,1e3,e),{stop:function(){return o.stop()},isAnimating:function(){return o.isAnimating()}}),n.resumingFrom&&(n.resumingFrom.currentAnimation=n.currentAnimation),n.pendingAnimation=void 0})},ProjectionNode.prototype.completeAnimation=function(){var t;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(t=this.getStack())||void 0===t||t.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},ProjectionNode.prototype.finishAnimation=function(){var t;this.currentAnimation&&(null===(t=this.mixTargetDelta)||void 0===t||t.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},ProjectionNode.prototype.applyTransformsToTarget=function(){var t=this.getLead(),e=t.targetWithTransforms,o=t.target,i=t.layout,n=t.latestValues;e&&o&&i&&(copyBoxInto(e,o),(0,J.D2)(e,n),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,e,n))},ProjectionNode.prototype.registerSharedNode=function(t,e){var o,i,n;this.sharedNodes.has(t)||this.sharedNodes.set(t,new to),this.sharedNodes.get(t).add(e),e.promote({transition:null===(o=e.options.initialPromotionConfig)||void 0===o?void 0:o.transition,preserveFollowOpacity:null===(n=null===(i=e.options.initialPromotionConfig)||void 0===i?void 0:i.shouldPreserveFollowOpacity)||void 0===n?void 0:n.call(i,e)})},ProjectionNode.prototype.isLead=function(){var t=this.getStack();return!t||t.lead===this},ProjectionNode.prototype.getLead=function(){var t;return this.options.layoutId&&(null===(t=this.getStack())||void 0===t?void 0:t.lead)||this},ProjectionNode.prototype.getPrevLead=function(){var t;return this.options.layoutId?null===(t=this.getStack())||void 0===t?void 0:t.prevLead:void 0},ProjectionNode.prototype.getStack=function(){var t=this.options.layoutId;if(t)return this.root.sharedNodes.get(t)},ProjectionNode.prototype.promote=function(t){var e=void 0===t?{}:t,o=e.needsReset,i=e.transition,n=e.preserveFollowOpacity,a=this.getStack();a&&a.promote(this,n),o&&(this.projectionDelta=void 0,this.needsReset=!0),i&&this.setOptions({transition:i})},ProjectionNode.prototype.relegate=function(){var t=this.getStack();return!!t&&t.relegate(this)},ProjectionNode.prototype.resetRotation=function(){var t=this.options.visualElement;if(t){for(var e=!1,o={},i=0;i<tn.r$.length;i++){var n="rotate"+tn.r$[i];t.getStaticValue(n)&&(e=!0,o[n]=t.getStaticValue(n),t.setStaticValue(n,0))}if(e){for(var n in null==t||t.syncRender(),o)t.setStaticValue(n,o[n]);t.scheduleRender()}}},ProjectionNode.prototype.getProjectionStyles=function(t){void 0===t&&(t={});var e,o,i,n,a,r,s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var l=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=(0,tr.b)(t.pointerEvents)||"",s.transform=l?l(this.latestValues,""):"none",s;var u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){var c={};return this.options.layoutId&&(c.opacity=null!==(o=this.latestValues.opacity)&&void 0!==o?o:1,c.pointerEvents=(0,tr.b)(t.pointerEvents)||""),this.hasProjected&&!(0,ti.u)(this.latestValues)&&(c.transform=l?l({},""):"none",this.hasProjected=!1),c}var h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),s.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,h),l&&(s.transform=l(h,s.transform));var d=this.projectionDelta,p=d.x,v=d.y;for(var m in s.transformOrigin="".concat(100*p.origin,"% ").concat(100*v.origin,"% 0"),u.animationValues?s.opacity=u===this?null!==(n=null!==(i=h.opacity)&&void 0!==i?i:this.latestValues.opacity)&&void 0!==n?n:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=u===this?null!==(a=h.opacity)&&void 0!==a?a:"":null!==(r=h.opacityExit)&&void 0!==r?r:0,F.P)if(void 0!==h[m]){var f=F.P[m],g=f.correct,y=f.applyTo,x=g(h[m],u);if(y)for(var P=y.length,D=0;D<P;D++)s[y[D]]=x;else s[m]=x}return this.options.layoutId&&(s.pointerEvents=u===this?(0,tr.b)(t.pointerEvents)||"":"none"),s},ProjectionNode.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},ProjectionNode.prototype.resetTree=function(){this.root.nodes.forEach(function(t){var e;return null===(e=t.currentAnimation)||void 0===e?void 0:e.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()},ProjectionNode}()}function updateLayout(t){t.updateLayout()}function notifyLayoutUpdate(t){var e,o,i,n,a=null!==(o=null===(e=t.resumeFrom)||void 0===e?void 0:e.snapshot)&&void 0!==o?o:t.snapshot;if(t.isLead()&&t.layout&&a&&t.hasListeners("didUpdate")){var r=t.layout,s=r.actual,l=r.measured;"size"===t.options.animationType?eachAxis(function(t){var e=a.isShared?a.measured[t]:a.layout[t],o=calcLength(e);e.min=s[t].min,e.max=e.min+o}):"position"===t.options.animationType&&eachAxis(function(t){var e=a.isShared?a.measured[t]:a.layout[t],o=calcLength(s[t]);e.max=e.min+o});var u=createDelta();calcBoxDelta(u,s,a.layout);var c=createDelta();a.isShared?calcBoxDelta(c,t.applyTransform(l,!0),a.measured):calcBoxDelta(c,s,a.layout);var h=!isDeltaZero(u),d=!1;if(!t.resumeFrom&&(t.relativeParent=t.getClosestProjectingParent(),t.relativeParent&&!t.relativeParent.resumeFrom)){var p=t.relativeParent,v=p.snapshot,m=p.layout;if(v&&m){var f=createBox();calcRelativePosition(f,a.layout,v.layout);var g=createBox();calcRelativePosition(g,s,m.actual),boxEquals(f,g)||(d=!0)}}t.notifyListeners("didUpdate",{layout:s,snapshot:a,delta:c,layoutDelta:u,hasLayoutChanged:h,hasRelativeTargetChanged:d})}else t.isLead()&&(null===(n=(i=t.options).onExitComplete)||void 0===n||n.call(i));t.options.transition=void 0}function clearSnapshot(t){t.clearSnapshot()}function clearMeasurements(t){t.clearMeasurements()}function resetTransformStyle(t){var e=t.options.visualElement;(null==e?void 0:e.getProps().onBeforeLayoutMeasure)&&e.notifyBeforeLayoutMeasure(),t.resetTransform()}function finishAnimation(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function resolveTargetDelta(t){t.resolveTargetDelta()}function calcProjection(t){t.calcProjection()}function resetRotation(t){t.resetRotation()}function removeLeadSnapshots(t){t.removeLeadSnapshot()}function mixAxisDelta(t,e,o){t.translate=(0,f.C)(e.translate,0,o),t.scale=(0,f.C)(e.scale,1,o),t.origin=e.origin,t.originPoint=e.originPoint}function mixAxis(t,e,o,i){t.min=(0,f.C)(e.min,o.min,i),t.max=(0,f.C)(e.max,o.max,i)}function hasOpacityCrossfade(t){return t.animationValues&&void 0!==t.animationValues.opacityExit}var ts={duration:.45,ease:[.4,0,.1,1]};function mountNodeEarly(t,e){for(var o=t.root,i=t.path.length-1;i>=0;i--)if(t.path[i].instance){o=t.path[i];break}var n=(o&&o!==t.root?o.instance:document).querySelector('[data-projection-id="'.concat(e,'"]'));n&&t.mount(n,!0)}function roundAxis(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function roundBox(t){roundAxis(t.x),roundAxis(t.y)}var tl=createProjectionNode({attachResizeListener:function(t,e){return(0,T.E)(t,"resize",e)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),tu={current:void 0},tc=createProjectionNode({measureScroll:function(t){return{x:t.scrollLeft,y:t.scrollTop}},defaultParent:function(){if(!tu.current){var t=new tl(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),tu.current=t}return tu.current},resetTransform:function(t,e){t.style.transform=null!=e?e:"none"},checkIsScrollRoot:function(t){return"fixed"===window.getComputedStyle(t).position}}),th=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},W.H),V),{measureLayout:function(t){var e=(0,i.__read)((0,b.oO)(),2),o=e[0],a=e[1],r=(0,n.useContext)(B.p);return n.createElement(O,(0,i.__assign)({},t,{layoutGroup:r,switchLayoutGroup:(0,n.useContext)(_.g),isPresent:o,safeToRemove:a}))}}),{projectionNodeConstructor:tc})}}]);