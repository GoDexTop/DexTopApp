(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1567],{76710:function(e,n,t){"use strict";function ownKeys(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function _objectSpread2(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ownKeys(Object(t),!0).forEach(function(n){var i;i=t[n],n in e?Object.defineProperty(e,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[n]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}t.d(n,{u:function(){return createRuntimeFn}});var shouldApplyCompound=(e,n,t)=>{for(var i of Object.keys(e)){var o;if(e[i]!==(null!==(o=n[i])&&void 0!==o?o:t[i]))return!1}return!0},createRuntimeFn=e=>n=>{var t=e.defaultClassName,i=_objectSpread2(_objectSpread2({},e.defaultVariants),n);for(var o in i){var r,l=null!==(r=i[o])&&void 0!==r?r:e.defaultVariants[o];if(null!=l){var a=l;"boolean"==typeof a&&(a=!0===a?"true":"false");var d=e.variantClassNames[o][a];d&&(t+=" "+d)}}for(var[u,s]of e.compoundVariants)shouldApplyCompound(u,i,e.defaultVariants)&&(t+=" "+s);return t}},71516:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/increase",function(){return t(25871)}])},25871:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return M}});var i=t(85893),o=t(94808),r=t(98287),l=t(89704),a=t(11163),d=t(63150),u=t(27086),s=t(59842),c=t(92897),p=t(29928),v=t(31258),C=t(40231),g=t(12021),y=t(31717),m=t(67947),x=t(32229),N=t(22184),b=t(67294),R=t(51675),f=t(13243),h=t(75533),U=t(28429),_=t(57078),j=t(66749),k=t(61129),w=t(3774),E=t(25375),A=t(18803),B=t(26256),O=t(19521),I=t(50535),P=t(31347),Y=t(88051),S=t(32214),q=t(60491),L=t(95946),T=t(17133),D=t(13670),Z=t(27426),$=t(52282),V=t(35330),K=t(65262),z=t(1854);let F=(0,O.ZP)(v.Zbd).withConfig({componentId:"sc-48aff12a-0"})`
  // background: ${e=>{let{theme:n}=e;return n.colors.background}};
  border: 3px solid ${e=>{let{theme:n}=e;return n.colors.textDisabled}};
  border-radius: 8px;
  padding: 4px 12px;
  max-width: 464px;
  width: 100%;
  z-index: 1;
`;function IncreaseLiquidityV3(e){var n,t,o,l,d,u,s,O,M,G;let{currencyA:Q,currencyB:W}=e,X=(0,a.useRouter)(),{sendTransactionAsync:H}=(0,E.p)(),[J,ee]=(0,b.useState)(!1),en=null!==(u=X.query.fee)&&void 0!==u?u:"0",et=null!==(s=X.query.tokenId)&&void 0!==s?s:"0",ei=(0,f.LO)(),{account:eo,chainId:er,isWrongNetwork:el}=(0,w.Z)(),ea=(0,j.gp)(),{tokenIds:ed,loading:eu}=(0,x.OC)(null==ea?void 0:ea.address,eo),[es,ec]=(0,b.useState)(""),ep=(0,_.h7)(),ev=en&&Object.values(y.lk).includes(parseFloat(en))?parseFloat(en):void 0,{position:eC,loading:eg}=(0,x.nq)(et?BigInt(et):void 0),ey=!!eC&&!eg,{position:em}=function(e){let n;let t=(0,r.U8)(null==e?void 0:e.token0),i=(0,r.U8)(null==e?void 0:e.token1),[,o]=(0,m.A)(null!=t?t:void 0,null!=i?i:void 0,null==e?void 0:e.fee);return o&&e&&(n=new y.Ly({pool:o,liquidity:e.liquidity.toString(),tickLower:e.tickLower,tickUpper:e.tickUpper})),{position:n,pool:null!=o?o:void 0}}(eC),ex=Q&&W&&Q.wrapped.equals(W.wrapped)?void 0:W,eN=(0,z.Di)(),{independentField:eb,typedValue:eR}=eN,{dependentField:ef,parsedAmounts:eh,position:eU,noLiquidity:e_,currencies:ej,errorMessage:ek,invalidRange:ew,outOfRange:eE,depositADisabled:eA,depositBDisabled:eB,ticksAtLimit:eO,currencyBalances:eI}=(0,N.Z)(null!=Q?Q:void 0,null!=ex?ex:void 0,ev,null!=Q?Q:void 0,em,eN),{onFieldAInput:eP,onFieldBInput:eY}=(0,Z.E)(e_),eS=(0,R.$)(),eq={[eb]:eR,[ef]:null!==(O=null===(n=eh[ef])||void 0===n?void 0:n.toSignificant(6))&&void 0!==O?O:""},eL=[U.gN.CURRENCY_A,U.gN.CURRENCY_B].reduce((e,n)=>({...e,[n]:(0,h.i)(eI[n])}),{}),eT=(0,j.GL)(),[eD]=(0,f.eq)(),eZ=!!(et&&ed.find(e=>e===BigInt(et))),e$=eZ?ea:eT,eV=y.cK,{approvalState:eK,approveCallback:ez}=(0,Y.qL)(eh[U.gN.CURRENCY_A],null==e$?void 0:e$.address),{approvalState:eF,approveCallback:eM}=(0,Y.qL)(eh[U.gN.CURRENCY_B],null==e$?void 0:e$.address),eG=eK!==Y.UK.APPROVED&&!!eh[U.gN.CURRENCY_A],eQ=eF!==Y.UK.APPROVED&&!!eh[U.gN.CURRENCY_B],eW=(0,b.useCallback)(async()=>{if(er&&H&&eo&&eV&&e$&&!eu&&eT&&Q&&ex&&eU&&eo&&eS){var e,n,t,i;let o=Q.isNative?Q:ex.isNative?ex:void 0,{calldata:r,value:l}=ey&&et?eV.addCallParameters(eU,{tokenId:et,slippageTolerance:(0,q.P4)(eD),deadline:null!==(t=null===(e=eS[0])||void 0===e?void 0:e.toString())&&void 0!==t?t:"0",useNative:o}):eV.addCallParameters(eU,{slippageTolerance:(0,q.P4)(eD),recipient:eo,deadline:null!==(i=null===(n=eS[0])||void 0===n?void 0:n.toString())&&void 0!==i?i:"0",useNative:o,createPool:e_});ee(!0),(0,D.NP)({chainId:er}).estimateGas({account:eo,to:e$.address,data:r,value:(0,L.y_)(l)}).then(e=>H({account:eo,to:e$.address,data:r,value:(0,L.y_)(l),gas:(0,k.yC)(e),chainId:er})).then(e=>{var n,t,i,o,r,l;let a=(0,S.xy)(null!==(r=null===(t=eh[U.gN.CURRENCY_A])||void 0===t?void 0:null===(n=t.quotient)||void 0===n?void 0:n.toString())&&void 0!==r?r:"0",Q.decimals,4),d=(0,S.xy)(null!==(l=null===(o=eh[U.gN.CURRENCY_B])||void 0===o?void 0:null===(i=o.quotient)||void 0===i?void 0:i.toString())&&void 0!==l?l:"0",ex.decimals,4);ee(!1),ep({hash:e},{type:"increase-liquidity-v3",summary:`Increase ${a} ${null==Q?void 0:Q.symbol} and ${d} ${null==ex?void 0:ex.symbol}`}),ec(e)}).catch(e=>{console.error("Failed to send transaction",e),ee(!1),(0,T.Z)(e)||console.error(e)})}},[eo,ep,eD,Q,er,eS,ey,eV,e$,e_,eh,eU,eT,ex,H,et,eu]),eX=(0,b.useCallback)(()=>{es&&(eP(""),X.push("/pool"))},[eP,X,es]),eH=`Supplying ${eA?"":(0,S.ZO)(eh[U.gN.CURRENCY_A],4,"en-US")} ${eA?"":null===(t=ej[U.gN.CURRENCY_A])||void 0===t?void 0:t.symbol} ${eE?"":"and"} ${eB?"":(0,S.ZO)(eh[U.gN.CURRENCY_B],4,"en-US")} ${eB?"":null===(o=ej[U.gN.CURRENCY_B])||void 0===o?void 0:o.symbol}`,[eJ]=(0,C.dd)((0,i.jsx)(P.Z,{minWidth:["100%",null,"420px"],title:"Increase Liquidity",customOnDismiss:eX,attemptingTxn:J,hash:es,content:()=>(0,i.jsx)(g.p,{topContent:()=>eU?(0,i.jsx)($.z,{position:eU,inRange:!eE,ticksAtLimit:eO}):null,bottomContent:()=>(0,i.jsx)(v.zxk,{width:"100%",mt:"16px",variant:"primary",height:"48px",onClick:eW,children:"Increase"})}),pendingText:eH}),!0,!0,"TransactionConfirmationModalIncreaseLiquidity"),e0=(0,b.useCallback)(()=>ei?eW():eJ(),[ei,eW,eJ]),e1=(0,i.jsx)(K.f,{addIsUnsupported:!1,addIsWarning:!1,account:null!=eo?eo:void 0,isWrongNetwork:el,approvalA:eK,approvalB:eF,isValid:!ek&&!ew,showApprovalA:eG,approveACallback:ez,currencies:ej,approveBCallback:eM,showApprovalB:eQ,parsedAmounts:eh,onClick:e0,attemptingTxn:J,errorMessage:ek,buttonText:"Increase",depositADisabled:eA,depositBDisabled:eB});return(0,i.jsx)(A.Z,{children:(0,i.jsx)(v.kCb,{justifyContent:"center",mt:"40px",children:(0,i.jsxs)(F,{children:[(0,i.jsx)(B.t,{backTo:`/pool/id?tokenId=${et}`,title:`Add ${null!==(M=null===(l=ej[U.gN.CURRENCY_A])||void 0===l?void 0:l.symbol)&&void 0!==M?M:""}-${null!==(G=null===(d=ej[U.gN.CURRENCY_B])||void 0===d?void 0:d.symbol)&&void 0!==G?G:""} Liquidity`,noConfig:!0})," ",(0,i.jsxs)(v.eWz,{children:[(0,i.jsxs)(v.xuv,{mb:"16px",children:[em&&(0,i.jsx)($.z,{position:em,title:"Selected Range",inRange:!eE,ticksAtLimit:eO}),(0,i.jsxs)(v.xuv,{mt:"16px",children:[(0,i.jsx)(V.Z,{locked:eA,mb:"8px",children:(0,i.jsx)(I.Z,{disableCurrencySelect:!0,showBUSD:!0,maxAmount:eL[U.gN.CURRENCY_A],onMax:()=>{var e,n;return eP(null!==(n=null===(e=eL[U.gN.CURRENCY_A])||void 0===e?void 0:e.toExact())&&void 0!==n?n:"")},onPercentInput:e=>{var n,t;return eP(null!==(t=null===(n=eL[U.gN.CURRENCY_A])||void 0===n?void 0:n.multiply(new p.gG(e,100)).toExact())&&void 0!==t?t:"")},value:eq[U.gN.CURRENCY_A],onUserInput:eP,showQuickInputButton:!0,showMaxButton:!0,currency:ej[U.gN.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,commonBasesType:c.L0.LIQUIDITY})}),(0,i.jsx)(v.xuv,{minHeight:"3px"}),(0,i.jsx)(V.Z,{locked:eB,mt:"8px",children:(0,i.jsx)(I.Z,{disableCurrencySelect:!0,showBUSD:!0,maxAmount:eL[U.gN.CURRENCY_B],onMax:()=>{var e,n;return eY(null!==(n=null===(e=eL[U.gN.CURRENCY_B])||void 0===e?void 0:e.toExact())&&void 0!==n?n:"")},onPercentInput:e=>{var n,t;return eY(null!==(t=null===(n=eL[U.gN.CURRENCY_B])||void 0===n?void 0:n.multiply(new p.gG(e,100)).toExact())&&void 0!==t?t:"")},value:eq[U.gN.CURRENCY_B],onUserInput:eY,showQuickInputButton:!0,showMaxButton:!0,currency:ej[U.gN.CURRENCY_B],id:"add-liquidity-input-tokenb",showCommonBases:!0,commonBasesType:c.L0.LIQUIDITY})})]})]}),(0,i.jsx)(v.Tz7,{style:{flexGrow:1},children:e1})]})]})})})}let AddLiquidityPage=()=>{let e=(0,a.useRouter)(),{chainId:n}=(0,u.g)(),t=(0,l.Z)(),[d,c]=e.query.currency||[t.symbol,o.p$[n].address],p=(0,r.U8)(d),v=(0,r.U8)(c);return(0,i.jsx)(s.Z,{children:(0,i.jsx)(IncreaseLiquidityV3,{currencyA:p,currencyB:v})})};AddLiquidityPage.chains=d.vo;var M=AddLiquidityPage},25375:function(e,n,t){"use strict";t.d(n,{p:function(){return useSendTransaction}});var i=t(98029),o=t(66357),r=t(37122);function useSendTransaction(e={}){let{mutation:n}=e,t=(0,r.Z)(e),{mutate:l,mutateAsync:a,...d}=(0,i.D)({...n,mutationFn:e=>(0,o.T)(t,e),mutationKey:["sendTransaction"]});return{...d,sendTransaction:l,sendTransactionAsync:a}}}},function(e){e.O(0,[1314,5223,2464,2425,3609,9774,2888,179],function(){return e(e.s=71516)}),_N_E=e.O()}]);