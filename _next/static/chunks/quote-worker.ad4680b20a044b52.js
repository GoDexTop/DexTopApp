!function(){var e,t,n,i,a,r,u={5668:function(e,t,n){"use strict";var i,a,r,u,s,o,p,l,y,d,m,c,T,f,b,h,w,k,g={};n.r(g),n.d(g,{parseCurrency:function(){return parseCurrency},parseCurrencyAmount:function(){return parseCurrencyAmount},parsePool:function(){return parsePool},parseRoute:function(){return parseRoute},parseTrade:function(){return parseTrade},serializeCurrency:function(){return serializeCurrency},serializeCurrencyAmount:function(){return serializeCurrencyAmount},serializePool:function(){return serializePool},serializeRoute:function(){return serializeRoute},serializeTrade:function(){return serializeTrade}});var v=n(88306),A=n.n(v),M=n(6752);(i=d||(d={}))[i.ETHEREUM=369]="ETHEREUM";let _=Object.entries({369:"pulse"}).reduce((e,t)=>{let[n,i]=t;return{[i.toLowerCase()]:n,...e}},{}),I=[M.F],P={369:[...M.F.rpcUrls.default.http,"https://rpc.pulsechain.com"]};A()(e=>{if(e)return _[e.toLowerCase()]?+_[e.toLowerCase()]:void 0}),(a=m||(m={}))[a.EXACT_INPUT=0]="EXACT_INPUT",a[a.EXACT_OUTPUT=1]="EXACT_OUTPUT",(r=c||(c={}))[r.ROUND_DOWN=0]="ROUND_DOWN",r[r.ROUND_HALF_UP=1]="ROUND_HALF_UP",r[r.ROUND_UP=2]="ROUND_UP";let E=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");(u=T||(T={})).uint8="uint8",u.uint256="uint256",BigInt("0xff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");var x=n(38776),R=n(29887),q=n.n(R),S=n(48987),C=n.n(S),N=n(12447),O=n.n(N);let B=O()(q()),U=O()(C()),L={[c.ROUND_DOWN]:B.ROUND_DOWN,[c.ROUND_HALF_UP]:B.ROUND_HALF_UP,[c.ROUND_UP]:B.ROUND_UP},F={[c.ROUND_DOWN]:0,[c.ROUND_HALF_UP]:1,[c.ROUND_UP]:3};let fraction_Fraction=class fraction_Fraction{static tryParseFraction(e){if("bigint"==typeof e||"number"==typeof e||"string"==typeof e)return new fraction_Fraction(e);if("numerator"in e&&"denominator"in e)return e;throw Error("Could not parse fraction")}get quotient(){return this.numerator/this.denominator}get remainder(){return new fraction_Fraction(this.numerator%this.denominator,this.denominator)}invert(){return new fraction_Fraction(this.denominator,this.numerator)}add(e){let t=fraction_Fraction.tryParseFraction(e);return this.denominator===t.denominator?new fraction_Fraction(this.numerator+t.numerator,this.denominator):new fraction_Fraction(this.numerator*t.denominator+t.numerator*this.denominator,this.denominator*t.denominator)}subtract(e){let t=fraction_Fraction.tryParseFraction(e);return this.denominator===t.denominator?new fraction_Fraction(this.numerator-t.numerator,this.denominator):new fraction_Fraction(this.numerator*t.denominator-t.numerator*this.denominator,this.denominator*t.denominator)}lessThan(e){let t=fraction_Fraction.tryParseFraction(e);return this.numerator*t.denominator<t.numerator*this.denominator}equalTo(e){let t=fraction_Fraction.tryParseFraction(e);return this.numerator*t.denominator==t.numerator*this.denominator}greaterThan(e){let t=fraction_Fraction.tryParseFraction(e);return this.numerator*t.denominator>t.numerator*this.denominator}multiply(e){let t=fraction_Fraction.tryParseFraction(e);return new fraction_Fraction(this.numerator*t.numerator,this.denominator*t.denominator)}divide(e){let t=fraction_Fraction.tryParseFraction(e);return new fraction_Fraction(this.numerator*t.denominator,this.denominator*t.numerator)}toSignificant(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{groupSeparator:""},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.ROUND_HALF_UP;(0,x.Z)(Number.isInteger(e),`${e} is not an integer.`),(0,x.Z)(e>0,`${e} is not positive.`),B.set({precision:e+1,rounding:L[n]});let i=new B(this.numerator.toString()).div(this.denominator.toString()).toSignificantDigits(e);return i.toFormat(i.decimalPlaces(),t)}toFixed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{groupSeparator:""},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.ROUND_HALF_UP;return(0,x.Z)(Number.isInteger(e),`${e} is not an integer.`),(0,x.Z)(e>=0,`${e} is negative.`),U.DP=e,U.RM=F[n],new U(this.numerator.toString()).div(this.denominator.toString()).toFormat(e,t)}get asFraction(){return new fraction_Fraction(this.numerator,this.denominator)}constructor(e,t=1n){this.numerator=BigInt(e),this.denominator=BigInt(t)}};let D=new fraction_Fraction(100n);function toPercent(e){return new percent_Percent(e.numerator,e.denominator)}let percent_Percent=class percent_Percent extends fraction_Fraction{add(e){return toPercent(super.add(e))}subtract(e){return toPercent(super.subtract(e))}multiply(e){return toPercent(super.multiply(e))}divide(e){return toPercent(super.divide(e))}toSignificant(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return super.multiply(D).toSignificant(e,t,n)}toFixed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return super.multiply(D).toFixed(e,t,n)}constructor(...e){super(...e),this.isPercent=!0}};percent_Percent.toPercent=toPercent;let H=O()(C());let currencyAmount_CurrencyAmount=class currencyAmount_CurrencyAmount extends fraction_Fraction{static fromRawAmount(e,t){return new currencyAmount_CurrencyAmount(e,t)}static fromFractionalAmount(e,t,n){return new currencyAmount_CurrencyAmount(e,t,n)}add(e){(0,x.Z)(this.currency.equals(e.currency),"CURRENCY");let t=super.add(e);return currencyAmount_CurrencyAmount.fromFractionalAmount(this.currency,t.numerator,t.denominator)}subtract(e){(0,x.Z)(this.currency.equals(e.currency),"CURRENCY");let t=super.subtract(e);return currencyAmount_CurrencyAmount.fromFractionalAmount(this.currency,t.numerator,t.denominator)}multiply(e){let t=super.multiply(e);return currencyAmount_CurrencyAmount.fromFractionalAmount(this.currency,t.numerator,t.denominator)}divide(e){let t=super.divide(e);return currencyAmount_CurrencyAmount.fromFractionalAmount(this.currency,t.numerator,t.denominator)}toSignificant(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.ROUND_DOWN;return super.divide(this.decimalScale).toSignificant(e,t,n)}toFixed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currency.decimals,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.ROUND_DOWN;return(0,x.Z)(e<=this.currency.decimals,"DECIMALS"),super.divide(this.decimalScale).toFixed(e,t,n)}toExact(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{groupSeparator:""};return H.DP=this.currency.decimals,new H(this.quotient.toString()).div(this.decimalScale.toString()).toFormat(e)}get wrapped(){return this.currency.isToken?this:currencyAmount_CurrencyAmount.fromFractionalAmount(this.currency.wrapped,this.numerator,this.denominator)}constructor(e,t,n){super(t,n),(0,x.Z)(this.quotient<=E,"AMOUNT"),this.currency=e,this.decimalScale=10n**BigInt(e.decimals)}};let price_Price=class price_Price extends fraction_Fraction{invert(){return new price_Price(this.quoteCurrency,this.baseCurrency,this.numerator,this.denominator)}multiply(e){(0,x.Z)(this.quoteCurrency.equals(e.baseCurrency),"TOKEN");let t=super.multiply(e);return new price_Price(this.baseCurrency,e.quoteCurrency,t.denominator,t.numerator)}quote(e){(0,x.Z)(e.currency.equals(this.baseCurrency),"TOKEN");let t=super.multiply(e);return currencyAmount_CurrencyAmount.fromFractionalAmount(this.quoteCurrency,t.numerator,t.denominator)}get adjustedForDecimals(){return super.multiply(this.scalar)}toSignificant(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:6,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.adjustedForDecimals.toSignificant(e,t,n)}toFixed(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return this.adjustedForDecimals.toFixed(e,t,n)}constructor(...e){let t,n,i,a;if(4===e.length)[t,n,i,a]=e;else{let r=e[0].quoteAmount.divide(e[0].baseAmount);[t,n,i,a]=[e[0].baseAmount.currency,e[0].quoteAmount.currency,r.denominator,r.numerator]}super(a,i),this.baseCurrency=t,this.quoteCurrency=n,this.scalar=new fraction_Fraction(10n**BigInt(t.decimals),10n**BigInt(n.decimals))}};let BaseCurrency=class BaseCurrency{constructor(e,t,n,i){(0,x.Z)(Number.isSafeInteger(e),"CHAIN_ID"),(0,x.Z)(t>=0&&t<255&&Number.isInteger(t),"DECIMALS"),this.chainId=e,this.decimals=t,this.symbol=n,this.name=i}};let NativeCurrency=class NativeCurrency extends BaseCurrency{constructor(...e){super(...e),this.isNative=!0,this.isToken=!1}};let Token=class Token extends BaseCurrency{equals(e){return e.isToken&&this.chainId===e.chainId&&this.address===e.address}sortsBefore(e){return(0,x.Z)(this.chainId===e.chainId,"CHAIN_IDS"),(0,x.Z)(this.address!==e.address,"ADDRESSES"),this.address.toLowerCase()<e.address.toLowerCase()}get wrapped(){return this}get serialize(){return{address:this.address,chainId:this.chainId,decimals:this.decimals,symbol:this.symbol,name:this.name,projectLink:this.projectLink}}constructor(e,t,n,i,a,r){super(e,n,i,a),this.isNative=!1,this.isToken=!0,this.address=t,this.projectLink=r}};let X="setPrototypeOf"in Object;let InsufficientReservesError=class InsufficientReservesError extends Error{constructor(){super(),this.isInsufficientReservesError=!0,this.name=this.constructor.name,X&&Object.setPrototypeOf(this,new.target.prototype)}};let InsufficientInputAmountError=class InsufficientInputAmountError extends Error{constructor(){super(),this.isInsufficientInputAmountError=!0,this.name=this.constructor.name,X&&Object.setPrototypeOf(this,new.target.prototype)}};function sqrt(e){let t;(0,x.Z)(e>=0n,"NEGATIVE");let n=0n;if(e>3n)for(n=e,t=e/2n+1n;t<n;)n=t,t=(e/t+t)/2n;else 0n!==e&&(n=1n);return n}var W=n(45775),V=n(45298);function utils_validateAndParseAddress(e){try{let t=(0,W.K)(e);return(0,V.Z)(e===t,`${e} is not checksummed.`),t}catch(t){(0,x.Z)(!1,`${e} is not a valid address.`)}}let ERC20Token=class ERC20Token extends Token{constructor(e,t,n,i,a,r){super(e,utils_validateAndParseAddress(t),n,i,a,r)}};new percent_Percent("0");let z=new percent_Percent("1"),Z={[d.ETHEREUM]:"0x556F4C3aAa6c6b76e1BBa0409D99D4a483b29997"},$={[d.ETHEREUM]:"0x67cb47473e9a281a69a651a1182bf0249f7335213e4efd0514b014638ca5a774"},Q={[d.ETHEREUM]:new ERC20Token(d.ETHEREUM,"0xA1077a294dDE1B09bB078844df40758a5D0f9a27",18,"WPLS","Wrapped Pulse","")},G={[d.ETHEREUM]:Q[d.ETHEREUM]},K={[d.ETHEREUM]:{name:"Pulse",symbol:"PLS",decimals:18}};var j=n(11187),Y=n(61769),J=n(91715),ee=n(3972),et=n(91734),en=n(57040),ei=n(76175);let ea={},composeKey=(e,t)=>`${e.chainId}-${e.address}-${t.address}`,computePairAddress=e=>{let{factoryAddress:t,tokenA:n,tokenB:i}=e,[a,r]=n.sortsBefore(i)?[n,i]:[i,n],u=composeKey(a,r);return(null==ea?void 0:ea[u])===void 0&&(ea={...ea,[u]:function(e,t,n){let i=(0,j.O0)((0,W.K)(e)),a=(0,Y.vk)((0,J._)(t)?t:(0,j.O0)(t),{size:32});return(0,W.K)((0,ee.tP)((0,et.w)((0,en.zo)([(0,j.O0)("0xff"),i,a,(0,j.O0)(n)])),12))}(t,(0,et.w)((0,ei._)(["address","address"],[a.address,r.address])),$[a.chainId])}),ea[u]};let Pair=class Pair{static getAddress(e,t){return computePairAddress({factoryAddress:Z[e.chainId],tokenA:e,tokenB:t})}involvesToken(e){return e.equals(this.token0)||e.equals(this.token1)}get token0Price(){let e=this.tokenAmounts[1].divide(this.tokenAmounts[0]);return new price_Price(this.token0,this.token1,e.denominator,e.numerator)}get token1Price(){let e=this.tokenAmounts[0].divide(this.tokenAmounts[1]);return new price_Price(this.token1,this.token0,e.denominator,e.numerator)}priceOf(e){return(0,x.Z)(this.involvesToken(e),"TOKEN"),e.equals(this.token0)?this.token0Price:this.token1Price}get chainId(){return this.token0.chainId}get token0(){return this.tokenAmounts[0].currency}get token1(){return this.tokenAmounts[1].currency}get reserve0(){return this.tokenAmounts[0]}get reserve1(){return this.tokenAmounts[1]}reserveOf(e){return(0,x.Z)(this.involvesToken(e),"TOKEN"),e.equals(this.token0)?this.reserve0:this.reserve1}getOutputAmount(e){if((0,x.Z)(this.involvesToken(e.currency),"TOKEN"),0n===this.reserve0.quotient||0n===this.reserve1.quotient)throw new InsufficientReservesError;let t=this.reserveOf(e.currency),n=this.reserveOf(e.currency.equals(this.token0)?this.token1:this.token0),i=9971n*e.quotient,a=i*n.quotient,r=10000n*t.quotient+i,u=currencyAmount_CurrencyAmount.fromRawAmount(e.currency.equals(this.token0)?this.token1:this.token0,a/r);if(0n===u.quotient)throw new InsufficientInputAmountError;return[u,new Pair(t.add(e),n.subtract(u))]}getInputAmount(e){if((0,x.Z)(this.involvesToken(e.currency),"TOKEN"),0n===this.reserve0.quotient||0n===this.reserve1.quotient||e.quotient>=this.reserveOf(e.currency).quotient)throw new InsufficientReservesError;let t=this.reserveOf(e.currency),n=this.reserveOf(e.currency.equals(this.token0)?this.token1:this.token0),i=n.quotient*e.quotient*10000n,a=(t.quotient-e.quotient)*9971n,r=currencyAmount_CurrencyAmount.fromRawAmount(e.currency.equals(this.token0)?this.token1:this.token0,i/a+1n);return[r,new Pair(n.add(r),t.subtract(e))]}getLiquidityMinted(e,t,n){let i;(0,x.Z)(e.currency.equals(this.liquidityToken),"LIQUIDITY");let a=t.currency.sortsBefore(n.currency)?[t,n]:[n,t];if((0,x.Z)(a[0].currency.equals(this.token0)&&a[1].currency.equals(this.token1),"TOKEN"),0n===e.quotient)i=sqrt(a[0].quotient*a[1].quotient)-1000n;else{let t=a[0].quotient*e.quotient/this.reserve0.quotient,n=a[1].quotient*e.quotient/this.reserve1.quotient;i=t<=n?t:n}if(!(i>0n))throw new InsufficientInputAmountError;return currencyAmount_CurrencyAmount.fromRawAmount(this.liquidityToken,i)}getLiquidityValue(e,t,n){let i,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;if((0,x.Z)(this.involvesToken(e),"TOKEN"),(0,x.Z)(t.currency.equals(this.liquidityToken),"TOTAL_SUPPLY"),(0,x.Z)(n.currency.equals(this.liquidityToken),"LIQUIDITY"),(0,x.Z)(n.quotient<=t.quotient,"LIQUIDITY"),a){(0,x.Z)(!!r,"K_LAST");let e=BigInt(r);if(0n!==e){let n=sqrt(this.reserve0.quotient*this.reserve1.quotient),a=sqrt(e);if(n>a){let e=t.quotient*(n-a);i=t.add(currencyAmount_CurrencyAmount.fromRawAmount(this.liquidityToken,e/(5n*n+a)))}else i=t}else i=t}else i=t;return currencyAmount_CurrencyAmount.fromRawAmount(e,n.quotient*this.reserveOf(e).quotient/i.quotient)}constructor(e,t){let n=e.currency.sortsBefore(t.currency)?[e,t]:[t,e];this.liquidityToken=new ERC20Token(n[0].currency.chainId,Pair.getAddress(n[0].currency,n[1].currency),18,"DLP","DexTop LP"),this.tokenAmounts=n}};let native_Native=class native_Native extends NativeCurrency{get wrapped(){let e=G[this.chainId];return(0,x.Z)(!!e,"WRAPPED"),e}static onChain(e){if(e in this.cache)return this.cache[e];(0,x.Z)(!!K[e],"NATIVE_CURRENCY");let{decimals:t,name:n,symbol:i}=K[e];return this.cache[e]=new native_Native({chainId:e,decimals:t,symbol:i,name:n})}equals(e){return e.isNative&&e.chainId===this.chainId}constructor({chainId:e,decimals:t,name:n,symbol:i}){super(e,t,i,n)}};function getY(e){let{amplifier:t,balances:n,i,j:a,x:r}=e,u=n.length;(0,x.Z)(u>1,"To get y, pool should have at least two coins."),(0,x.Z)(i!==a&&i>=0&&a>=0&&i<u&&a<u,`Invalid i: ${i} and j: ${a}`);let s=BigInt(u),o=function(e){let{amplifier:t,balances:n}=e,i=n.length;(0,x.Z)(i>1,"To get constant D, pool should have at least two coins.");let a=n.reduce((e,t)=>e+BigInt(t),0n);if(0n===a)return 0n;let r=BigInt(i),u=BigInt(t)*r,s=0n,o=a;for(let e=0;e<255;e+=1){let e=o;for(let t of n)e=e*o/(BigInt(t)*r+1n);if(s=o,(o=(u*a+e*r)*o/((u-1n)*o+(r+1n)*e))>s&&o-s<=1n||o<=s&&s-o<=1n)break}return o}({amplifier:t,balances:n}),p=0n,l=o,y=BigInt(t)*s;for(let[e,t]of n.entries()){if(e===a)continue;let n=BigInt(t);e===i&&(n+=BigInt(r)),(0,x.Z)(n>0n,"Insufficient liquidity"),p+=n,l=l*o/(n*s)}l=l*o/(y*s);let d=p+o/y,m=0n,c=o;for(let e=0;e<255&&(m=c,(!((c=(c*c+l)/(2n*c+d-o))>m)||!(c-m<=1n))&&(!(c<=m)||!(m-c<=1n)));e+=1);return c}native_Native.cache={};let er=10n**18n,utils_getRawAmount=e=>e.quotient*er/10n**BigInt(e.currency.decimals),parseAmount=(e,t)=>currencyAmount_CurrencyAmount.fromRawAmount(e,t*10n**BigInt(e.decimals)/er);function getSwapOutput(e){let{amplifier:t,balances:n,outputCurrency:i,amount:a,fee:r}=e,validateAmountOut=e=>(0,x.Z)(!e.lessThan(0n),"Insufficient liquidity to perform the swap"),u=null,s=null,o=[];for(let[e,t]of n.entries()){if(o.push(utils_getRawAmount(t)),t.currency.wrapped.equals(a.currency.wrapped)){u=e;continue}if(t.currency.wrapped.equals(i.wrapped)){s=e;continue}}if((0,x.Z)(null!==u&&null!==s&&u!==s,"Input currency or output currency does not match currencies of token balances."),a.quotient<0n){let e=z.subtract(r).invert().multiply(utils_getRawAmount(a)).quotient,n=getY({amplifier:t,balances:o,i:u,j:s,x:e}),p=n-o[s],l=parseAmount(i,p);return validateAmountOut(l),l}let p=getY({amplifier:t,balances:o,i:u,j:s,x:utils_getRawAmount(a)}),l=o[s]-p,y=r.multiply(l).quotient,d=parseAmount(i,l-y);return validateAmountOut(d),d}function getSwapInput(e){let{amount:t,...n}=e;return getSwapOutput({...n,amount:currencyAmount_CurrencyAmount.fromRawAmount(t.currency,-t.quotient)})}var eu=n(94654),es=n.n(eu);new percent_Percent(50n,10000n);let eo={[d.ETHEREUM]:"pulse"},ep=new ERC20Token(d.ETHEREUM,"0x57953dAC106a4cDa11D90273b1B9D59E169533c0",18,"DEX","DEX","DexTop.pro"),el=new ERC20Token(d.ETHEREUM,"0x0c2417d88635344A0407A16047caF9817808e0Ab",18,"GVR","Givr","GIVR"),ey=new ERC20Token(d.ETHEREUM,"0x15D38573d2feeb82e7ad5187aB8c1D52810B1f07",6,"USDC","USD Coin from Ethereum"),ed=new ERC20Token(d.ETHEREUM,"0x0Cb6F5a34ad42ec934882A05265A7d5F59b51A2f",6,"USDT","Tether USD from Ethereum","https://tether.to/"),em=new ERC20Token(d.ETHEREUM,"0xefD766cCb38EaF1dfd701853BFCe31359239F305",18,"DAI","Dai Stablecoin from Ethereum","https://makerdao.com/"),ec=new ERC20Token(d.ETHEREUM,"0xb17D901469B9208B17d916112988A3FeD19b5cA1",8,"WBTC","Wrapped BTC from Ethereum"),eT={[d.ETHEREUM]:el},ef={[d.ETHEREUM]:ep},eb={[d.ETHEREUM]:ey},eh={[d.ETHEREUM]:ed};d.ETHEREUM;let ew={wpls:Q[d.ETHEREUM],weth:new ERC20Token(d.ETHEREUM,"0x02DcdD04e3F455D838cd1249292C58f3B79e3C3C",18,"WETH","Wrapped Ether from Ethereum"),usdt:eh[d.ETHEREUM],usdc:eb[d.ETHEREUM],wbtc:ec,dai:em,gtoken:eT[d.ETHEREUM],dtoken:ef[d.ETHEREUM],hex:new ERC20Token(d.ETHEREUM,"0x2b591e99afE9f32eAA6214f7B7629768c40Eeb39",8,"HEX","HEX")};d.ETHEREUM,(()=>{let e={};for(let t of function*(e){let t=!0;for(let n in e)if("number"==typeof e[n]){t=!1;break}for(let n in e)(t||"number"==typeof e[n])&&(yield e[n])}(d))e[t]={}})(),d.ETHEREUM,d.ETHEREUM,d.ETHEREUM;let ek={[d.ETHEREUM]:[G[d.ETHEREUM],ew.dtoken,ew.dai,ew.hex]},eg={[d.ETHEREUM]:{}},ev={},eA="0x0000000000000000000000000000000000000001",eM="0x0000000000000000000000000000000000000002",e_={[d.ETHEREUM]:"0x482E7b060C193643067c62CC9e2c5C3D400C03cB"},eI={[d.ETHEREUM]:"0x225996F4A8617fD3bE72b8b7E1b5BC969B660318"},BASE_SWAP_COST_V3=e=>e===d.ETHEREUM?2000n:0n,COST_PER_INIT_TICK=e=>e===d.ETHEREUM?31000n:0n,COST_PER_HOP_V3=e=>e===d.ETHEREUM?80000n:0n,eP={[d.ETHEREUM]:[ew.usdt]},eE={[d.ETHEREUM]:{defaultConfig:{multicallChunk:150,gasLimitOverride:1e6},gasErrorFailureOverride:{gasLimitOverride:1e6,multicallChunk:30},successRateFailureOverrides:{gasLimitOverride:1e6,multicallChunk:40}}},isStableSwapSupported=e=>ex.includes(e),ex=[56],eR={};function wrappedCurrency(e,t){return(null==e?void 0:e.isNative)?G[t]:(null==e?void 0:e.isToken)?e:void 0}d.ETHEREUM;let eq={[d.ETHEREUM]:"0xBB0D30FCc317E3839081962063A350578b313a93"},eS="0x0000000000000000000000000000000000000000",eC={[d.ETHEREUM]:"0x6ce8eb472fa82df5469c6ab6d485f17c3ad13c8cd7af59b3d4a8026c5ce0f7e2"};(s=f||(f={}))[s.LOWEST=100]="LOWEST",s[s.LOW=500]="LOW",s[s.MEDIUM=2500]="MEDIUM",s[s.HIGH=1e4]="HIGH";let eN={100:1,500:10,2500:50,1e4:200},eO=BigInt(-1),eB=2n**96n,eU=eB**2n,eL=10n**6n,eF=new percent_Percent("1"),eD=new percent_Percent("0");var eH=n(45444),eX=n(58023);function computePoolAddress(e){let{deployerAddress:t,tokenA:n,tokenB:i,fee:a,initCodeHashManualOverride:r}=e,[u,s]=n.sortsBefore(i)?[n,i]:[i,n],o=(0,et.w)((0,eH.E)((0,eX.n)(["address, address, uint24"]),[u.address,s.address,a]));return function(e,t,n){let i=(0,j.O0)((0,W.K)(e)),a=(0,Y.vk)((0,J._)(t)?t:(0,j.O0)(t),{size:32});return(0,W.K)((0,ee.tP)((0,et.w)((0,en.zo)([(0,j.O0)("0xff"),i,a,(0,j.O0)(n)])),12))}(t,o,null!=r?r:eC[u.chainId])}let LiquidityMath=class LiquidityMath{static addDelta(e,t){return t<0n?e-t*eO:e+t}constructor(){}};let FullMath=class FullMath{static mulDivRoundingUp(e,t,n){let i=e*t,a=i/n;return i%n!==0n&&(a+=1n),a}constructor(){}};let eW=2n**160n-1n;let SqrtPriceMath=class SqrtPriceMath{static getAmount0Delta(e,t,n,i){e>t&&(t=e=t);let a=n<<96n,r=t-e;return i?FullMath.mulDivRoundingUp(FullMath.mulDivRoundingUp(a,r,t),1n,e):a*r/t/e}static getAmount1Delta(e,t,n,i){return e>t&&(t=e=t),i?FullMath.mulDivRoundingUp(n,t-e,eB):n*(t-e)/eB}static getNextSqrtPriceFromInput(e,t,n,i){return(0,x.Z)(e>0n),(0,x.Z)(t>0n),i?this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!0):this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!0)}static getNextSqrtPriceFromOutput(e,t,n,i){return(0,x.Z)(e>0n),(0,x.Z)(t>0n),i?this.getNextSqrtPriceFromAmount1RoundingDown(e,t,n,!1):this.getNextSqrtPriceFromAmount0RoundingUp(e,t,n,!1)}static getNextSqrtPriceFromAmount0RoundingUp(e,t,n,i){if(0n===n)return e;let a=t<<96n;if(i){let t=n*e&E;if(t/n===e){let n=a+t&E;if(n>=a)return FullMath.mulDivRoundingUp(a,e,n)}return FullMath.mulDivRoundingUp(a,1n,a/e+n)}let r=n*e&E;(0,x.Z)(r/n===e),(0,x.Z)(a>r);let u=a-r;return FullMath.mulDivRoundingUp(a,e,u)}static getNextSqrtPriceFromAmount1RoundingDown(e,t,n,i){if(i){let i=n<=eW?(n<<96n)/t:n*eB/t;return e+i}let a=FullMath.mulDivRoundingUp(n,eB,t);return(0,x.Z)(e>a),e-a}constructor(){}};let SwapMath=class SwapMath{static computeSwapStep(e,t,n,i,a){let r={},u=e>=t,s=i>=0n;if(s){let s=i*(eL-BigInt(a))/eL;r.amountIn=u?SqrtPriceMath.getAmount0Delta(t,e,n,!0):SqrtPriceMath.getAmount1Delta(e,t,n,!0),s>=r.amountIn?r.sqrtRatioNextX96=t:r.sqrtRatioNextX96=SqrtPriceMath.getNextSqrtPriceFromInput(e,n,s,u)}else r.amountOut=u?SqrtPriceMath.getAmount1Delta(t,e,n,!1):SqrtPriceMath.getAmount0Delta(e,t,n,!1),i*eO>=r.amountOut?r.sqrtRatioNextX96=t:r.sqrtRatioNextX96=SqrtPriceMath.getNextSqrtPriceFromOutput(e,n,i*eO,u);let o=t===r.sqrtRatioNextX96;return u?(r.amountIn=o&&s?r.amountIn:SqrtPriceMath.getAmount0Delta(r.sqrtRatioNextX96,e,n,!0),r.amountOut=o&&!s?r.amountOut:SqrtPriceMath.getAmount1Delta(r.sqrtRatioNextX96,e,n,!1)):(r.amountIn=o&&s?r.amountIn:SqrtPriceMath.getAmount1Delta(e,r.sqrtRatioNextX96,n,!0),r.amountOut=o&&!s?r.amountOut:SqrtPriceMath.getAmount0Delta(e,r.sqrtRatioNextX96,n,!1)),!s&&r.amountOut>i*eO&&(r.amountOut=i*eO),s&&r.sqrtRatioNextX96!==t?r.feeAmount=i-r.amountIn:r.feeAmount=FullMath.mulDivRoundingUp(r.amountIn,BigInt(a),eL-BigInt(a)),[r.sqrtRatioNextX96,r.amountIn,r.amountOut,r.feeAmount]}constructor(){}};let eV=[128,64,32,16,8,4,2,1].map(e=>[e,2n**BigInt(e)]);function mulShift(e,t){return e*BigInt(t)>>128n}let ez=2n**32n;let tickMath_TickMath=class tickMath_TickMath{static getSqrtRatioAtTick(e){(0,x.Z)(e>=tickMath_TickMath.MIN_TICK&&e<=tickMath_TickMath.MAX_TICK&&Number.isInteger(e),"TICK");let t=e<0?-1*e:e,n=(1&t)!=0?BigInt("0xfffcb933bd6fad37aa2d162d1a594001"):BigInt("0x100000000000000000000000000000000");return(2&t)!=0&&(n=mulShift(n,"0xfff97272373d413259a46990580e213a")),(4&t)!=0&&(n=mulShift(n,"0xfff2e50f5f656932ef12357cf3c7fdcc")),(8&t)!=0&&(n=mulShift(n,"0xffe5caca7e10e4e61c3624eaa0941cd0")),(16&t)!=0&&(n=mulShift(n,"0xffcb9843d60f6159c9db58835c926644")),(32&t)!=0&&(n=mulShift(n,"0xff973b41fa98c081472e6896dfb254c0")),(64&t)!=0&&(n=mulShift(n,"0xff2ea16466c96a3843ec78b326b52861")),(128&t)!=0&&(n=mulShift(n,"0xfe5dee046a99a2a811c461f1969c3053")),(256&t)!=0&&(n=mulShift(n,"0xfcbe86c7900a88aedcffc83b479aa3a4")),(512&t)!=0&&(n=mulShift(n,"0xf987a7253ac413176f2b074cf7815e54")),(1024&t)!=0&&(n=mulShift(n,"0xf3392b0822b70005940c7a398e4b70f3")),(2048&t)!=0&&(n=mulShift(n,"0xe7159475a2c29b7443b29c7fa6e889d9")),(4096&t)!=0&&(n=mulShift(n,"0xd097f3bdfd2022b8845ad8f792aa5825")),(8192&t)!=0&&(n=mulShift(n,"0xa9f746462d870fdf8a65dc1f90e061e5")),(16384&t)!=0&&(n=mulShift(n,"0x70d869a156d2a1b890bb3df62baf32f7")),(32768&t)!=0&&(n=mulShift(n,"0x31be135f97d08fd981231505542fcfa6")),(65536&t)!=0&&(n=mulShift(n,"0x9aa508b5b7a84e1c677de54f3e99bc9")),(131072&t)!=0&&(n=mulShift(n,"0x5d6af8dedb81196699c329225ee604")),(262144&t)!=0&&(n=mulShift(n,"0x2216e584f5fa1ea926041bedfe98")),(524288&t)!=0&&(n=mulShift(n,"0x48a170391f7dc42444e8fa2")),e>0&&(n=E/n),n%ez>0n?n/ez+1n:n/ez}static getTickAtSqrtRatio(e){let t;(0,x.Z)(e>=tickMath_TickMath.MIN_SQRT_RATIO&&e<tickMath_TickMath.MAX_SQRT_RATIO,"SQRT_RATIO");let n=e<<32n,i=function(e){(0,x.Z)(e>0n,"ZERO"),(0,x.Z)(e<=E,"MAX");let t=0;for(let[n,i]of eV)e>=i&&(e>>=BigInt(n),t+=n);return t}(n);t=BigInt(i)>=128n?n>>BigInt(i-127):n<<BigInt(127-i);let a=BigInt(i)-128n<<64n;for(let e=0;e<14;e++){t=t*t>>127n;let n=t>>128n;a|=n<<BigInt(63-e),t>>=n}let r=0x3627a301d71055774c85n*a,u=Number(r-0x28f6481ab7f045a5af012a19d003aaan>>128n),s=Number(r+0xdb2df09e81959a81455e260799a0632fn>>128n);return u===s?u:tickMath_TickMath.getSqrtRatioAtTick(s)<=e?s:u}constructor(){}};tickMath_TickMath.MIN_TICK=-887272,tickMath_TickMath.MAX_TICK=-tickMath_TickMath.MIN_TICK,tickMath_TickMath.MIN_SQRT_RATIO=4295128739n,tickMath_TickMath.MAX_SQRT_RATIO=0xfffd8963efd1fc6a506488495d951d5263988d26n;let NoTickDataProvider=class NoTickDataProvider{async getTick(e){throw Error(NoTickDataProvider.ERROR_MESSAGE)}async nextInitializedTickWithinOneWord(e,t,n){throw Error(NoTickDataProvider.ERROR_MESSAGE)}};function tickComparator(e,t){return e.index-t.index}NoTickDataProvider.ERROR_MESSAGE="No tick data provider was given";let TickList=class TickList{static validateList(e,t){(0,x.Z)(t>0,"TICK_SPACING_NONZERO"),(0,x.Z)(e.every(e=>{let{index:n}=e;return n%t==0}),"TICK_SPACING"),(0,x.Z)(0n===e.reduce((e,t)=>{let{liquidityNet:n}=t;return e+n},0n),"ZERO_NET"),(0,x.Z)(function(e,t){for(let n=0;n<e.length-1;n++)if(t(e[n],e[n+1])>0)return!1;return!0}(e,tickComparator),"SORTED")}static isBelowSmallest(e,t){return(0,x.Z)(e.length>0,"LENGTH"),t<e[0].index}static isAtOrAboveLargest(e,t){return(0,x.Z)(e.length>0,"LENGTH"),t>=e[e.length-1].index}static getTick(e,t){let n=e[this.binarySearch(e,t)];return(0,x.Z)(n.index===t,"NOT_CONTAINED"),n}static binarySearch(e,t){let n;(0,x.Z)(!this.isBelowSmallest(e,t),"BELOW_SMALLEST");let i=0,a=e.length-1;for(;;){if(e[n=Math.floor((i+a)/2)].index<=t&&(n===e.length-1||e[n+1].index>t))return n;e[n].index<t?i=n+1:a=n-1}}static nextInitializedTick(e,t,n){if(n){if((0,x.Z)(!TickList.isBelowSmallest(e,t),"BELOW_SMALLEST"),TickList.isAtOrAboveLargest(e,t))return e[e.length-1];let n=this.binarySearch(e,t);return e[n]}if((0,x.Z)(!this.isAtOrAboveLargest(e,t),"AT_OR_ABOVE_LARGEST"),this.isBelowSmallest(e,t))return e[0];let i=this.binarySearch(e,t);return e[i+1]}static nextInitializedTickWithinOneWord(e,t,n,i){let a=Math.floor(t/i);if(n){let r=(a>>8<<8)*i;if(TickList.isBelowSmallest(e,t))return[r,!1];let{index:u}=TickList.nextInitializedTick(e,t,n),s=Math.max(r,u);return[s,s===u]}let r=(((a+1>>8)+1<<8)-1)*i;if(this.isAtOrAboveLargest(e,t))return[r,!1];let{index:u}=this.nextInitializedTick(e,t,n),s=Math.min(r,u);return[s,s===u]}static countInitializedTicksCrossed(e,t,n){if(t===n)return 0;let i=this.binarySearch(e,t),a=this.binarySearch(e,n);return Math.abs(i-a)}constructor(){}};let Tick=class Tick{constructor({index:e,liquidityGross:t,liquidityNet:n}){(0,x.Z)(e>=tickMath_TickMath.MIN_TICK&&e<=tickMath_TickMath.MAX_TICK,"TICK"),this.index=e,this.liquidityGross=BigInt(t),this.liquidityNet=BigInt(n)}};let TickListDataProvider=class TickListDataProvider{async getTick(e){return TickList.getTick(this.ticks,e)}async nextInitializedTickWithinOneWord(e,t,n){return TickList.nextInitializedTickWithinOneWord(this.ticks,e,t,n)}constructor(e){let t=e.map(e=>e instanceof Tick?e:new Tick(e));this.ticks=t}};let eZ=new NoTickDataProvider;let pool_Pool=class pool_Pool{static getAddress(e,t,n,i,a){return computePoolAddress({deployerAddress:null!=a?a:eq[e.chainId],fee:n,tokenA:e,tokenB:t,initCodeHashManualOverride:i})}involvesToken(e){return e.equals(this.token0)||e.equals(this.token1)}get token0Price(){var e;return null!==(e=this._token0Price)&&void 0!==e?e:this._token0Price=new price_Price(this.token0,this.token1,eU,this.sqrtRatioX96*this.sqrtRatioX96)}get token1Price(){var e;return null!==(e=this._token1Price)&&void 0!==e?e:this._token1Price=new price_Price(this.token1,this.token0,this.sqrtRatioX96*this.sqrtRatioX96,eU)}priceOf(e){return(0,x.Z)(this.involvesToken(e),"TOKEN"),e.equals(this.token0)?this.token0Price:this.token1Price}get chainId(){return this.token0.chainId}async getOutputAmount(e,t){(0,x.Z)(this.involvesToken(e.currency),"TOKEN");let n=e.currency.equals(this.token0),{amountCalculated:i,sqrtRatioX96:a,liquidity:r,tickCurrent:u}=await this.swap(n,e.quotient,t),s=n?this.token1:this.token0;return[currencyAmount_CurrencyAmount.fromRawAmount(s,i*eO),new pool_Pool(this.token0,this.token1,this.fee,a,r,u,this.tickDataProvider)]}async getInputAmount(e,t){(0,x.Z)(e.currency.isToken&&this.involvesToken(e.currency),"TOKEN");let n=e.currency.equals(this.token1),{amountSpecifiedRemaining:i,amountCalculated:a,sqrtRatioX96:r,liquidity:u,tickCurrent:s}=await this.swap(n,e.quotient*eO,t);(0,x.Z)(0n===i,"INSUFICIENT_LIQUIDITY");let o=n?this.token0:this.token1;return[currencyAmount_CurrencyAmount.fromRawAmount(o,a),new pool_Pool(this.token0,this.token1,this.fee,r,u,s,this.tickDataProvider)]}async swap(e,t,n){n||(n=e?tickMath_TickMath.MIN_SQRT_RATIO+1n:tickMath_TickMath.MAX_SQRT_RATIO-1n),e?((0,x.Z)(n>tickMath_TickMath.MIN_SQRT_RATIO,"RATIO_MIN"),(0,x.Z)(n<this.sqrtRatioX96,"RATIO_CURRENT")):((0,x.Z)(n<tickMath_TickMath.MAX_SQRT_RATIO,"RATIO_MAX"),(0,x.Z)(n>this.sqrtRatioX96,"RATIO_CURRENT"));let i=t>=0n,a={amountSpecifiedRemaining:t,amountCalculated:0n,sqrtPriceX96:this.sqrtRatioX96,tick:this.tickCurrent,liquidity:this.liquidity};for(;0n!==a.amountSpecifiedRemaining&&a.sqrtPriceX96!=n;){let t={};if(t.sqrtPriceStartX96=a.sqrtPriceX96,[t.tickNext,t.initialized]=await this.tickDataProvider.nextInitializedTickWithinOneWord(a.tick,e,this.tickSpacing),t.tickNext<tickMath_TickMath.MIN_TICK?t.tickNext=tickMath_TickMath.MIN_TICK:t.tickNext>tickMath_TickMath.MAX_TICK&&(t.tickNext=tickMath_TickMath.MAX_TICK),t.sqrtPriceNextX96=tickMath_TickMath.getSqrtRatioAtTick(t.tickNext),[a.sqrtPriceX96,t.amountIn,t.amountOut,t.feeAmount]=SwapMath.computeSwapStep(a.sqrtPriceX96,(e?t.sqrtPriceNextX96<n:t.sqrtPriceNextX96>n)?n:t.sqrtPriceNextX96,a.liquidity,a.amountSpecifiedRemaining,this.fee),i?(a.amountSpecifiedRemaining=a.amountSpecifiedRemaining-(t.amountIn+t.feeAmount),a.amountCalculated=a.amountCalculated-t.amountOut):(a.amountSpecifiedRemaining=a.amountSpecifiedRemaining+t.amountOut,a.amountCalculated=a.amountCalculated+(t.amountIn+t.feeAmount)),a.sqrtPriceX96===t.sqrtPriceNextX96){if(t.initialized){let n=BigInt((await this.tickDataProvider.getTick(t.tickNext)).liquidityNet);e&&(n*=eO),a.liquidity=LiquidityMath.addDelta(a.liquidity,n)}a.tick=e?t.tickNext-1:t.tickNext}else a.sqrtPriceX96!==t.sqrtPriceStartX96&&(a.tick=tickMath_TickMath.getTickAtSqrtRatio(a.sqrtPriceX96))}return{amountSpecifiedRemaining:a.amountSpecifiedRemaining,amountCalculated:a.amountCalculated,sqrtRatioX96:a.sqrtPriceX96,liquidity:a.liquidity,tickCurrent:a.tick}}get tickSpacing(){return eN[this.fee]}constructor(e,t,n,i,a,r,u=eZ){(0,x.Z)(Number.isInteger(n)&&n<1e6,"FEE"),[this.token0,this.token1]=e.sortsBefore(t)?[e,t]:[t,e],this.fee=n,this.sqrtRatioX96=BigInt(i),this.liquidity=BigInt(a),this.tickCurrent=r,this.tickDataProvider=Array.isArray(u)?new TickListDataProvider(u):u}};function maxLiquidityForAmount0Imprecise(e,t,n){e>t&&(t=e=t);let i=e*t/eB;return BigInt(n)*i/(t-e)}function maxLiquidityForAmount0Precise(e,t,n){e>t&&(t=e=t);let i=BigInt(n)*e*t,a=eB*(t-e);return i/a}function maxLiquidityForAmount1(e,t,n){return e>t&&(t=e=t),BigInt(n)*eB/(t-e)}function maxLiquidityForAmounts(e,t,n,i,a,r){t>n&&(n=t=n);let u=r?maxLiquidityForAmount0Precise:maxLiquidityForAmount0Imprecise;if(e<=t)return u(t,n,i);if(e<n){let r=u(e,n,i),s=maxLiquidityForAmount1(t,e,a);return r<s?r:s}return maxLiquidityForAmount1(t,n,a)}function encodeSqrtRatioX96_encodeSqrtRatioX96(e,t){let n=BigInt(e)<<192n,i=BigInt(t);return sqrt(n/i)}function tickToPrice(e,t,n){let i=tickMath_TickMath.getSqrtRatioAtTick(n),a=i*i;return e.sortsBefore(t)?new price_Price(e,t,eU,a):new price_Price(e,t,a,eU)}let e$={getToken0Amount:function(e,t,n,i,a){return e<t?SqrtPriceMath.getAmount0Delta(tickMath_TickMath.getSqrtRatioAtTick(t),tickMath_TickMath.getSqrtRatioAtTick(n),a,!1):e<n?SqrtPriceMath.getAmount0Delta(i,tickMath_TickMath.getSqrtRatioAtTick(n),a,!1):0n},getToken1Amount:function(e,t,n,i,a){return e<t?0n:e<n?SqrtPriceMath.getAmount1Delta(tickMath_TickMath.getSqrtRatioAtTick(t),i,a,!1):SqrtPriceMath.getAmount1Delta(tickMath_TickMath.getSqrtRatioAtTick(t),tickMath_TickMath.getSqrtRatioAtTick(n),a,!1)}};let Position=class Position{get token0PriceLower(){return tickToPrice(this.pool.token0,this.pool.token1,this.tickLower)}get token0PriceUpper(){return tickToPrice(this.pool.token0,this.pool.token1,this.tickUpper)}get amount0(){return null===this._token0Amount&&(this._token0Amount=currencyAmount_CurrencyAmount.fromRawAmount(this.pool.token0,e$.getToken0Amount(this.pool.tickCurrent,this.tickLower,this.tickUpper,this.pool.sqrtRatioX96,this.liquidity))),this._token0Amount}get amount1(){return null===this._token1Amount&&(this._token1Amount=currencyAmount_CurrencyAmount.fromRawAmount(this.pool.token1,e$.getToken1Amount(this.pool.tickCurrent,this.tickLower,this.tickUpper,this.pool.sqrtRatioX96,this.liquidity))),this._token1Amount}ratiosAfterSlippage(e){let t=this.pool.token0Price.asFraction.multiply(new percent_Percent(1).subtract(e)),n=this.pool.token0Price.asFraction.multiply(e.add(1)),i=encodeSqrtRatioX96_encodeSqrtRatioX96(t.numerator,t.denominator);i<=tickMath_TickMath.MIN_SQRT_RATIO&&(i=tickMath_TickMath.MIN_SQRT_RATIO+1n);let a=encodeSqrtRatioX96_encodeSqrtRatioX96(n.numerator,n.denominator);return a>=tickMath_TickMath.MAX_SQRT_RATIO&&(a=tickMath_TickMath.MAX_SQRT_RATIO-1n),{sqrtRatioX96Lower:i,sqrtRatioX96Upper:a}}mintAmountsWithSlippage(e){let{sqrtRatioX96Upper:t,sqrtRatioX96Lower:n}=this.ratiosAfterSlippage(e),i=new pool_Pool(this.pool.token0,this.pool.token1,this.pool.fee,n,0,tickMath_TickMath.getTickAtSqrtRatio(n)),a=new pool_Pool(this.pool.token0,this.pool.token1,this.pool.fee,t,0,tickMath_TickMath.getTickAtSqrtRatio(t)),r=Position.fromAmounts({pool:this.pool,tickLower:this.tickLower,tickUpper:this.tickUpper,...this.mintAmounts,useFullPrecision:!1}),{amount0:u}=new Position({pool:a,liquidity:r.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts,{amount1:s}=new Position({pool:i,liquidity:r.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}).mintAmounts;return{amount0:u,amount1:s}}burnAmountsWithSlippage(e){let{sqrtRatioX96Upper:t,sqrtRatioX96Lower:n}=this.ratiosAfterSlippage(e),i=new pool_Pool(this.pool.token0,this.pool.token1,this.pool.fee,n,0,tickMath_TickMath.getTickAtSqrtRatio(n)),a=new pool_Pool(this.pool.token0,this.pool.token1,this.pool.fee,t,0,tickMath_TickMath.getTickAtSqrtRatio(t)),{amount0:r}=new Position({pool:a,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper}),{amount1:u}=new Position({pool:i,liquidity:this.liquidity,tickLower:this.tickLower,tickUpper:this.tickUpper});return{amount0:r.quotient,amount1:u.quotient}}get mintAmounts(){return null===this._mintAmounts?this.pool.tickCurrent<this.tickLower?{amount0:SqrtPriceMath.getAmount0Delta(tickMath_TickMath.getSqrtRatioAtTick(this.tickLower),tickMath_TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:0n}:this.pool.tickCurrent<this.tickUpper?{amount0:SqrtPriceMath.getAmount0Delta(this.pool.sqrtRatioX96,tickMath_TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0),amount1:SqrtPriceMath.getAmount1Delta(tickMath_TickMath.getSqrtRatioAtTick(this.tickLower),this.pool.sqrtRatioX96,this.liquidity,!0)}:{amount0:0n,amount1:SqrtPriceMath.getAmount1Delta(tickMath_TickMath.getSqrtRatioAtTick(this.tickLower),tickMath_TickMath.getSqrtRatioAtTick(this.tickUpper),this.liquidity,!0)}:this._mintAmounts}static fromAmounts(e){let{pool:t,tickLower:n,tickUpper:i,amount0:a,amount1:r,useFullPrecision:u}=e,s=tickMath_TickMath.getSqrtRatioAtTick(n),o=tickMath_TickMath.getSqrtRatioAtTick(i);return new Position({pool:t,tickLower:n,tickUpper:i,liquidity:maxLiquidityForAmounts(t.sqrtRatioX96,s,o,a,r,u)})}static fromAmount0(e){let{pool:t,tickLower:n,tickUpper:i,amount0:a,useFullPrecision:r}=e;return Position.fromAmounts({pool:t,tickLower:n,tickUpper:i,amount0:a,amount1:E,useFullPrecision:r})}static fromAmount1(e){let{pool:t,tickLower:n,tickUpper:i,amount1:a}=e;return Position.fromAmounts({pool:t,tickLower:n,tickUpper:i,amount0:E,amount1:a,useFullPrecision:!0})}constructor({pool:e,liquidity:t,tickLower:n,tickUpper:i}){this._token0Amount=null,this._token1Amount=null,this._mintAmounts=null,(0,x.Z)(n<i,"TICK_ORDER"),(0,x.Z)(n>=tickMath_TickMath.MIN_TICK&&n%e.tickSpacing==0,"TICK_LOWER"),(0,x.Z)(i<=tickMath_TickMath.MAX_TICK&&i%e.tickSpacing==0,"TICK_UPPER"),this.pool=e,this.tickLower=n,this.tickUpper=i,this.liquidity=BigInt(t)}};function calldata_toHex(e){let t=BigInt(e),n=t.toString(16);return n.length%2!=0&&(n=`0${n}`),`0x${n}`}function encodeRouteToPath(e,t){let n=e.input.wrapped,{path:i,types:a}=e.pools.reduce((e,t,n)=>{let{inputToken:i,path:a,types:r}=e,u=t.token0.equals(i)?t.token1:t.token0;return 0===n?{inputToken:u,types:["address","uint24","address"],path:[i.address,t.fee,u.address]}:{inputToken:u,types:[...r,"uint24","address"],path:[...a,t.fee,u.address]}},{inputToken:n,path:[],types:[]});return t?(0,ei._)(a.reverse(),i.reverse()):(0,ei._)(a,i)}let eQ={getEstimatedLPFee:function(e){let{amount:t,currency:n,...i}=e;return getEstimatedLPFeeByAmounts({...i,amountA:t,amountB:currencyAmount_CurrencyAmount.fromRawAmount(n,E)})},getEstimatedLPFeeByAmounts,getLiquidityFromTick:function(e,t){let n=0n;if(!(null==e?void 0:e.length)||t<e[0].index||t>e[e.length-1].index)return n;for(let a=0;a<e.length-1;++a){var i;n+=e[a].liquidityNet;let r=e[a].index,u=null===(i=e[a+1])||void 0===i?void 0:i.index;if(r<=t&&t<=u)break}return n},getLiquidityFromSqrtRatioX96:function(e,t){let n=tickMath_TickMath.getTickAtSqrtRatio(t);return eQ.getLiquidityFromTick(e,n)},getAverageLiquidity:function(e,t,n,i){if((0,x.Z)(n<=i,"INVALID_TICK_RANGE"),TickList.validateList(e,t),n===i)return eQ.getLiquidityFromTick(e,n);let a=n<e[0].index,r=a?new Tick({index:tickMath_TickMath.MIN_TICK,liquidityNet:0n,liquidityGross:0n}):TickList.nextInitializedTick(e,n,!0),u=TickList.nextInitializedTick(e,n,!1),s=a?0n:eQ.getLiquidityFromTick(e,u.index),o=0n,getWeightedLFromLastTickTo=e=>s*BigInt(e-Math.max(r.index,n));for(;u.index<i&&(o+=getWeightedLFromLastTickTo(u.index),s+=u.liquidityNet,r=u,u.index!==e[e.length-1].index);)u=TickList.nextInitializedTick(e,u.index,!1);return(o+=getWeightedLFromLastTickTo(i))/BigInt(i-n)},getLiquidityBySingleAmount:function(e){let{amount:t,currency:n,...i}=e;return getLiquidityByAmountsAndPrice({amountA:t,amountB:currencyAmount_CurrencyAmount.fromRawAmount(n,E),...i})},getDependentAmount:function(e){let{currency:t,amount:n,sqrtRatioX96:i,tickLower:a,tickUpper:r}=e,u=tickMath_TickMath.getTickAtSqrtRatio(i),s=eQ.getLiquidityBySingleAmount(e),o=t.wrapped.sortsBefore(n.currency.wrapped),p=o?e$.getToken0Amount:e$.getToken1Amount;if(s)return currencyAmount_CurrencyAmount.fromRawAmount(t,p(u,a,r,i,s))},getLiquidityByAmountsAndPrice,getAmountsByLiquidityAndPrice:function(e){let{currencyA:t,currencyB:n,liquidity:i,sqrtRatioX96:a,tickLower:r,tickUpper:u}=e,s=tickMath_TickMath.getTickAtSqrtRatio(a),o=t.wrapped.sortsBefore(n.wrapped),p=e$.getToken0Amount(s,r,u,a,i),l=e$.getToken1Amount(s,r,u,a,i);return[currencyAmount_CurrencyAmount.fromRawAmount(t,o?p:l),currencyAmount_CurrencyAmount.fromRawAmount(n,o?l:p)]},getAmountsAtNewPrice:function(e){let{newSqrtRatioX96:t,...n}=e,{tickLower:i,tickUpper:a,amountA:r,amountB:u}=n,s=eQ.getLiquidityByAmountsAndPrice(n);if(s)return eQ.getAmountsByLiquidityAndPrice({liquidity:s,currencyA:r.currency,currencyB:u.currency,tickLower:i,tickUpper:a,sqrtRatioX96:t})}};function getEstimatedLPFeeByAmounts(e){let{protocolFee:t=eD,...n}=e;try{let e=function(e){let{amountA:t,amountB:n,volume24H:i,sqrtRatioX96:a,tickLower:r,tickUpper:u,mostActiveLiquidity:s,fee:o,insidePercentage:p=eF}=e;(0,x.Z)(!Number.isNaN(o)&&o>=0,"INVALID_FEE");let l=tickMath_TickMath.getTickAtSqrtRatio(a);if(l<r||l>u)return new fraction_Fraction(0n);let y=eQ.getLiquidityByAmountsAndPrice({amountA:t,amountB:n,tickUpper:u,tickLower:r,sqrtRatioX96:a});if(!y)return new fraction_Fraction(0n);let d=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;if(Number.isNaN(e)||!Number.isFinite(e))return;let n=10**t;return new fraction_Fraction(BigInt(Math.floor(e*n)),BigInt(n))}(i)||new fraction_Fraction(0n);return p.multiply(d.multiply(BigInt(o)).multiply(y)).divide(eL*(y+s)).asFraction}(n);return eF.subtract(t).multiply(e).asFraction}catch(e){return console.error(e),new fraction_Fraction(0n)}}function getLiquidityByAmountsAndPrice(e){let{amountA:t,amountB:n,tickUpper:i,tickLower:a,sqrtRatioX96:r}=e,u=t.currency.wrapped.address===n.currency.wrapped.address||t.currency.wrapped.sortsBefore(n.currency.wrapped),[s,o]=u?[t.quotient,n.quotient]:[n.quotient,t.quotient],p=tickMath_TickMath.getSqrtRatioAtTick(a),l=tickMath_TickMath.getSqrtRatioAtTick(i);try{return maxLiquidityForAmounts(r,p,l,s,o,!0)}catch(e){console.error(e);return}}let eG=10n**4n;function parseProtocolFees(e){let t=Number(e);if(Number.isNaN(t))throw Error(`Invalid fee protocol ${e}`);return[new percent_Percent(t%65536,eG),new percent_Percent(t>>16,eG)]}var eK=n(55629);let Multicall=class Multicall{static encodeMulticall(e){return Array.isArray(e)||(e=[e]),1===e.length?e[0]:(0,eK.R)({abi:Multicall.ABI,functionName:"multicall",args:[e]})}constructor(){}};Multicall.ABI=[{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"}];let SelfPermit=class SelfPermit{static encodePermit(e,t){return"nonce"in t?(0,eK.R)({abi:SelfPermit.ABI,functionName:"selfPermitAllowed",args:[e.address,BigInt(t.nonce),BigInt(t.expiry),t.v,t.r,t.s]}):(0,eK.R)({abi:SelfPermit.ABI,functionName:"selfPermit",args:[e.address,BigInt(t.amount),BigInt(t.deadline),t.v,t.r,t.s]})}constructor(){}};SelfPermit.ABI=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"}];let Payments=class Payments{static encodeFeeBips(e){return e.multiply(1e4).quotient}static encodeUnwrapWETH9(e,t,n){if(t=utils_validateAndParseAddress(t),n){let i=this.encodeFeeBips(n.fee),a=utils_validateAndParseAddress(n.recipient);return(0,eK.R)({abi:Payments.ABI,functionName:"unwrapWETH9WithFee",args:[e,t,i,a]})}return(0,eK.R)({abi:Payments.ABI,functionName:"unwrapWETH9",args:[e,t]})}static encodeSweepToken(e,t,n,i){if(n=utils_validateAndParseAddress(n),i){let a=this.encodeFeeBips(i.fee),r=utils_validateAndParseAddress(i.recipient);return(0,eK.R)({abi:Payments.ABI,functionName:"sweepTokenWithFee",args:[e.address,t,n,a,r]})}return(0,eK.R)({abi:Payments.ABI,functionName:"sweepToken",args:[e.address,t,n]})}static encodeRefundETH(){return(0,eK.R)({abi:Payments.ABI,functionName:"refundETH"})}constructor(){}};Payments.ABI=[{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"}];let ej=2n**128n-1n;function isMint(e){return Object.keys(e).some(e=>"recipient"===e)}let NonfungiblePositionManager=class NonfungiblePositionManager{static encodeCreate(e){return(0,eK.R)({abi:NonfungiblePositionManager.ABI,functionName:"createAndInitializePoolIfNecessary",args:[e.token0.address,e.token1.address,e.fee,e.sqrtRatioX96]})}static createCallParameters(e){return{calldata:this.encodeCreate(e),value:calldata_toHex(0)}}static addCallParameters(e,t){(0,x.Z)(e.liquidity>0n,"ZERO_LIQUIDITY");let n=[],{amount0:i,amount1:a}=e.mintAmounts,r=e.mintAmountsWithSlippage(t.slippageTolerance),u=r.amount0,s=r.amount1,o=BigInt(t.deadline);if(isMint(t)&&t.createPool&&n.push(this.encodeCreate(e.pool)),t.token0Permit&&n.push(SelfPermit.encodePermit(e.pool.token0,t.token0Permit)),t.token1Permit&&n.push(SelfPermit.encodePermit(e.pool.token1,t.token1Permit)),isMint(t)){let r=utils_validateAndParseAddress(t.recipient);n.push((0,eK.R)({abi:NonfungiblePositionManager.ABI,functionName:"mint",args:[{token0:e.pool.token0.address,token1:e.pool.token1.address,fee:e.pool.fee,tickLower:e.tickLower,tickUpper:e.tickUpper,amount0Desired:i,amount1Desired:a,amount0Min:u,amount1Min:s,recipient:r,deadline:o}]}))}else n.push((0,eK.R)({abi:NonfungiblePositionManager.ABI,functionName:"increaseLiquidity",args:[{tokenId:BigInt(t.tokenId),amount0Desired:i,amount1Desired:a,amount0Min:u,amount1Min:s,deadline:o}]}));let p=calldata_toHex(0);if(t.useNative){let{wrapped:r}=t.useNative;(0,x.Z)(e.pool.token0.equals(r)||e.pool.token1.equals(r),"NO_WETH");let u=e.pool.token0.equals(r)?i:a;u>0n&&n.push(Payments.encodeRefundETH()),p=calldata_toHex(u)}return{calldata:Multicall.encodeMulticall(n),value:p}}static encodeCollect(e){let t=[],n=BigInt(e.tokenId),i=e.expectedCurrencyOwed0.currency.isNative||e.expectedCurrencyOwed1.currency.isNative,a=utils_validateAndParseAddress(e.recipient);if(t.push((0,eK.R)({abi:NonfungiblePositionManager.ABI,functionName:"collect",args:[{tokenId:n,recipient:i?eS:a,amount0Max:ej,amount1Max:ej}]})),i){let n=e.expectedCurrencyOwed0.currency.isNative?e.expectedCurrencyOwed0.quotient:e.expectedCurrencyOwed1.quotient,i=e.expectedCurrencyOwed0.currency.isNative?e.expectedCurrencyOwed1.currency:e.expectedCurrencyOwed0.currency,r=e.expectedCurrencyOwed0.currency.isNative?e.expectedCurrencyOwed1.quotient:e.expectedCurrencyOwed0.quotient;t.push(Payments.encodeUnwrapWETH9(n,a)),t.push(Payments.encodeSweepToken(i,r,a))}return t}static collectCallParameters(e){let t=NonfungiblePositionManager.encodeCollect(e);return{calldata:Multicall.encodeMulticall(t),value:calldata_toHex(0)}}static removeCallParameters(e,t){let n=[],i=BigInt(t.deadline),a=BigInt(t.tokenId),r=new Position({pool:e.pool,liquidity:t.liquidityPercentage.multiply(e.liquidity).quotient,tickLower:e.tickLower,tickUpper:e.tickUpper});(0,x.Z)(r.liquidity>0n,"ZERO_LIQUIDITY");let{amount0:u,amount1:s}=r.burnAmountsWithSlippage(t.slippageTolerance);t.permit&&n.push((0,eK.R)({abi:NonfungiblePositionManager.ABI,functionName:"permit",args:[utils_validateAndParseAddress(t.permit.spender),a,BigInt(t.permit.deadline),t.permit.v,t.permit.r,t.permit.s]})),n.push((0,eK.R)({abi:NonfungiblePositionManager.ABI,functionName:"decreaseLiquidity",args:[{tokenId:a,liquidity:r.liquidity,amount0Min:u,amount1Min:s,deadline:i}]}));let{expectedCurrencyOwed0:o,expectedCurrencyOwed1:p,...l}=t.collectOptions;return n.push(...NonfungiblePositionManager.encodeCollect({tokenId:calldata_toHex(t.tokenId),expectedCurrencyOwed0:o.add(currencyAmount_CurrencyAmount.fromRawAmount(o.currency,u)),expectedCurrencyOwed1:p.add(currencyAmount_CurrencyAmount.fromRawAmount(p.currency,s)),...l})),t.liquidityPercentage.equalTo(1n)?t.burnToken&&n.push((0,eK.R)({abi:NonfungiblePositionManager.ABI,functionName:"burn",args:[a]})):(0,x.Z)(!0!==t.burnToken,"CANNOT_BURN"),{calldata:Multicall.encodeMulticall(n),value:calldata_toHex(0)}}static safeTransferFromParameters(e){let t=utils_validateAndParseAddress(e.recipient),n=utils_validateAndParseAddress(e.sender);return{calldata:e.data?(0,eK.R)({abi:NonfungiblePositionManager.ABI,functionName:"safeTransferFrom",args:[n,t,BigInt(e.tokenId),e.data]}):(0,eK.R)({abi:NonfungiblePositionManager.ABI,functionName:"safeTransferFrom",args:[n,t,BigInt(e.tokenId)]}),value:calldata_toHex(0)}}constructor(){}};NonfungiblePositionManager.ABI=[{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"},{internalType:"address",name:"_tokenDescriptor_",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Collect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"DecreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"IncreaseLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"baseURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Max",type:"uint128"},{internalType:"uint128",name:"amount1Max",type:"uint128"}],internalType:"struct INonfungiblePositionManager.CollectParams",name:"params",type:"tuple"}],name:"collect",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"}],name:"createAndInitializePoolIfNecessary",outputs:[{internalType:"address",name:"pool",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.DecreaseLiquidityParams",name:"params",type:"tuple"}],name:"decreaseLiquidity",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManager.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Owed",type:"uint256"},{internalType:"uint256",name:"amount1Owed",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"pancakeV3MintCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"positions",outputs:[{internalType:"uint96",name:"nonce",type:"uint96"},{internalType:"address",name:"operator",type:"address"},{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];let SwapQuoter=class SwapQuoter{static quoteCallParameters(e,t,n){let i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=1===e.pools.length,u=t.quotient,s=a.useQuoterV2?this.V2ABI:this.V1ABI;if(r){var o;let t={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,sqrtPriceLimitX96:BigInt(null!==(o=null==a?void 0:a.sqrtPriceLimitX96)&&void 0!==o?o:0)},r={...t,...n===m.EXACT_INPUT?{amountIn:u}:{amount:u}},s=[t.tokenIn,t.tokenOut,t.fee,u,t.sqrtPriceLimitX96],p=n===m.EXACT_INPUT?"quoteExactInputSingle":"quoteExactOutputSingle";i=a.useQuoterV2?(0,eK.R)({abi:this.V2ABI,functionName:p,args:[r]}):(0,eK.R)({abi:this.V1ABI,functionName:p,args:s})}else{(0,x.Z)((null==a?void 0:a.sqrtPriceLimitX96)===void 0,"MULTIHOP_PRICE_LIMIT");let t=encodeRouteToPath(e,n===m.EXACT_OUTPUT),r=n===m.EXACT_INPUT?"quoteExactInput":"quoteExactOutput";i=(0,eK.R)({abi:s,functionName:r,args:[t,u]})}return{calldata:i,value:calldata_toHex(0)}}};SwapQuoter.V1ABI=[{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"pancakeV3SwapCallback",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],SwapQuoter.V2ABI=[{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"pancakeV3SwapCallback",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactInputSingleParams",name:"params",type:"tuple"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactOutputSingleParams",name:"params",type:"tuple"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"}];let Staker=class Staker{static encodeClaim(e,t){var n;let i=[];i.push((0,eK.R)({abi:Staker.ABI,functionName:"unstakeToken",args:[this._encodeIncentiveKey(e),BigInt(t.tokenId)]}));let a=utils_validateAndParseAddress(t.recipient),r=null!==(n=t.amount)&&void 0!==n?n:0;return i.push((0,eK.R)({abi:Staker.ABI,functionName:"claimReward",args:[e.rewardToken.address,a,BigInt(r)]})),i}static collectRewards(e,t){e=Array.isArray(e)?e:[e];let n=[];for(let i=0;i<e.length;i++){let a=e[i];(n=n.concat(this.encodeClaim(a,t))).push((0,eK.R)({abi:Staker.ABI,functionName:"stakeToken",args:[this._encodeIncentiveKey(a),BigInt(t.tokenId)]}))}return{calldata:Multicall.encodeMulticall(n),value:calldata_toHex(0)}}static withdrawToken(e,t){let n=[];e=Array.isArray(e)?e:[e];let i={tokenId:t.tokenId,recipient:t.recipient,amount:t.amount};for(let t=0;t<e.length;t++){let a=e[t];n=n.concat(this.encodeClaim(a,i))}let a=utils_validateAndParseAddress(t.owner);return n.push((0,eK.R)({abi:Staker.ABI,functionName:"withdrawToken",args:[BigInt(t.tokenId),a,calldata_toHex(0)]})),{calldata:Multicall.encodeMulticall(n),value:calldata_toHex(0)}}static encodeDeposit(e){let t;if((e=Array.isArray(e)?e:[e]).length>1){let n=[];for(let t=0;t<e.length;t++){let i=e[t];n.push(this._encodeIncentiveKey(i))}t=(0,eH.E)((0,eX.n)([`${Staker.INCENTIVE_KEY_ABI}[]`]),[n])}else t=(0,eH.E)((0,eX.n)(Staker.INCENTIVE_KEY_ABI),[this._encodeIncentiveKey(e[0])]);return t}static _encodeIncentiveKey(e){let{token0:t,token1:n,fee:i}=e.pool,a=utils_validateAndParseAddress(e.refundee);return{rewardToken:e.rewardToken.address,pool:pool_Pool.getAddress(t,n,i),startTime:BigInt(e.startTime),endTime:BigInt(e.endTime),refundee:a}}constructor(){}};Staker.ABI=[{inputs:[{internalType:"contract IUniswapV3Factory",name:"_factory",type:"address"},{internalType:"contract INonfungiblePositionManager",name:"_nonfungiblePositionManager",type:"address"},{internalType:"uint256",name:"_maxIncentiveStartLeadTime",type:"uint256"},{internalType:"uint256",name:"_maxIncentiveDuration",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"address",name:"oldOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"DepositTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{indexed:!0,internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"},{indexed:!1,internalType:"address",name:"refundee",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"IncentiveCreated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"incentiveId",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"refund",type:"uint256"}],name:"IncentiveEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"RewardClaimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"incentiveId",type:"bytes32"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"}],name:"TokenStaked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!0,internalType:"bytes32",name:"incentiveId",type:"bytes32"}],name:"TokenUnstaked",type:"event"},{inputs:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amountRequested",type:"uint256"}],name:"claimReward",outputs:[{internalType:"uint256",name:"reward",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"reward",type:"uint256"}],name:"createIncentive",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"deposits",outputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint48",name:"numberOfStakes",type:"uint48"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"}],name:"endIncentive",outputs:[{internalType:"uint256",name:"refund",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"contract IUniswapV3Factory",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getRewardInfo",outputs:[{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"uint160",name:"secondsInsideX128",type:"uint160"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"incentives",outputs:[{internalType:"uint256",name:"totalRewardUnclaimed",type:"uint256"},{internalType:"uint160",name:"totalSecondsClaimedX128",type:"uint160"},{internalType:"uint96",name:"numberOfStakes",type:"uint96"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxIncentiveDuration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxIncentiveStartLeadTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"nonfungiblePositionManager",outputs:[{internalType:"contract INonfungiblePositionManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"from",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20Minimal",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"rewards",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"stakeToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes32",name:"incentiveId",type:"bytes32"}],name:"stakes",outputs:[{internalType:"uint160",name:"secondsPerLiquidityInsideInitialX128",type:"uint160"},{internalType:"uint128",name:"liquidity",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"transferDeposit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"contract IERC20Minimal",name:"rewardToken",type:"address"},{internalType:"contract IUniswapV3Pool",name:"pool",type:"address"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"},{internalType:"address",name:"refundee",type:"address"}],internalType:"struct IUniswapV3Staker.IncentiveKey",name:"key",type:"tuple"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"unstakeToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"withdrawToken",outputs:[],stateMutability:"nonpayable",type:"function"}],Staker.INCENTIVE_KEY_ABI="tuple(address rewardToken, address pool, uint256 startTime, uint256 endTime, address refundee)";let SwapRouter=class SwapRouter{static swapCallParameters(e,t){Array.isArray(e)||(e=[e]);let n=e[0],i=n.inputAmount.currency.wrapped,a=n.outputAmount.currency.wrapped;(0,x.Z)(e.every(e=>e.inputAmount.currency.wrapped.equals(i)),"TOKEN_IN_DIFF"),(0,x.Z)(e.every(e=>e.outputAmount.currency.wrapped.equals(a)),"TOKEN_OUT_DIFF");let r=[],u=currencyAmount_CurrencyAmount.fromRawAmount(e[0].inputAmount.currency,0),s=currencyAmount_CurrencyAmount.fromRawAmount(e[0].outputAmount.currency,0),o=e.reduce((e,n)=>e.add(n.minimumAmountOut(t.slippageTolerance)),s),p=n.inputAmount.currency.isNative&&n.tradeType===m.EXACT_OUTPUT,l=n.inputAmount.currency.isNative,y=n.outputAmount.currency.isNative,d=y||!!t.fee,c=l?e.reduce((e,n)=>e.add(n.maximumAmountIn(t.slippageTolerance)),u):u;t.inputTokenPermit&&((0,x.Z)(n.inputAmount.currency.isToken,"NON_TOKEN_PERMIT"),r.push(SelfPermit.encodePermit(n.inputAmount.currency,t.inputTokenPermit)));let T=utils_validateAndParseAddress(t.recipient),f=BigInt(t.deadline);for(let n of e)for(let{route:e,inputAmount:i,outputAmount:a}of n.swaps){let u=BigInt(n.maximumAmountIn(t.slippageTolerance,i).quotient),s=BigInt(n.minimumAmountOut(t.slippageTolerance,a).quotient),o=1===e.pools.length;if(o){var b,h;if(n.tradeType===m.EXACT_INPUT){let n={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,recipient:d?eS:T,deadline:f,amountIn:u,amountOutMinimum:s,sqrtPriceLimitX96:BigInt(null!==(b=t.sqrtPriceLimitX96)&&void 0!==b?b:0)};r.push((0,eK.R)({abi:SwapRouter.ABI,functionName:"exactInputSingle",args:[n]}))}else{let n={tokenIn:e.tokenPath[0].address,tokenOut:e.tokenPath[1].address,fee:e.pools[0].fee,recipient:d?eS:T,deadline:f,amountOut:s,amountInMaximum:u,sqrtPriceLimitX96:BigInt(null!==(h=t.sqrtPriceLimitX96)&&void 0!==h?h:0)};r.push((0,eK.R)({abi:SwapRouter.ABI,functionName:"exactOutputSingle",args:[n]}))}}else{(0,x.Z)(void 0===t.sqrtPriceLimitX96,"MULTIHOP_PRICE_LIMIT");let i=encodeRouteToPath(e,n.tradeType===m.EXACT_OUTPUT);if(n.tradeType===m.EXACT_INPUT){let e={path:i,recipient:d?eS:T,deadline:f,amountIn:u,amountOutMinimum:s};r.push((0,eK.R)({abi:SwapRouter.ABI,functionName:"exactInput",args:[e]}))}else{let e={path:i,recipient:d?eS:T,deadline:f,amountOut:s,amountInMaximum:u};r.push((0,eK.R)({abi:SwapRouter.ABI,functionName:"exactOutput",args:[e]}))}}}return d&&(t.fee?y?r.push(Payments.encodeUnwrapWETH9(o.quotient,T,t.fee)):r.push(Payments.encodeSweepToken(n.outputAmount.currency.wrapped,o.quotient,T,t.fee)):r.push(Payments.encodeUnwrapWETH9(o.quotient,T))),p&&r.push(Payments.encodeRefundETH()),{calldata:Multicall.encodeMulticall(r),value:calldata_toHex(c.quotient)}}constructor(){}};SwapRouter.ABI=[{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct ISwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct ISwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct ISwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct ISwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"pancakeV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];let MasterChefV3=class MasterChefV3{static addCallParameters(e,t){(0,x.Z)(e.liquidity>0n,"ZERO_LIQUIDITY");let n=[],{amount0:i,amount1:a}=e.mintAmounts,r=e.mintAmountsWithSlippage(t.slippageTolerance),u=BigInt(r.amount0),s=BigInt(r.amount1),o=BigInt(t.deadline);(0,x.Z)(!isMint(t),"NO_MINT_SUPPORT"),t.token0Permit&&n.push(SelfPermit.encodePermit(e.pool.token0,t.token0Permit)),t.token1Permit&&n.push(SelfPermit.encodePermit(e.pool.token1,t.token1Permit)),n.push((0,eK.R)({abi:MasterChefV3.ABI,functionName:"increaseLiquidity",args:[{tokenId:BigInt(t.tokenId),amount0Desired:i,amount1Desired:a,amount0Min:u,amount1Min:s,deadline:o}]}));let p=calldata_toHex(0);if(t.useNative){let{wrapped:n}=t.useNative;(0,x.Z)(e.pool.token0.equals(n)||e.pool.token1.equals(n),"NO_WETH");let r=e.pool.token0.equals(n)?i:a;p=calldata_toHex(r)}return{calldata:Multicall.encodeMulticall(n),value:p}}static encodeCollect(e){let t=[],n=BigInt(e.tokenId),i=e.expectedCurrencyOwed0.currency.isNative||e.expectedCurrencyOwed1.currency.isNative,a=utils_validateAndParseAddress(e.recipient);if(t.push((0,eK.R)({abi:MasterChefV3.ABI,functionName:"collect",args:[{tokenId:n,recipient:i?eS:a,amount0Max:ej,amount1Max:ej}]})),i){let n=e.expectedCurrencyOwed0.currency.isNative?e.expectedCurrencyOwed0.quotient:e.expectedCurrencyOwed1.quotient,i=e.expectedCurrencyOwed0.currency.isNative?e.expectedCurrencyOwed1.currency:e.expectedCurrencyOwed0.currency,r=e.expectedCurrencyOwed0.currency.isNative?e.expectedCurrencyOwed1.quotient:e.expectedCurrencyOwed0.quotient;t.push(Payments.encodeUnwrapWETH9(n,a)),t.push(Payments.encodeSweepToken(i,r,a))}return t}static collectCallParameters(e){let t=MasterChefV3.encodeCollect(e);return{calldata:Multicall.encodeMulticall(t),value:calldata_toHex(0)}}static removeCallParameters(e,t){let n=[],i=BigInt(t.deadline),a=BigInt(t.tokenId),r=new Position({pool:e.pool,liquidity:t.liquidityPercentage.multiply(e.liquidity).quotient,tickLower:e.tickLower,tickUpper:e.tickUpper});(0,x.Z)(r.liquidity>0n,"ZERO_LIQUIDITY");let{amount0:u,amount1:s}=r.burnAmountsWithSlippage(t.slippageTolerance);if(t.permit)throw Error("NOT_IMPLEMENTED");n.push((0,eK.R)({abi:MasterChefV3.ABI,functionName:"decreaseLiquidity",args:[{tokenId:a,liquidity:r.liquidity,amount0Min:u,amount1Min:s,deadline:i}]}));let{expectedCurrencyOwed0:o,expectedCurrencyOwed1:p,...l}=t.collectOptions;return n.push(...MasterChefV3.encodeCollect({tokenId:calldata_toHex(t.tokenId),expectedCurrencyOwed0:o.add(currencyAmount_CurrencyAmount.fromRawAmount(o.currency,u)),expectedCurrencyOwed1:p.add(currencyAmount_CurrencyAmount.fromRawAmount(p.currency,s)),...l})),(null==l?void 0:l.recipient)&&(t.liquidityPercentage.equalTo(1n)?n.push((0,eK.R)({abi:MasterChefV3.ABI,functionName:"withdraw",args:[a,utils_validateAndParseAddress(null==l?void 0:l.recipient)]})):n.push((0,eK.R)({abi:MasterChefV3.ABI,functionName:"harvest",args:[a,utils_validateAndParseAddress(null==l?void 0:l.recipient)]}))),t.liquidityPercentage.equalTo(1n)?t.burnToken&&n.push((0,eK.R)({abi:MasterChefV3.ABI,functionName:"burn",args:[a]})):(0,x.Z)(!0!==t.burnToken,"CANNOT_BURN"),{calldata:Multicall.encodeMulticall(n),value:calldata_toHex(0)}}static harvestCallParameters(e){let t=this.encodeHarvest(e);return{calldata:Multicall.encodeMulticall(t),value:calldata_toHex(0)}}static batchHarvestCallParameters(e){let t=e.map(e=>this.encodeHarvest(e)).flat();return{calldata:Multicall.encodeMulticall(t),value:calldata_toHex(0)}}static encodeHarvest(e){let{tokenId:t,to:n}=e,i=[];return i.push((0,eK.R)({abi:MasterChefV3.ABI,functionName:"harvest",args:[BigInt(t),utils_validateAndParseAddress(n)]})),i}static withdrawCallParameters(e){let{tokenId:t,to:n}=e,i=[];return i.push((0,eK.R)({abi:MasterChefV3.ABI,functionName:"withdraw",args:[BigInt(t),utils_validateAndParseAddress(n)]})),{calldata:Multicall.encodeMulticall(i),value:calldata_toHex(0)}}constructor(){}};MasterChefV3.ABI=[{inputs:[{internalType:"contract IERC20",name:"_GVR",type:"address"},{internalType:"contract INonfungiblePositionManager",name:"_nonfungiblePositionManager",type:"address"},{internalType:"address",name:"_WETH",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"uint256",name:"pid",type:"uint256"}],name:"DuplicatedPool",type:"error"},{inputs:[],name:"InconsistentAmount",type:"error"},{inputs:[],name:"InsufficientAmount",type:"error"},{inputs:[],name:"InvalidNFT",type:"error"},{inputs:[],name:"InvalidPeriodDuration",type:"error"},{inputs:[],name:"InvalidPid",type:"error"},{inputs:[],name:"NoBalance",type:"error"},{inputs:[],name:"NoLMPool",type:"error"},{inputs:[],name:"NoLiquidity",type:"error"},{inputs:[],name:"NotEmpty",type:"error"},{inputs:[],name:"NotOwner",type:"error"},{inputs:[],name:"NotOwnerOrOperator",type:"error"},{inputs:[],name:"NotPancakeNFT",type:"error"},{inputs:[],name:"WrongReceiver",type:"error"},{inputs:[],name:"ZeroAddress",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"allocPoint",type:"uint256"},{indexed:!0,internalType:"contract IPancakeV3Pool",name:"v3Pool",type:"address"},{indexed:!0,internalType:"contract ILMPool",name:"lmPool",type:"address"}],name:"AddPool",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"liquidity",type:"uint256"},{indexed:!1,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!1,internalType:"int24",name:"tickUpper",type:"int24"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"reward",type:"uint256"}],name:"Harvest",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"deployer",type:"address"}],name:"NewLMPoolDeployerAddress",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"operator",type:"address"}],name:"NewOperatorAddress",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"periodDuration",type:"uint256"}],name:"NewPeriodDuration",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"receiver",type:"address"}],name:"NewReceiver",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"periodNumber",type:"uint256"},{indexed:!1,internalType:"uint256",name:"startTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"endTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"cakePerSecond",type:"uint256"},{indexed:!1,internalType:"uint256",name:"cakeAmount",type:"uint256"}],name:"NewUpkeepPeriod",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bool",name:"emergency",type:"bool"}],name:"SetEmergency",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!1,internalType:"uint256",name:"allocPoint",type:"uint256"}],name:"SetPool",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"farmBoostContract",type:"address"}],name:"UpdateFarmBoostContract",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"int128",name:"liquidity",type:"int128"},{indexed:!1,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!1,internalType:"int24",name:"tickUpper",type:"int24"}],name:"UpdateLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"periodNumber",type:"uint256"},{indexed:!1,internalType:"uint256",name:"oldEndTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newEndTime",type:"uint256"},{indexed:!1,internalType:"uint256",name:"remainingCake",type:"uint256"}],name:"UpdateUpkeepPeriod",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"pid",type:"uint256"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Withdraw",type:"event"},{inputs:[],name:"BOOST_PRECISION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"CAKE",outputs:[{internalType:"contract IERC20",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"FARM_BOOSTER",outputs:[{internalType:"contract IFarmBooster",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"LMPoolDeployer",outputs:[{internalType:"contract ILMPoolDeployer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_BOOST_PRECISION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERIOD_DURATION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PRECISION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"WETH",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_allocPoint",type:"uint256"},{internalType:"contract IPancakeV3Pool",name:"_v3Pool",type:"address"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"add",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cakeAmountBelongToMC",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Max",type:"uint128"},{internalType:"uint128",name:"amount1Max",type:"uint128"}],internalType:"struct INonfungiblePositionManagerStruct.CollectParams",name:"params",type:"tuple"}],name:"collect",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Max",type:"uint128"},{internalType:"uint128",name:"amount1Max",type:"uint128"}],internalType:"struct INonfungiblePositionManagerStruct.CollectParams",name:"params",type:"tuple"},{internalType:"address",name:"to",type:"address"}],name:"collectTo",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManagerStruct.DecreaseLiquidityParams",name:"params",type:"tuple"}],name:"decreaseLiquidity",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"emergency",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_v3Pool",type:"address"}],name:"getLatestPeriodInfo",outputs:[{internalType:"uint256",name:"cakePerSecond",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"}],name:"getLatestPeriodInfoByPid",outputs:[{internalType:"uint256",name:"cakePerSecond",type:"uint256"},{internalType:"uint256",name:"endTime",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"harvest",outputs:[{internalType:"uint256",name:"reward",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Desired",type:"uint256"},{internalType:"uint256",name:"amount1Desired",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"}],internalType:"struct INonfungiblePositionManagerStruct.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"latestPeriodCakePerSecond",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestPeriodEndTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestPeriodNumber",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"latestPeriodStartTime",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"nonfungiblePositionManager",outputs:[{internalType:"contract INonfungiblePositionManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"_from",type:"address"},{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"operatorAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"pendingCake",outputs:[{internalType:"uint256",name:"reward",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"poolInfo",outputs:[{internalType:"uint256",name:"allocPoint",type:"uint256"},{internalType:"contract IPancakeV3Pool",name:"v3Pool",type:"address"},{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint256",name:"totalLiquidity",type:"uint256"},{internalType:"uint256",name:"totalBoostLiquidity",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"poolLength",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"receiver",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_pid",type:"uint256"},{internalType:"uint256",name:"_allocPoint",type:"uint256"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"set",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bool",name:"_emergency",type:"bool"}],name:"setEmergency",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract ILMPoolDeployer",name:"_LMPoolDeployer",type:"address"}],name:"setLMPoolDeployer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_operatorAddress",type:"address"}],name:"setOperator",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_periodDuration",type:"uint256"}],name:"setPeriodDuration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_receiver",type:"address"}],name:"setReceiver",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"index",type:"uint256"}],name:"tokenOfOwnerByIndex",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalAllocPoint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"uint256",name:"_newMultiplier",type:"uint256"}],name:"updateBoostMultiplier",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newFarmBoostContract",type:"address"}],name:"updateFarmBoostContract",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"updateLiquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[]",name:"pids",type:"uint256[]"}],name:"updatePools",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256",name:"_duration",type:"uint256"},{internalType:"bool",name:"_withUpdate",type:"bool"}],name:"upkeep",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"userPositionInfos",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint128",name:"boostLiquidity",type:"uint128"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"rewardGrowthInside",type:"uint256"},{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"pid",type:"uint256"},{internalType:"uint256",name:"boostMultiplier",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"v3PoolAddressPid",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_tokenId",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"withdraw",outputs:[{internalType:"uint256",name:"reward",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}];var utils_tryParseAmount=function(e,t){if(e&&t)try{let n=(function(e,t){let[n,i="0"]=e.split("."),a=n.startsWith("-");if(a&&(n=n.slice(1)),i=i.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${i}`))&&(n=`${BigInt(n)+1n}`),i="";else if(i.length>t){let[e,a,r]=[i.slice(0,t-1),i.slice(t-1,t),i.slice(t)],u=Math.round(Number(`${a}.${r}`));(i=u>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${u}`).length>t&&(i=i.slice(1),n=`${BigInt(n)+1n}`),i=i.slice(0,t)}else i=i.padEnd(t,"0");return BigInt(`${a?"-":""}${n}${i}`)})(e,t.decimals).toString();if("0"!==n)return currencyAmount_CurrencyAmount.fromRawAmount(t,BigInt(n))}catch(t){console.debug(`Failed to parse input amount: "${e}"`,t)}};function isV2Pool(e){return e.type===b.V2}function isV3Pool(e){return e.type===b.V3}function isStablePool(e){return e.type===b.STABLE&&e.balances.length>=2}function involvesCurrency(e,t){let n=t.wrapped;if(isV2Pool(e)){let{reserve0:t,reserve1:i}=e;return t.currency.equals(n)||i.currency.equals(n)}if(isV3Pool(e)){let{token0:t,token1:i}=e;return t.equals(n)||i.equals(n)}if(isStablePool(e)){let{balances:t}=e;return t.some(e=>e.currency.equals(n))}return!1}function getOutputCurrency(e,t){let n=t.wrapped;if(isV2Pool(e)){let{reserve0:t,reserve1:i}=e;return t.currency.equals(n)?i.currency:t.currency}if(isV3Pool(e)){let{token0:t,token1:i}=e;return t.equals(n)?i:t}if(isStablePool(e)){let{balances:t}=e;return t[0].currency.equals(n)?t[1].currency:t[0].currency}throw Error("Cannot get output currency by invalid pool")}(o=b||(b={}))[o.V2=0]="V2",o[o.V3=1]="V3",o[o.STABLE=2]="STABLE",(p=h||(h={}))[p.V2=0]="V2",p[p.V3=1]="V3",p[p.STABLE=2]="STABLE",p[p.MIXED=3]="MIXED";let eY=A()(computePoolAddress,e=>{let{deployerAddress:t,tokenA:n,tokenB:i,fee:a}=e;return`${n.chainId}_${t}_${n.address}_${i.address}_${a}`}),eJ=A()(Pair.getAddress,(e,t)=>`${e.chainId}_${e.address}_${t.address}`),e2=A()(function(e){if(isStablePool(e)||isV3Pool(e))return e.address;if(isV2Pool(e)){let{reserve0:t,reserve1:n}=e;return eJ(t.currency.wrapped,n.currency.wrapped)}return""},e=>{if(isStablePool(e)){var t;let{balances:n}=e,i=n.map(e=>e.currency.wrapped.address);return`${e.type}_${null===(t=n[0])||void 0===t?void 0:t.currency.chainId}_${i.join("_")}`}let[n,i]=isV2Pool(e)?[e.reserve0.currency.wrapped,e.reserve1.currency.wrapped]:[e.token0.wrapped,e.token1.wrapped];return`${e.type}_${n.chainId}_${n.address}_${i.address}`});function getTokenPrice(e,t,n){if(isV3Pool(e)){let{token0:n,token1:i,fee:a,liquidity:r,sqrtRatioX96:u,tick:s}=e,o=new pool_Pool(n.wrapped,i.wrapped,a,u,r,s);return o.priceOf(t.wrapped)}if(isV2Pool(e)){let n=new Pair(e.reserve0.wrapped,e.reserve1.wrapped);return n.priceOf(t.wrapped)}if(isStablePool(e)){let{amplifier:i,balances:a,fee:r}=e,u=utils_tryParseAmount("1",t);if(!u)throw Error(`Cannot parse amount for ${t.symbol}`);let s=getSwapOutput({amplifier:i,balances:a,fee:r,outputCurrency:n,amount:u});return new price_Price({baseAmount:u,quoteAmount:s})}return new price_Price(t,n,1n,0n)}function isCurrenciesSameChain(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];let a=null===(e=n[0])||void 0===e?void 0:e.chainId;for(let e of n)if(e.chainId!==a)return!1;return!0}function buildBaseRoute(e,t,n){let i=[t.wrapped],a=i[0],r=null,updateRouteType=(e,t)=>null===t?getRouteTypeFromPool(e):t===h.MIXED||t!==getRouteTypeFromPool(e)?h.MIXED:t;for(let t of e)a=getOutputCurrency(t,a),i.push(a),r=updateRouteType(t,r);if(null===r)throw Error("Invalid route type when constructing base route");return{path:i,pools:e,type:r,input:t,output:n}}function getRouteTypeFromPool(e){switch(e.type){case b.V2:return h.V2;case b.V3:return h.V3;case b.STABLE:return h.STABLE;default:return h.MIXED}}function encodeMixedRouteToPath(e,t){let n=e.input.wrapped,{path:i,types:a}=e.pools.reduce((e,t,n)=>{let{inputToken:i,path:a,types:r}=e,u=getOutputCurrency(t,i).wrapped,s=isV3Pool(t)?t.fee:8388608;return 0===n?{inputToken:u,types:["address","uint24","address"],path:[i.address,s,u.address]}:{inputToken:u,types:[...r,"uint24","address"],path:[...a,s,u.address]}},{inputToken:n,path:[],types:[]});return t?(0,ei._)(a.reverse(),i.reverse()):(0,ei._)(a,i)}function getUsdGasToken(e){var t,n;return null!==(n=null===(t=eP[e])||void 0===t?void 0:t[0])&&void 0!==n?n:null}function getNativeWrappedToken(e){var t;return null!==(t=G[e])&&void 0!==t?t:null}function maximumAmountIn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.inputAmount;if(e.tradeType===m.EXACT_INPUT)return n;let i=new fraction_Fraction(1n).add(t).multiply(n.quotient).quotient;return currencyAmount_CurrencyAmount.fromRawAmount(n.currency,i)}function minimumAmountOut(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.outputAmount;if(e.tradeType===m.EXACT_OUTPUT)return n;let i=new fraction_Fraction(1n).add(t).invert().multiply(n.quotient).quotient;return currencyAmount_CurrencyAmount.fromRawAmount(n.currency,i)}var e0=n(11227),e6=n.n(e0);let e5=e6()("smart-router:metric");function serializeCurrency(e){return{address:e.isNative?eS:e.wrapped.address,decimals:e.decimals,symbol:e.symbol}}function serializeCurrencyAmount(e){return{currency:serializeCurrency(e.currency),value:e.quotient.toString()}}function serializePool(e){if(isV2Pool(e))return{...e,reserve0:serializeCurrencyAmount(e.reserve0),reserve1:serializeCurrencyAmount(e.reserve1)};if(isV3Pool(e))return{...e,token0:serializeCurrency(e.token0),token1:serializeCurrency(e.token1),liquidity:e.liquidity.toString(),sqrtRatioX96:e.sqrtRatioX96.toString(),token0ProtocolFee:e.token0ProtocolFee.toFixed(0),token1ProtocolFee:e.token1ProtocolFee.toFixed(0)};if(isStablePool(e))return{...e,balances:e.balances.map(serializeCurrencyAmount),amplifier:e.amplifier.toString(),fee:e.fee.toSignificant(6)};throw Error("Cannot serialize unsupoorted pool")}function serializeRoute(e){return{...e,pools:e.pools.map(serializePool),path:e.path.map(serializeCurrency),inputAmount:serializeCurrencyAmount(e.inputAmount),outputAmount:serializeCurrencyAmount(e.outputAmount)}}function serializeTrade(e){return{...e,inputAmount:serializeCurrencyAmount(e.inputAmount),outputAmount:serializeCurrencyAmount(e.outputAmount),routes:e.routes.map(serializeRoute),gasEstimate:e.gasEstimate.toString(),gasEstimateInUSD:serializeCurrencyAmount(e.gasEstimateInUSD)}}function parseCurrency(e,t){if(t.address===eS)return native_Native.onChain(e);let{address:n,decimals:i,symbol:a}=t;return new ERC20Token(e,n,i,a)}function parseCurrencyAmount(e,t){return currencyAmount_CurrencyAmount.fromRawAmount(parseCurrency(e,t.currency),t.value)}function parsePool(e,t){if(t.type===b.V2)return{...t,reserve0:parseCurrencyAmount(e,t.reserve0),reserve1:parseCurrencyAmount(e,t.reserve1)};if(t.type===b.V3)return{...t,token0:parseCurrency(e,t.token0),token1:parseCurrency(e,t.token1),liquidity:BigInt(t.liquidity),sqrtRatioX96:BigInt(t.sqrtRatioX96),token0ProtocolFee:new percent_Percent(t.token0ProtocolFee,100n),token1ProtocolFee:new percent_Percent(t.token1ProtocolFee,100n)};if(t.type===b.STABLE)return{...t,balances:t.balances.map(t=>parseCurrencyAmount(e,t)),amplifier:BigInt(t.amplifier),fee:new percent_Percent(1e6*parseFloat(t.fee),1000000n*100n)};throw Error("Cannot parse unsupoorted pool")}function parseRoute(e,t){return{...t,pools:t.pools.map(t=>parsePool(e,t)),path:t.path.map(t=>parseCurrency(e,t)),inputAmount:parseCurrencyAmount(e,t.inputAmount),outputAmount:parseCurrencyAmount(e,t.outputAmount)}}function parseTrade(e,t){return{...t,inputAmount:parseCurrencyAmount(e,t.inputAmount),outputAmount:parseCurrencyAmount(e,t.outputAmount),routes:t.routes.map(t=>parseRoute(e,t)),gasEstimate:BigInt(t.gasEstimate),gasEstimateInUSD:parseCurrencyAmount(e,t.gasEstimateInUSD)}}e6()("smart-router:log");let resolver=(e,t)=>{if(!e||!t||e.wrapped.equals(t.wrapped)){var n,i;return`${null==e?void 0:e.chainId}_${null==e?void 0:null===(n=e.wrapped)||void 0===n?void 0:n.address}_${null==t?void 0:null===(i=t.wrapped)||void 0===i?void 0:i.address}`}let[a,r]=e.wrapped.sortsBefore(t.wrapped)?[e.wrapped,t.wrapped]:[t.wrapped,e.wrapped];return`${a.chainId}_${a.address}_${r.address}`},e1=A()((e,t)=>{var n,i,a,r,u;let s=null==e?void 0:e.chainId;if(!s||!e||!t||!isCurrenciesSameChain(e,t))return[];let[o,p]=s?[wrappedCurrency(e,s),wrappedCurrency(t,s)]:[void 0,void 0];if(!o||!p)return[];let l=null!==(a=ek[s])&&void 0!==a?a:[],y=o&&null!==(r=null===(n=eg[s])||void 0===n?void 0:n[o.address])&&void 0!==r?r:[],d=p&&null!==(u=null===(i=eg[s])||void 0===i?void 0:i[p.address])&&void 0!==u?u:[];return[...l,...y,...d]},resolver),e3=A()((e,t)=>{let n=null==e?void 0:e.chainId;if(!n||!e||!t||!isCurrenciesSameChain(e,t))return[];let[i,a]=n?[wrappedCurrency(e,n),wrappedCurrency(t,n)]:[void 0,void 0];if(!i||!a)return[];let r=e1(e,t),u=es()(r,e=>r.map(t=>[e,t]));return[[i,a],...r.map(e=>[i,e]),...r.map(e=>[a,e]),...u].filter(e=>!!(e[0]&&e[1])).filter(e=>{let[t,n]=e;return!t.equals(n)}).filter(e=>{let[t,i]=e;if(!n)return!0;let a=ev[n],r=null==a?void 0:a[t.wrapped.address],u=null==a?void 0:a[i.wrapped.address];return!r&&!u||(!r||!!r.find(e=>i.equals(e)))&&(!u||!!u.find(e=>t.equals(e)))})},resolver);var e8=n(80937),e9=n.n(e8),e4=n(86937),e7=n.n(e4),te=n(66604),tt=n.n(te);let findFirstRouteNotUsingUsedPools=(e,t)=>{let n=new Set,i=es()(e,e=>{let{pools:t}=e;return t.map(e2)});for(let e of i)n.add(e);for(let e of t){let{pools:t}=e,i=t.map(e2);if(!i.some(e=>n.has(e)))return e}return null};var tn=n(12297),ti=n.n(tn);async function createGasModel(e){let{gasPriceWei:t,poolProvider:n,quoteCurrency:i,blockNumber:a}=e,{chainId:r}=i,u=getUsdGasToken(r);if(!u)throw Error(`No valid usd token found on chain ${r}`);let s=getNativeWrappedToken(r);if(!s)throw Error(`Unsupported chain ${r}. Native wrapped token not found.`);let o=BigInt("function"==typeof t?await t():t),[p,l]=await Promise.all([getHighestLiquidityUSDPool(n,r,a),getHighestLiquidityNativePool(n,i,a)]);return{estimateGasCost:(e,t)=>{let{pools:n}=e,{initializedTickCrossedList:a}=t,y=s.equals(i.wrapped),d=BigInt(Math.max(1,ti()(a))),m=new Set,c=0n;for(let e of n){let{type:t}=e;if(isV2Pool(e)){if(!m.has(t)){c+=135000n,m.add(t);continue}c+=50000n;continue}if(isV3Pool(e)){m.has(t)||(c+=BASE_SWAP_COST_V3(r),m.add(t)),c+=COST_PER_HOP_V3(r);continue}if(isStablePool(e)){if(!m.has(t)){c+=180000n,m.add(t);continue}c+=70000n;continue}}let T=COST_PER_INIT_TICK(r)*d;c=c+T+0n*0n;let f=o*c,b=currencyAmount_CurrencyAmount.fromRawAmount(s,f),h=currencyAmount_CurrencyAmount.fromRawAmount(i.wrapped,0),w=currencyAmount_CurrencyAmount.fromRawAmount(u,0);try{if(y&&(h=b),!y&&l){let e=getTokenPrice(l,s,i.wrapped);h=e.quote(b)}if(p){let e=getTokenPrice(p,s,u);w=e.quote(b)}}catch(e){}return{gasEstimate:c,gasCostInToken:h,gasCostInUSD:w}}}}async function getHighestLiquidityNativePool(e,t,n){var i;let a=getNativeWrappedToken(t.chainId);if(!a||t.wrapped.equals(a))return null;let r=await e.getCandidatePools({blockNumber:n,pairs:[[a,t]],currencyA:a,currencyB:t});return null!==(i=r[0])&&void 0!==i?i:null}async function getHighestLiquidityUSDPool(e,t,n){var i;let a=getUsdGasToken(t),r=getNativeWrappedToken(t);if(!a||!r)return null;let u=await e.getCandidatePools({blockNumber:n,pairs:[[r,a]],currencyA:r,currencyB:a});return null!==(i=u[0])&&void 0!==i?i:null}var ta=n(8400),tr=n.n(ta);async function getRoutesWithValidQuote(e){let{amount:t,baseRoutes:n,distributionPercent:i,quoteProvider:a,tradeType:r,blockNumber:u,gasModel:s,quoterOptimization:o=!0}=e,[p,l]=function(e,t){let n=[],i=[];for(let a=1;a<=100/t;a++)n.push(a*t),i.push(e.multiply(new fraction_Fraction(a*t,100)));return[n,i]}(t,i),y=l.reduce((e,t,i)=>[...e,...n.map(e=>({...e,amount:t,percent:p[i]}))],[]),d=r===m.EXACT_INPUT?a.getRouteWithQuotesExactIn:a.getRouteWithQuotesExactOut;if(!o)return d(y,{blockNumber:u,gasModel:s});let c=window.requestIdleCallback||window.setTimeout;e5("Get quotes","from",y.length,"routes",y);let T=tr()(y,10),f=await Promise.all(T.map(e=>new Promise((t,n)=>{c(async()=>{try{let n=await d(e,{blockNumber:u,gasModel:s});t(n)}catch(e){n(e)}})}))),b=f.reduce((e,t)=>[...e,...t],[]);return e5("Get quotes","success, got",b.length,"quoted routes",b),b}let tu={topN:2,topNDirectSwaps:2,topNTokenInOut:2,topNSecondHop:1,topNWithEachBaseToken:3,topNWithBaseToken:3},ts={[d.ETHEREUM]:{topN:2,topNDirectSwaps:2,topNTokenInOut:2,topNSecondHop:1,topNWithEachBaseToken:3,topNWithBaseToken:4}},to={[d.ETHEREUM]:{topN:3,topNDirectSwaps:2,topNTokenInOut:2,topNSecondHop:1,topNWithEachBaseToken:3,topNWithBaseToken:3}},tp={};async function getBestTrade(e,t,n,i){let{blockNumber:a}=i,r="function"==typeof a?await a():a,u=await getBestRoutes(e,t,n,{...i,blockNumber:r});if(!u||u.outputAmount.equalTo(0n))throw Error("Cannot find a valid swap route");let{routes:s,gasEstimateInUSD:o,gasEstimate:p,inputAmount:l,outputAmount:y}=u;return{tradeType:n,routes:s,gasEstimate:p,gasEstimateInUSD:o,inputAmount:l,outputAmount:y,blockNumber:r}}async function getBestRoutes(e,t,n,i){let{chainId:a}=t,{maxHops:r=3,maxSplits:u=4,distributionPercent:s=5,poolProvider:o,quoteProvider:p,blockNumber:l,gasPriceWei:y,allowedPoolTypes:d,quoterOptimization:c}={...i,...tp[a]||{}},T=n===m.EXACT_INPUT,f=T?e.currency:t,b=T?t:e.currency,w=await (null==o?void 0:o.getCandidatePools({currencyA:e.currency,currencyB:t,blockNumber:l,protocols:d})),k=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:3;e5("Computing routes from",n.length,"pools");let a=Array(n.length).fill(!1),r=[],computeRoutes=(e,t,u,s)=>{if(!(u.length>i)){if(u.length>0&&involvesCurrency(u[u.length-1],t)){r.push(buildBaseRoute([...u],e,t));return}for(let i=0;i<n.length;i++){if(a[i])continue;let r=n[i],o=s||e;if(!involvesCurrency(r,o))continue;let p=getOutputCurrency(r,o);u.push(r),a[i]=!0,computeRoutes(e,t,u,p),a[i]=!1,u.pop()}}};return computeRoutes(e,t,[]),e5("Computed routes from",n.length,"pools",r.length,"routes"),r}(f,b,w,r);n===m.EXACT_OUTPUT&&(k=k.filter(e=>{let{type:t}=e;return t!==h.MIXED}));let g=await createGasModel({gasPriceWei:y,poolProvider:o,quoteCurrency:t,blockNumber:l}),v=await getRoutesWithValidQuote({amount:e,baseRoutes:k,distributionPercent:s,quoteProvider:p,tradeType:n,blockNumber:l,gasModel:g,quoterOptimization:c});return function(e,t,n,i,a){let r=e.currency.chainId,u=[],s={};for(let e of n)s[e.percent]||(s[e.percent]=[],u.push(e.percent)),s[e.percent].push(e);let o=function(e,t,n,i,a,r){var u;let s,o,{maxSplits:p=4,minSplits:l=0}=r,y=tt()(t,t=>t.sort((t,n)=>e===m.EXACT_INPUT?a(t).greaterThan(a(n))?-1:1:a(t).lessThan(a(n))?-1:1)),d=e===m.EXACT_INPUT?(e,t)=>e.greaterThan(t):(e,t)=>e.lessThan(t),sumFn=e=>{let t=e[0];for(let n=1;n<e.length;n++)t=t.add(e[n]);return t},c=new(e9())(Array,(e,t)=>d(e.quote,t.quote)?-1:1,3);if(!y[100]||l>1)console.log({percentToSortedQuotes:tt()(y,e=>e.length)},"Did not find a valid route without any splits. Continuing search anyway.");else for(let e of(s=a(y[100][0]),o=[y[100][0]],y[100].slice(0,5)))c.push({quote:a(e),routes:[e]});let T=new(e7());for(let e=n.length;e>=0;e--){let t=n[e];y[t]&&(T.enqueue({curRoutes:[y[t][0]],percentIndex:e,remainingPercent:100-t,special:!1}),y[t]&&y[t][1]&&T.enqueue({curRoutes:[y[t][1]],percentIndex:e,remainingPercent:100-t,special:!0}))}let f=1;for(;T.size>0;){console.log({top5:Array.from(c.consume()).map(e=>`${e.quote.toExact()} (${e.routes.map(e=>`${e.percent}% ${e.amount.toExact()} ${e.pools.map(e=>isV2Pool(e)?`V2 ${e.reserve0.currency.symbol}-${e.reserve1.currency.symbol}`:isV3Pool(e)?`V3 fee ${e.fee} ${e.token0.symbol}-${e.token1.symbol}`:`Stable ${e.balances.map(e=>e.currency).join("-")}`).join(", ")} ${e.quote.toExact()}`).join(", ")})`),onQueue:T.size},`Top 3 with ${f} splits`),c.clear();let t=T.size;if(++f>=3&&o&&o.length<f-1)break;if(f>p){console.log("Max splits reached. Stopping search.");break}for(;t>0;){t--;let{remainingPercent:i,curRoutes:r,percentIndex:u,special:p}=T.dequeue();for(let t=u;t>=0;t--){let u=n[t];if(u>i||!y[u])continue;let b=y[u],h=findFirstRouteNotUsingUsedPools(r,b);if(!h)continue;let w=i-u,k=[...r,h];if(0===w&&f>=l){let t=k.map(e=>a(e)),n=sumFn(t),i=currencyAmount_CurrencyAmount.fromRawAmount(n.currency,0),r=e===m.EXACT_INPUT?n.subtract(i):n.add(i);c.push({quote:r,routes:k}),(!s||d(r,s))&&(s=r,o=k)}else T.enqueue({curRoutes:k,remainingPercent:w,percentIndex:t,special:p})}}}if(!o)return console.log("Could not find a valid swap"),null;let b=sumFn(o.map(e=>e.quoteAdjustedForGas)),h=o.map(e=>e.gasEstimate).reduce((e,t)=>e+t,0n);if(!eP[i]||!eP[i][0])throw Error(`Could not find a USD token for computing gas costs on ${i}`);let w=eP[i][0],k=w.decimals,g={gasUsedL1:0n,gasCostL1USD:currencyAmount_CurrencyAmount.fromRawAmount(w,0),gasCostL1QuoteToken:currencyAmount_CurrencyAmount.fromRawAmount(null===(u=o[0])||void 0===u?void 0:u.quote.currency.wrapped,0)},{gasCostL1USD:v,gasCostL1QuoteToken:A}=g,M=o.map(e=>{let t=k-e.gasCostInUSD.currency.decimals;return 0===t?currencyAmount_CurrencyAmount.fromRawAmount(w,e.gasCostInUSD.quotient):currencyAmount_CurrencyAmount.fromRawAmount(w,e.gasCostInUSD.quotient*10n**BigInt(t))}),_=sumFn(M);if(_.currency.equals(v.currency))_=_.add(v);else{let e=k-v.currency.decimals;_=_.add(currencyAmount_CurrencyAmount.fromRawAmount(w,v.quotient*10n**BigInt(e)))}let I=sumFn(o.map(e=>e.gasCostInToken)).add(A),P=sumFn(o.map(e=>e.quote));if(e===m.EXACT_INPUT){let e=b.subtract(A);b=e}else{let e=b.add(A);b=e}let E=o.sort((e,t)=>t.amount.greaterThan(e.amount)?1:-1);return{quote:P,quoteGasAdjusted:b,estimatedGasUsed:h,estimatedGasUsedUSD:_,estimatedGasUsedQuoteToken:I,routes:E}}(i,s,u.sort((e,t)=>e-t),r,e=>e.quoteAdjustedForGas,a);if(!o)return null;let{routes:p}=o,l=p.reduce((e,t)=>e.add(t.amount),currencyAmount_CurrencyAmount.fromRawAmount(p[0].amount.currency,0)),y=e.subtract(l);y.greaterThan(0)&&(console.log({missingAmount:y.quotient.toString()},"Optimal route's amounts did not equal exactIn/exactOut total. Adding missing amount to last route in array."),p[p.length-1].amount=p[p.length-1].amount.add(y)),console.log({routes:p,numSplits:p.length,amount:e.toExact(),quote:o.quote.toExact(),quoteGasAdjusted:o.quoteGasAdjusted.toFixed(Math.min(o.quoteGasAdjusted.currency.decimals,2)),estimatedGasUSD:o.estimatedGasUsedUSD.toFixed(Math.min(o.estimatedGasUsedUSD.currency.decimals,2)),estimatedGasToken:o.estimatedGasUsedQuoteToken.toFixed(Math.min(o.estimatedGasUsedQuoteToken.currency.decimals,2))},`Found best swap route. ${p.length} split.`);let{routes:d,quote:c,estimatedGasUsed:T,estimatedGasUsedUSD:f}=o,b=currencyAmount_CurrencyAmount.fromRawAmount(t,c.quotient),h=i===m.EXACT_INPUT;return{routes:d.map(e=>{let{type:n,amount:i,quote:a,pools:r,path:u,percent:s}=e,o=currencyAmount_CurrencyAmount.fromRawAmount(t,a.quotient);return{percent:s,type:n,pools:r,path:u,inputAmount:h?i:o,outputAmount:h?o:i}}),gasEstimate:T,gasEstimateInUSD:f,inputAmount:h?e:b,outputAmount:h?b:e}}(e,t,v,n,{maxSplits:u})}var tl=n(58844);function subgraphPoolProviderFactory(e){let{id:t,getPoolMetas:n,getPoolsFromSubgraph:i}=e;return async function(e){var a,r;let{provider:u,pairs:s}=e;if(!u)throw Error("No valid subgraph data provider");let o=null===(r=s[0])||void 0===r?void 0:null===(a=r[0])||void 0===a?void 0:a.chainId;if(!o)return[];let p=u({chainId:o});if(!p)return console.error("No subgraph client found for chainId",o),[];e5(`SUBGRAPH_POOLS_START(${t})`,s);let l=new Map;for(let e of s){let t=n(e);for(let e of t)l.set(e.address.toLocaleLowerCase(),e)}let y=Array.from(l.keys()),d=await i({addresses:y,getPoolMetaByAddress:e=>{var t;return null!==(t=l.get(e.toLocaleLowerCase()))&&void 0!==t?t:null},client:p});return e5(`SUBGRAPH_POOLS_END(${t})`,d),d.filter(e=>!!e)}}let ty=A()(e=>{let[t,n,i]=e;return{address:pool_Pool.getAddress(t.wrapped,n.wrapped,i),currencyA:t,currencyB:n,fee:i}},e=>{let[t,n,i]=e;if(t.wrapped.equals(n.wrapped))return[t.chainId,t.wrapped.address,i].join("_");let[a,r]=t.wrapped.sortsBefore(n.wrapped)?[t.wrapped,n.wrapped]:[n.wrapped,t.wrapped];return[a.chainId,a.address,r.address,i].join("_")}),td=A()(e=>[f.LOWEST,f.LOW,f.MEDIUM,f.HIGH].map(t=>ty([...e,t])),e=>{let[t,n]=e;if(t.wrapped.equals(n.wrapped))return[t.chainId,t.wrapped.address].join("_");let[i,a]=t.wrapped.sortsBefore(n.wrapped)?[t.wrapped,n.wrapped]:[n.wrapped,t.wrapped];return[i.chainId,i.address,a.address].join("_")}),tm=tl.Ps`
  query getPools($pageSize: Int!, $poolAddrs: [String]) {
    pools(first: $pageSize, where: { id_in: $poolAddrs }) {
      id
      tick
      sqrtPrice
      feeTier
      liquidity
      feeProtocol
      totalValueLockedUSD
    }
  }
`,tc=subgraphPoolProviderFactory({id:"V3",getPoolMetas:td,getPoolsFromSubgraph:async e=>{let{addresses:t,getPoolMetaByAddress:n,client:i}=e,{pools:a}=await i.request(tm,{pageSize:1e3,poolAddrs:t});return a.map(e=>{let{id:t,liquidity:i,sqrtPrice:a,tick:r,totalValueLockedUSD:u,feeProtocol:s}=e,o=n(t);if(!o)return null;let{fee:p,currencyA:l,currencyB:y,address:d}=o,[m,c]=l.wrapped.sortsBefore(y.wrapped)?[l,y]:[y,l],[T,f]=parseProtocolFees(s);return{type:b.V3,fee:p,token0:m,token1:c,liquidity:BigInt(i),sqrtRatioX96:BigInt(a),tick:Number(r),address:d,tvlUSD:BigInt(Number.parseInt(u)),token0ProtocolFee:T,token1ProtocolFee:f}})}}),tT=tl.Ps`
  query getPools($pageSize: Int!, $poolAddrs: [ID!]) {
    pairs(first: $pageSize, where: { id_in: $poolAddrs }) {
      id
      reserve0
      reserve1
      reserveUSD
    }
  }
`;subgraphPoolProviderFactory({id:"V2",getPoolMetas:e=>{let[t,n]=e;return[{currencyA:t,currencyB:n,address:eJ(t.wrapped,n.wrapped)}]},getPoolsFromSubgraph:async e=>{let{addresses:t,getPoolMetaByAddress:n,client:i}=e,{pairs:a}=await i.request(tT,{pageSize:1e3,poolAddrs:t});return a.map(e=>{let{id:t,reserveUSD:i,reserve0:a,reserve1:r}=e,u=n(t);if(!u)return null;let{currencyA:s,currencyB:o,address:p}=u,[l,y]=s.wrapped.sortsBefore(o.wrapped)?[s,o]:[o,s],d=utils_tryParseAmount(a,l),m=utils_tryParseAmount(r,y);return d&&m?{address:p,type:b.V2,reserve0:d,reserve1:m,tvlUSD:BigInt(Number.parseInt(i))}:null})}});let tf=tl.Ps`
  query getPools($pageSize: Int!, $id: String) {
    pools(first: $pageSize, where: { id_gt: $id }) {
      id
      tick
      token0 {
        symbol
        id
        decimals
      }
      token1 {
        symbol
        id
        decimals
      }
      sqrtPrice
      feeTier
      liquidity
      feeProtocol
      totalValueLockedUSD
    }
  }
`;!function(e){let{getPoolsFromSubgraph:t,getPoolId:n}=e}({id:"getAllV3PoolsFromSubgraph",getPoolsFromSubgraph:async e=>{let{lastId:t,pageSize:n,client:i,chainId:a}=e,{pools:r}=await i.request(tf,{pageSize:n,id:t});return r.map(e=>{let{id:t,liquidity:n,sqrtPrice:i,tick:r,totalValueLockedUSD:u,feeProtocol:s,token0:o,token1:p,feeTier:l}=e,[y,d]=parseProtocolFees(s);return{type:b.V3,fee:Number(l),token0:new Token(a,(0,W.K)(o.id),Number(o.decimals),o.symbol),token1:new Token(a,(0,W.K)(p.id),Number(p.decimals),p.symbol),liquidity:BigInt(n),sqrtRatioX96:BigInt(i),tick:Number(r),address:(0,W.K)(t),tvlUSD:BigInt(Number.parseInt(u)),token0ProtocolFee:y,token1ProtocolFee:d}})},getPoolId:e=>e.address});let WrappedTokenInfo=class WrappedTokenInfo extends Token{get serialize(){return{address:this.address,chainId:this.chainId,decimals:this.decimals,symbol:this.symbol,name:this.name,projectLink:this.projectLink,logoURI:this.logoURI}}constructor(e){super(e.chainId,e.address,e.decimals,e.symbol,e.name),this.logoURI=e.logoURI}};function deserializeToken(e){return e.logoURI?new WrappedTokenInfo({chainId:e.chainId,address:e.address,decimals:e.decimals,symbol:e.symbol||"Unknown",name:e.name||"Unknown",logoURI:e.logoURI}):new Token(e.chainId,e.address,e.decimals,e.symbol,e.name,e.projectLink)}(l=w||(w={}))[l.NONE=0]="NONE",l[l.PATCH=1]="PATCH",l[l.MINOR=2]="MINOR",l[l.MAJOR=3]="MAJOR",createOnChainPoolFactory({abi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1In",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount0Out",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1Out",type:"uint256"},{indexed:!0,internalType:"address",name:"to",type:"address"}],name:"Swap",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint112",name:"reserve0",type:"uint112"},{indexed:!1,internalType:"uint112",name:"reserve1",type:"uint112"}],name:"Sync",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINIMUM_LIQUIDITY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"pure",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getReserves",outputs:[{internalType:"uint112",name:"reserve0",type:"uint112"},{internalType:"uint112",name:"reserve1",type:"uint112"},{internalType:"uint32",name:"blockTimestampLast",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"kLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[{internalType:"uint256",name:"liquidity",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"price0CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"price1CumulativeLast",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"skim",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount0Out",type:"uint256"},{internalType:"uint256",name:"amount1Out",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"},{inputs:[],name:"sync",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],getPossiblePoolMetas:e=>{let[t,n]=e;return[{address:eJ(t.wrapped,n.wrapped),currencyA:t,currencyB:n}]},buildPoolInfoCalls:e=>[{address:e,functionName:"getReserves",args:[]}],buildPool:(e,t)=>{let{currencyA:n,currencyB:i}=e,[a]=t;if(!a)return null;let[r,u]=a,[s,o]=n.wrapped.sortsBefore(i.wrapped)?[n,i]:[i,n];return{type:b.V2,reserve0:currencyAmount_CurrencyAmount.fromRawAmount(s,r.toString()),reserve1:currencyAmount_CurrencyAmount.fromRawAmount(o,u.toString())}}}),createOnChainPoolFactory({abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[2]",name:"token_amounts",type:"uint256[2]"},{indexed:!1,internalType:"uint256[2]",name:"fees",type:"uint256[2]"},{indexed:!1,internalType:"uint256",name:"invariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"token_supply",type:"uint256"}],name:"AddLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"deadline",type:"uint256"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"admin_fee",type:"uint256"}],name:"CommitNewFee",type:"event"},{anonymous:!1,inputs:[],name:"DonateAdminFees",type:"event"},{anonymous:!1,inputs:[],name:"Kill",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"},{indexed:!1,internalType:"uint256",name:"admin_fee",type:"uint256"}],name:"NewFee",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"old_A",type:"uint256"},{indexed:!1,internalType:"uint256",name:"new_A",type:"uint256"},{indexed:!1,internalType:"uint256",name:"initial_time",type:"uint256"},{indexed:!1,internalType:"uint256",name:"future_time",type:"uint256"}],name:"RampA",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[2]",name:"token_amounts",type:"uint256[2]"},{indexed:!1,internalType:"uint256[2]",name:"fees",type:"uint256[2]"},{indexed:!1,internalType:"uint256",name:"token_supply",type:"uint256"}],name:"RemoveLiquidity",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256[2]",name:"token_amounts",type:"uint256[2]"},{indexed:!1,internalType:"uint256[2]",name:"fees",type:"uint256[2]"},{indexed:!1,internalType:"uint256",name:"invariant",type:"uint256"},{indexed:!1,internalType:"uint256",name:"token_supply",type:"uint256"}],name:"RemoveLiquidityImbalance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"provider",type:"address"},{indexed:!1,internalType:"uint256",name:"token_amount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"coin_amount",type:"uint256"}],name:"RemoveLiquidityOne",type:"event"},{anonymous:!1,inputs:[],name:"RevertParameters",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"A",type:"uint256"},{indexed:!1,internalType:"uint256",name:"t",type:"uint256"}],name:"StopRampA",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"buyer",type:"address"},{indexed:!1,internalType:"uint256",name:"sold_id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokens_sold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"bought_id",type:"uint256"},{indexed:!1,internalType:"uint256",name:"tokens_bought",type:"uint256"}],name:"TokenExchange",type:"event"},{anonymous:!1,inputs:[],name:"Unkill",type:"event"},{inputs:[],name:"A",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ADMIN_ACTIONS_DELAY",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"FEE_DENOMINATOR",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"KILL_DEADLINE_DT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_A",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_ADMIN_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_A_CHANGE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_DECIMAL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MAX_FEE",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"MIN_RAMP_TIME",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"N_COINS",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PRECISION",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"PRECISION_MUL",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"RATES",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"STABLESWAP_FACTORY",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[2]",name:"amounts",type:"uint256[2]"},{internalType:"uint256",name:"min_mint_amount",type:"uint256"}],name:"add_liquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"admin_actions_deadline",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"i",type:"uint256"}],name:"admin_balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"admin_fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"apply_new_fee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"balances",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256[2]",name:"amounts",type:"uint256[2]"},{internalType:"bool",name:"deposit",type:"bool"}],name:"calc_token_amount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_token_amount",type:"uint256"},{internalType:"uint256",name:"i",type:"uint256"}],name:"calc_withdraw_one_coin",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"coins",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"new_fee",type:"uint256"},{internalType:"uint256",name:"new_admin_fee",type:"uint256"}],name:"commit_new_fee",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"donate_admin_fees",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"i",type:"uint256"},{internalType:"uint256",name:"j",type:"uint256"},{internalType:"uint256",name:"dx",type:"uint256"},{internalType:"uint256",name:"min_dy",type:"uint256"}],name:"exchange",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"future_A",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"future_A_time",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"future_admin_fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"future_fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"i",type:"uint256"},{internalType:"uint256",name:"j",type:"uint256"},{internalType:"uint256",name:"dx",type:"uint256"}],name:"get_dy",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"i",type:"uint256"},{internalType:"uint256",name:"j",type:"uint256"},{internalType:"uint256",name:"dx",type:"uint256"}],name:"get_dy_underlying",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"get_virtual_price",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initial_A",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initial_A_time",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address[2]",name:"_coins",type:"address[2]"},{internalType:"uint256",name:"_A",type:"uint256"},{internalType:"uint256",name:"_fee",type:"uint256"},{internalType:"uint256",name:"_admin_fee",type:"uint256"},{internalType:"address",name:"_owner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isInitialized",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"is_killed",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"kill_deadline",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"kill_me",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_future_A",type:"uint256"},{internalType:"uint256",name:"_future_time",type:"uint256"}],name:"ramp_A",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"},{internalType:"uint256[2]",name:"min_amounts",type:"uint256[2]"}],name:"remove_liquidity",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256[2]",name:"amounts",type:"uint256[2]"},{internalType:"uint256",name:"max_burn_amount",type:"uint256"}],name:"remove_liquidity_imbalance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_token_amount",type:"uint256"},{internalType:"uint256",name:"i",type:"uint256"},{internalType:"uint256",name:"min_amount",type:"uint256"}],name:"remove_liquidity_one_coin",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"revert_new_parameters",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stop_rampget_A",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"token",outputs:[{internalType:"contract PancakeStableSwapLP",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unkill_me",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"withdraw_admin_fees",outputs:[],stateMutability:"nonpayable",type:"function"}],getPossiblePoolMetas:e=>{var t;let[n,i]=e,a=isStableSwapSupported(t=n.chainId)&&eR[t]||[];return a.filter(e=>{let{token:t,quoteToken:a}=e,r=deserializeToken(t),u=deserializeToken(a);return r.equals(n.wrapped)&&u.equals(i.wrapped)||r.equals(i.wrapped)&&u.equals(n.wrapped)}).map(e=>{let{stableSwapAddress:t}=e;return{address:t,currencyA:n,currencyB:i}})},buildPoolInfoCalls:e=>[{address:e,functionName:"balances",args:[0]},{address:e,functionName:"balances",args:[1]},{address:e,functionName:"A",args:[]},{address:e,functionName:"fee",args:[]},{address:e,functionName:"FEE_DENOMINATOR",args:[]}],buildPool:(e,t)=>{let{currencyA:n,currencyB:i,address:a}=e,[r,u,s,o,p]=t;if(!r||!u||!s||!o||!p)return null;let[l,y]=n.wrapped.sortsBefore(i.wrapped)?[n,i]:[i,n];return{address:a,type:b.STABLE,balances:[currencyAmount_CurrencyAmount.fromRawAmount(l,r.toString()),currencyAmount_CurrencyAmount.fromRawAmount(y,u.toString())],amplifier:BigInt(s.toString()),fee:new percent_Percent(BigInt(o.toString()),BigInt(p.toString()))}}});let tb=createOnChainPoolFactory({abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!1,internalType:"address",name:"recipient",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"amount0",type:"uint128"},{indexed:!1,internalType:"uint128",name:"amount1",type:"uint128"}],name:"Collect",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint128",name:"amount0",type:"uint128"},{indexed:!1,internalType:"uint128",name:"amount1",type:"uint128"}],name:"CollectProtocol",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"paid1",type:"uint256"}],name:"Flash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint16",name:"observationCardinalityNextOld",type:"uint16"},{indexed:!1,internalType:"uint16",name:"observationCardinalityNextNew",type:"uint16"}],name:"IncreaseObservationCardinalityNext",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{indexed:!1,internalType:"int24",name:"tick",type:"int24"}],name:"Initialize",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"int24",name:"tickLower",type:"int24"},{indexed:!0,internalType:"int24",name:"tickUpper",type:"int24"},{indexed:!1,internalType:"uint128",name:"amount",type:"uint128"},{indexed:!1,internalType:"uint256",name:"amount0",type:"uint256"},{indexed:!1,internalType:"uint256",name:"amount1",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint32",name:"feeProtocol0Old",type:"uint32"},{indexed:!1,internalType:"uint32",name:"feeProtocol1Old",type:"uint32"},{indexed:!1,internalType:"uint32",name:"feeProtocol0New",type:"uint32"},{indexed:!1,internalType:"uint32",name:"feeProtocol1New",type:"uint32"}],name:"SetFeeProtocol",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"addr",type:"address"}],name:"SetLmPoolEvent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!0,internalType:"address",name:"recipient",type:"address"},{indexed:!1,internalType:"int256",name:"amount0",type:"int256"},{indexed:!1,internalType:"int256",name:"amount1",type:"int256"},{indexed:!1,internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{indexed:!1,internalType:"uint128",name:"liquidity",type:"uint128"},{indexed:!1,internalType:"int24",name:"tick",type:"int24"},{indexed:!1,internalType:"uint128",name:"protocolFeesToken0",type:"uint128"},{indexed:!1,internalType:"uint128",name:"protocolFeesToken1",type:"uint128"}],name:"Swap",type:"event"},{inputs:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"amount",type:"uint128"}],name:"burn",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"amount0Requested",type:"uint128"},{internalType:"uint128",name:"amount1Requested",type:"uint128"}],name:"collect",outputs:[{internalType:"uint128",name:"amount0",type:"uint128"},{internalType:"uint128",name:"amount1",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint128",name:"amount0Requested",type:"uint128"},{internalType:"uint128",name:"amount1Requested",type:"uint128"}],name:"collectProtocol",outputs:[{internalType:"uint128",name:"amount0",type:"uint128"},{internalType:"uint128",name:"amount1",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"fee",outputs:[{internalType:"uint24",name:"",type:"uint24"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeGrowthGlobal0X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeGrowthGlobal1X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"flash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint16",name:"observationCardinalityNext",type:"uint16"}],name:"increaseObservationCardinalityNext",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"liquidity",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"lmPool",outputs:[{internalType:"contract IPancakeV3LmPool",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxLiquidityPerTick",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint128",name:"amount",type:"uint128"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"uint256",name:"amount0",type:"uint256"},{internalType:"uint256",name:"amount1",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"observations",outputs:[{internalType:"uint32",name:"blockTimestamp",type:"uint32"},{internalType:"int56",name:"tickCumulative",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityCumulativeX128",type:"uint160"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32[]",name:"secondsAgos",type:"uint32[]"}],name:"observe",outputs:[{internalType:"int56[]",name:"tickCumulatives",type:"int56[]"},{internalType:"uint160[]",name:"secondsPerLiquidityCumulativeX128s",type:"uint160[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"positions",outputs:[{internalType:"uint128",name:"liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolFees",outputs:[{internalType:"uint128",name:"token0",type:"uint128"},{internalType:"uint128",name:"token1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"feeProtocol0",type:"uint32"},{internalType:"uint32",name:"feeProtocol1",type:"uint32"}],name:"setFeeProtocol",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_lmPool",type:"address"}],name:"setLmPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"slot0",outputs:[{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{internalType:"int24",name:"tick",type:"int24"},{internalType:"uint16",name:"observationIndex",type:"uint16"},{internalType:"uint16",name:"observationCardinality",type:"uint16"},{internalType:"uint16",name:"observationCardinalityNext",type:"uint16"},{internalType:"uint32",name:"feeProtocol",type:"uint32"},{internalType:"bool",name:"unlocked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"}],name:"snapshotCumulativesInside",outputs:[{internalType:"int56",name:"tickCumulativeInside",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityInsideX128",type:"uint160"},{internalType:"uint32",name:"secondsInside",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"bool",name:"zeroForOne",type:"bool"},{internalType:"int256",name:"amountSpecified",type:"int256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"},{internalType:"bytes",name:"data",type:"bytes"}],name:"swap",outputs:[{internalType:"int256",name:"amount0",type:"int256"},{internalType:"int256",name:"amount1",type:"int256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"int16",name:"",type:"int16"}],name:"tickBitmap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"tickSpacing",outputs:[{internalType:"int24",name:"",type:"int24"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"",type:"int24"}],name:"ticks",outputs:[{internalType:"uint128",name:"liquidityGross",type:"uint128"},{internalType:"int128",name:"liquidityNet",type:"int128"},{internalType:"uint256",name:"feeGrowthOutside0X128",type:"uint256"},{internalType:"uint256",name:"feeGrowthOutside1X128",type:"uint256"},{internalType:"int56",name:"tickCumulativeOutside",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityOutsideX128",type:"uint160"},{internalType:"uint32",name:"secondsOutside",type:"uint32"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"token0",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"token1",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"}],getPossiblePoolMetas:e=>{let[t,n]=e,i=eq[t.chainId];return i?[f.LOWEST,f.LOW,f.MEDIUM,f.HIGH].map(e=>({address:eY({deployerAddress:i,tokenA:t.wrapped,tokenB:n.wrapped,fee:e}),currencyA:t,currencyB:n,fee:e})):[]},buildPoolInfoCalls:e=>[{address:e,functionName:"liquidity"},{address:e,functionName:"slot0"}],buildPool:(e,t)=>{let{currencyA:n,currencyB:i,fee:a,address:r}=e,[u,s]=t;if(!u||!s)return null;let[o,p,,,,l]=s,[y,d]=n.wrapped.sortsBefore(i.wrapped)?[n,i]:[i,n],[m,c]=parseProtocolFees(l);return{type:b.V3,token0:y,token1:d,fee:a,liquidity:BigInt(u.toString()),sqrtRatioX96:BigInt(o.toString()),tick:Number(p),address:r,token0ProtocolFee:m,token1ProtocolFee:c}}});function createOnChainPoolFactory(e){let{abi:t,getPossiblePoolMetas:n,buildPoolInfoCalls:i,buildPool:a}=e;return async function(e,r,u){var s,o;if(!r)throw Error("No valid onchain data provider");let p=null===(o=e[0])||void 0===o?void 0:null===(s=o[0])||void 0===s?void 0:s.chainId,l=r({chainId:p});if(!p||!l)return[];let y=new Set,d=[];for(let t of e){let e=n(t);for(let t of e)y.has(t.address)||(d.push(t),y.add(t.address))}let m=[],c=0;for(let{address:e}of d){let t=i(e);if(c||(c=t.length),!c||c!==t.length)throw Error("Inconsistent pool data call");m=[...m,...t]}if(!m.length)return[];let T=await l.multicall({contracts:m.map(e=>({abi:t,address:e.address,functionName:e.functionName,args:e.args})),allowFailure:!0,blockNumber:u?BigInt(Number(BigInt(u))):void 0}),f=[];for(let e=0;e<d.length;e+=1){let t=T.slice(e*c,(e+1)*c),n=a(d[e],t.map(e=>e.result));n&&f.push(n)}return f}}let th=tl.Ps`
  query getTokens($pageSize: Int!, $tokenAddrs: [ID!]) {
    tokens(first: $pageSize, where: { id_in: $tokenAddrs }) {
      id
      derivedUSD
    }
  }
`;function commonTokenPriceProvider(e){return async function(t){let{currencyA:n,currencyB:i,...a}=t,r=e1(n,i);if(!r)return null;let u=new Map,s={},o=r.map(e=>{let t=e.address.toLocaleLowerCase();return s[t]=e,t}),p=await e({addresses:o,chainId:null==n?void 0:n.chainId,...a});for(let{address:e,priceUSD:t}of p){let n=s[e];n&&u.set(n.wrapped.address,parseFloat(t)||0)}return u}}function mergePoolSelectorConfig(e,t){if(!t)return e;let n={...e},i=Object.keys(n);for(let e of i)n[e]=Math.max(n[e],t[e]||0);return n}function poolSelectorConfigFactory(e,t){return function(n,i){var a,r,u,s;let o=null==n?void 0:n.chainId;if(!o||!e[o])return tu;let p=null===(r=t[o])||void 0===r?void 0:r[(null==n?void 0:null===(a=n.wrapped)||void 0===a?void 0:a.address)||"0x"],l=null===(s=t[o])||void 0===s?void 0:s[(null==i?void 0:null===(u=i.wrapped)||void 0===u?void 0:u.address)||"0x"];return mergePoolSelectorConfig(mergePoolSelectorConfig(e[o],p),l)}}commonTokenPriceProvider(async e=>{let{addresses:t,chainId:n,provider:i}=e,a=null==i?void 0:i({chainId:n});if(!a)throw Error("No valid subgraph data provider");let{tokens:r}=await a.request(th,{pageSize:1e3,tokenAddrs:t});return r.map(e=>{let{id:t,derivedUSD:n}=e;return{address:t,priceUSD:n}})}),commonTokenPriceProvider((()=>{let e=new Map;return async t=>{let{addresses:n,chainId:i}=t;if(!i||!eo[i])throw Error(`Invalid chain id ${i}`);let[a,r]=n.reduce((t,n)=>{let[i,a]=t,r=e.get(n.toLocaleLowerCase());return r?i.push(r):a.push(n),[i,a]},[[],[]]);if(!r.length)return a;let u=r.map(e=>`${eo[i]}:${e}`).join(","),s=await fetch(`https://coins.llama.fi/prices/current/${u}`).then(e=>e.json()),{coins:o={}}=s;return[...a,...Object.entries(o).map(t=>{let[n,i]=t,[,a]=n.split(":"),r={address:a,priceUSD:i.price};return e.set(a.toLocaleLowerCase(),r),r})]}})());let tw=poolSelectorConfigFactory(ts,{}),tk=poolSelectorConfigFactory(to,{}),sortByTvl=(e,t)=>e.tvlUSD>=t.tvlUSD?-1:1;function poolSelectorFactory(e){let{getPoolSelectorConfig:t,getToken0:n,getToken1:i,getPoolAddress:a}=e;return function(e,r,u){var s;let o=t(e,r);if(!e||!r||!u.length)return[];let p=u.sort(sortByTvl),{chainId:l}=n(p[0]),y=null!==(s=ek[l])&&void 0!==s?s:[],d=new Set,addToPoolSet=e=>{for(let t of e)d.add(a(t))},m=y.map(t=>p.filter(a=>n(a).wrapped.equals(t)&&i(a).wrapped.equals(e.wrapped)||i(a).wrapped.equals(t)&&n(a).wrapped.equals(e.wrapped)).sort(sortByTvl).slice(0,o.topNWithEachBaseToken)).reduce((e,t)=>[...e,...t],[]).sort(sortByTvl).slice(0,o.topNWithBaseToken);addToPoolSet(m);let c=y.map(e=>p.filter(t=>!d.has(a(t))&&(n(t).wrapped.equals(e)&&i(t).wrapped.equals(r.wrapped)||i(t).wrapped.equals(e)&&n(t).wrapped.equals(r.wrapped))).sort(sortByTvl).slice(0,o.topNWithEachBaseToken)).reduce((e,t)=>[...e,...t],[]).sort(sortByTvl).slice(0,o.topNWithBaseToken);addToPoolSet(c);let T=p.filter(t=>!d.has(a(t))&&(n(t).wrapped.equals(e.wrapped)&&i(t).wrapped.equals(r.wrapped)||i(t).wrapped.equals(e.wrapped)&&n(t).wrapped.equals(r.wrapped))).slice(0,o.topNDirectSwaps);addToPoolSet(T);let f=G[l],b=f?p.filter(t=>!d.has(a(t))&&(n(t).wrapped.equals(f)&&i(t).wrapped.equals(e.wrapped)||i(t).wrapped.equals(f)&&n(t).wrapped.equals(e.wrapped))).slice(0,1):[];addToPoolSet(b);let h=f?p.filter(e=>!d.has(a(e))&&(n(e).wrapped.equals(f)&&i(e).wrapped.equals(r.wrapped)||i(e).wrapped.equals(f)&&n(e).wrapped.equals(r.wrapped))).slice(0,1):[];addToPoolSet(h);let w=p.slice(0,o.topN).filter(e=>!d.has(a(e)));addToPoolSet(w);let k=p.filter(t=>!d.has(a(t))&&(n(t).wrapped.equals(e.wrapped)||i(t).wrapped.equals(e.wrapped))).slice(0,o.topNTokenInOut);addToPoolSet(k);let g=p.filter(e=>!d.has(a(e))&&(n(e).wrapped.equals(r.wrapped)||i(e).wrapped.equals(r.wrapped))).slice(0,o.topNTokenInOut);addToPoolSet(g);let getTopByTVLUsingTokenSecondHops=(e,t)=>e.map(e=>n(e).wrapped.equals(t.wrapped)?i(e):n(e)).map(e=>p.filter(t=>!d.has(a(t))&&(n(t).wrapped.equals(e.wrapped)||i(t).wrapped.equals(e.wrapped))).slice(0,o.topNSecondHop)).reduce((e,t)=>[...e,...t],[]).sort(sortByTvl).slice(0,o.topNSecondHop),v=getTopByTVLUsingTokenSecondHops([...k,...m],e);addToPoolSet(v);let A=getTopByTVLUsingTokenSecondHops([...g,...c],r);addToPoolSet(A);let M=[...m,...c,...T,...b,...h,...w,...k,...g,...v,...A];return M.map(e=>{let{tvlUSD:t,...n}=e;return n})}}poolSelectorFactory({getPoolSelectorConfig:tw,getToken0:e=>e.token0,getToken1:e=>e.token1,getPoolAddress:e=>e.address}),poolSelectorFactory({getPoolSelectorConfig:tk,getToken0:e=>e.reserve0.currency,getToken1:e=>e.reserve1.currency,getPoolAddress:e=>e2(e)||"0x"});let tg=A()((e,t)=>{let n=e.find(e=>e.address===t);return(null==n?void 0:n.tvlUSD)||0n},(e,t)=>t),v3PoolsOnChainProviderFactory=e=>async function(t){let{currencyA:n,currencyB:i,pairs:a,onChainProvider:r,blockNumber:u}=t,s=a||e3(n,i),[o,p]=await Promise.allSettled([tb(s,r,u),e(t)]);if("fulfilled"===o.status&&"fulfilled"===p.status){let{value:e}=o,{value:t}=p;if(!Array.isArray(t))throw Error("Failed to get tvl references");return e.map(e=>{let n=BigInt(tg(t,e.address));return{...e,tvlUSD:n}})}throw Error(`Getting v3 pools failed. Onchain ${o.status}, tvl references ${p.status}`)};v3PoolsOnChainProviderFactory(e=>{let{currencyA:t,currencyB:n,pairs:i,subgraphProvider:a}=e,r=i||e3(t,n);return tc({provider:a,pairs:r})}),v3PoolsOnChainProviderFactory((()=>{let e=new Map;return async t=>{let{currencyA:n}=t;if(!(null==n?void 0:n.chainId))throw Error(`Cannot get tvl references at chain ${null==n?void 0:n.chainId}`);let i=e.get(n.chainId);if(i)return i;let a=await fetch(`https://routing-api.pancakeswap.com/v0/v3-pools-tvl/${n.chainId}`),r=await a.json();return e.set(n.chainId,r),r}})()),v3PoolsOnChainProviderFactory(()=>Promise.resolve([]));var tv=n(72047),tA=n.n(tv),tM=n(85205),t_=n(44908),tI=n.n(t_),tP=n(7210),tE=[{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"uint256",name:"gasLimit",type:"uint256"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct PancakeInterfaceMulticall.Call[]",name:"calls",type:"tuple[]"}],name:"multicall",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"uint256",name:"gasUsed",type:"uint256"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct PancakeInterfaceMulticall.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"}];let IMulticallProvider=class IMulticallProvider{};let tx={[d.ETHEREUM]:"0x77b7DB88A2182FB6A4a0BA1E0C67dEd93A489e87"};let PancakeMulticallProvider=class PancakeMulticallProvider extends IMulticallProvider{async callSameFunctionOnMultipleContracts(e){var t;let{addresses:n,functionName:i,functionParams:a,providerConfig:r,abi:u}=e,s=null!==(t=null==r?void 0:r.blockNumber)&&void 0!==t?t:void 0,o=(0,eK.R)({abi:u,functionName:i,args:a}),p=n.map(e=>({target:e,callData:o,gasLimit:BigInt(this.gasLimitPerCall)})),{result:[l,y]}=await this.provider.simulateContract({abi:tE,address:tx[this.chainId],functionName:"multicall",args:[p],blockNumber:s?"object"==typeof s&&"function"==typeof s.then?BigInt(Number(await s)):BigInt(Number(s)):void 0}),d=[];for(let e=0;e<y.length;e++){let{success:t,returnData:n}=y[e];if(!t||n.length<=2){d.push({success:!1,returnData:n});continue}d.push({success:!0,result:(0,tP.k)({abi:u,functionName:i,data:n})})}return{blockNumber:l,results:d}}async callSameFunctionOnContractWithMultipleParams(e){var t,n;let{address:i,functionName:a,functionParams:r,additionalConfig:u,providerConfig:s,abi:o}=e,p=null!==(t=null==u?void 0:u.gasLimitPerCallOverride)&&void 0!==t?t:this.gasLimitPerCall,l=null!==(n=null==s?void 0:s.blockNumber)&&void 0!==n?n:void 0,y=r.map(e=>{let t=(0,eK.R)({abi:o,functionName:a,args:e});return{target:i,callData:t,gasLimit:BigInt(p)}}),{result:[d,m]}=await this.provider.simulateContract({abi:tE,address:tx[this.chainId],functionName:"multicall",args:[y],blockNumber:l?BigInt(Number(l)):void 0}),c=[],T=[];for(let e=0;e<m.length;e++){let{success:t,returnData:n,gasUsed:i}=m[e];if(!t||n.length<=2){c.push({success:!1,returnData:n});continue}T.push(Number(i)),c.push({success:!0,result:(0,tP.k)({abi:o,functionName:a,data:n})})}return{blockNumber:d,results:c,approxGasUsedPerSuccessCall:tM.percentile(T,99)}}async callMultipleFunctionsOnSameContract(e){var t,n;let{address:i,functionNames:a,functionParams:r,additionalConfig:u,providerConfig:s,abi:o}=e,p=null!==(t=null==u?void 0:u.gasLimitPerCallOverride)&&void 0!==t?t:this.gasLimitPerCall,l=null!==(n=null==s?void 0:s.blockNumber)&&void 0!==n?n:void 0,y=a.map((e,t)=>{let n=(0,eK.R)({abi:o,functionName:e,args:r?r[t]:[]});return{target:i,callData:n,gasLimit:BigInt(p)}}),{result:[d,m]}=await this.provider.simulateContract({abi:tE,address:tx[this.chainId],functionName:"multicall",args:[y],blockNumber:l?BigInt(Number(l)):void 0}),c=[],T=[];for(let e=0;e<m.length;e++){let{success:t,returnData:n,gasUsed:i}=m[e];if(!t||n.length<=2){c.push({success:!1,returnData:n});continue}T.push(Number(i)),c.push({success:!0,result:(0,tP.k)({abi:o,data:n,functionName:a[e]})})}return{blockNumber:d,results:c,approxGasUsedPerSuccessCall:tM.percentile(T,99)}}constructor(e,t,n=1e6){super(),this.chainId=e,this.provider=t,this.gasLimitPerCall=n;let i=tx[this.chainId];if(!i)throw Error(`No address for Pancakeswap Multicall Contract on chain id: ${e}`);this.provider=t}};PancakeMulticallProvider.abi=tE;let tR={[d.ETHEREUM]:.1},tq={[d.ETHEREUM]:1};let BlockConflictError=class BlockConflictError extends Error{constructor(...e){super(...e),this.name="BlockConflictError"}};let SuccessRateError=class SuccessRateError extends Error{constructor(...e){super(...e),this.name="SuccessRateError"}};let ProviderBlockHeaderError=class ProviderBlockHeaderError extends Error{constructor(...e){super(...e),this.name="ProviderBlockHeaderError"}};let ProviderTimeoutError=class ProviderTimeoutError extends Error{constructor(...e){super(...e),this.name="ProviderTimeoutError"}};let ProviderGasError=class ProviderGasError extends Error{constructor(...e){super(...e),this.name="ProviderGasError"}};let retryControllerFactory=()=>{let e=[];return{shouldRetry:t=>e.every(e=>e.name!==t.name),onRetry:t=>{e.push(t)},getErrorsOnPreviousRetries:()=>e}};function onChainQuoteProviderFactory(e){let{getQuoteFunctionName:t,getQuoterAddress:n,abi:i,getCallInputs:a}=e;return function(e){let{onChainProvider:r,multicallConfigs:u}=e,createGetRoutesWithQuotes=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],s=t(e),adjustQuoteForGas=(t,n)=>e?t.subtract(n):t.add(n);return async function(t,o){let{blockNumber:p,gasModel:l}=o;if(!t.length)return[];let{amount:{currency:{chainId:y}}}=t[0],m=n(y),c=tR[y],T=tq[y],f=(null==u?void 0:u[y])||eE[y]||eE[d.ETHEREUM],{defaultConfig:{multicallChunk:b,gasLimitOverride:h}}=f,w=r({chainId:y}),k={blockNumber:p},g=new PancakeMulticallProvider(y,w,h),v=t.map(t=>a(t,e)),{shouldRetry:A,onRetry:M}=retryControllerFactory();async function getQuotes(e){let{multicallGasLimit:t,multicallChunkSize:n}=e,a=Math.ceil(v.length/Math.ceil(v.length/n)),r=tr()(v,a);try{var u;let e=await Promise.all(r.map(e=>g.callSameFunctionOnContractWithMultipleParams({address:m,abi:i,functionName:s,functionParams:e,providerConfig:k,additionalConfig:{gasLimitPerCallOverride:t}}))),n=e.reduce((e,t)=>[...e,...t.results],[]),a=function(e,t){let n=e.length,i=e.filter(e=>e.success).length,a=1*i/n;if(a<t)return new SuccessRateError(`Quote success rate below threshold of ${t}: ${a}`)}(n,c);if(a)throw a;let o=e.filter(e=>{let{results:t}=e;return t.some(e=>{let{success:t}=e;return t})}),p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e.length<=1)return null;let n=e.map(e=>e.blockNumber),i=n.map(e=>e.toString()),a=tI()(i);return a.length>0&&a.length<=t?null:new BlockConflictError(`Quotes returned from different blocks. ${a}`)}(o,T);if(p)throw p;return{results:n,blockNumber:BigInt(null===(u=o[0])||void 0===u?void 0:u.blockNumber),approxGasUsedPerSuccessCall:tM.percentile(o.map(e=>e.approxGasUsedPerSuccessCall),100)}}catch(t){if(t instanceof SuccessRateError||t instanceof BlockConflictError)throw t;let e=t.message.slice(0,500);if(t.message.includes("header not found"))throw new ProviderBlockHeaderError(e);if(t.message.includes("timeout"))throw new ProviderTimeoutError(`Request had ${v.length} inputs. ${e}`);if(t.message.includes("out of gas"))throw new ProviderGasError(e);throw Error(`Unknown error from provider: ${e}`)}}let _=await tA()(async e=>{try{let e=await getQuotes({multicallChunkSize:b,multicallGasLimit:h});return e}catch(n){let t=n instanceof Error?n:Error(`Unexpected error type ${n}`);if(!A(t))return e(t);if(t instanceof SuccessRateError){M(t);let{successRateFailureOverrides:e}=f;return getQuotes({multicallChunkSize:e.multicallChunk,multicallGasLimit:e.gasLimitOverride})}if(t instanceof ProviderGasError){M(t);let{gasErrorFailureOverride:e}=f;return getQuotes({multicallChunkSize:e.multicallChunk,multicallGasLimit:e.gasLimitOverride})}throw t}},{retries:2,minTimeout:25,maxTimeout:250});if(!_)throw Error(`Unexpected empty quote result ${_}`);let{results:I}=_,P=function(e,t,n,i){let a=[];for(let r=0;r<e.length;r+=1){let u=t[r],s=e[r];if(!s)continue;let{success:o}=s;if(!o)continue;let p=function(e,t){let{input:n,output:i}=e;return t.equals(n)?i:n}(u,u.amount.currency),l=currencyAmount_CurrencyAmount.fromRawAmount(p.wrapped,s.result[0].toString()),{gasEstimate:y,gasCostInToken:d,gasCostInUSD:m}=n.estimateGasCost({...u,quote:l},{initializedTickCrossedList:s.result[2]});a.push({...u,quote:l,quoteAdjustedForGas:i(l,d),gasEstimate:y,gasCostInToken:d,gasCostInUSD:m})}return a}(I,t,l,adjustQuoteForGas);return P}};return{getRouteWithQuotesExactIn:createGetRoutesWithQuotes(!0),getRouteWithQuotesExactOut:createGetRoutesWithQuotes(!1)}}}let tS=onChainQuoteProviderFactory({getQuoterAddress:e=>e_[e],getQuoteFunctionName:()=>"quoteExactInput",abi:[{inputs:[{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_factoryV2",type:"address"},{internalType:"address",name:"_factoryStable",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factoryStable",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factoryV2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"path",type:"bytes"}],name:"pancakeV3SwapCallback",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256[]",name:"flag",type:"uint256[]"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"v3SqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"v3InitializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"v3SwapGasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"flag",type:"uint256"}],internalType:"struct IMixedRouteQuoterV1.QuoteExactInputSingleStableParams",name:"params",type:"tuple"}],name:"quoteExactInputSingleStable",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"}],internalType:"struct IMixedRouteQuoterV1.QuoteExactInputSingleV2Params",name:"params",type:"tuple"}],name:"quoteExactInputSingleV2",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IMixedRouteQuoterV1.QuoteExactInputSingleV3Params",name:"params",type:"tuple"}],name:"quoteExactInputSingleV3",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],getCallInputs:(e,t)=>[encodeMixedRouteToPath(e,!t),e.pools.map(e=>{if(isV3Pool(e))return 0;if(isV2Pool(e))return 1;if(isStablePool(e)){if(2===e.balances.length)return 2;if(3===e.balances.length)return 3}return -1}).filter(e=>e>=0),`0x${e.amount.quotient.toString(16)}`]}),tC=onChainQuoteProviderFactory({getQuoterAddress:e=>eI[e],getQuoteFunctionName:e=>e?"quoteExactInput":"quoteExactOutput",abi:[{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountIn",type:"uint256"}],name:"quoteExactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactInputSingleParams",name:"params",type:"tuple"}],name:"quoteExactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint256",name:"amountOut",type:"uint256"}],name:"quoteExactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160[]",name:"sqrtPriceX96AfterList",type:"uint160[]"},{internalType:"uint32[]",name:"initializedTicksCrossedList",type:"uint32[]"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IQuoterV2.QuoteExactOutputSingleParams",name:"params",type:"tuple"}],name:"quoteExactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint160",name:"sqrtPriceX96After",type:"uint160"},{internalType:"uint32",name:"initializedTicksCrossed",type:"uint32"},{internalType:"uint256",name:"gasEstimate",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],getCallInputs:(e,t)=>[encodeMixedRouteToPath(e,!t),`0x${e.amount.quotient.toString(16)}`]});var tN=n(1604);let tO=tN.z.nativeEnum(d),tB=tN.z.nativeEnum(f),tU=tN.z.nativeEnum(m),tL=tN.z.nativeEnum(b),tF=tN.z.array(tL),tD=tN.z.custom(e=>/^0x[a-fA-F0-9]{40}$/.test(e)),tH=tN.z.string().regex(/^[0-9]+$/),tX=tN.z.object({address:tD,decimals:tN.z.number(),symbol:tN.z.string()}).required(),tW=tN.z.object({currency:tX.required(),value:tH}).required(),tV=tN.z.object({type:tL,reserve0:tW,reserve1:tW}).required(),tz=tN.z.object({type:tL,token0:tX,token1:tX,fee:tB,liquidity:tH,sqrtRatioX96:tH,tick:tN.z.number(),address:tD,token0ProtocolFee:tN.z.string(),token1ProtocolFee:tN.z.string()}).required(),tZ=tN.z.object({type:tL,balances:tN.z.array(tW),amplifier:tH,fee:tN.z.string()}).required(),t$=tN.z.array(tN.z.union([tV,tz,tZ])),tQ=tN.z.object({chainId:tO,tradeType:tU,amount:tW,currency:tX,candidatePools:t$,gasPriceWei:tH.optional(),maxHops:tN.z.number().optional(),maxSplits:tN.z.number().optional(),blockNumber:tH.optional(),poolTypes:tF.optional()}).required({chainId:!0,tradeType:!0,amount:!0,currency:!0,candidatePools:!0});(y=k||(k={}))[y.NOT_REQUIRED=0]="NOT_REQUIRED",y[y.MAX=1]="MAX",y[y.MAX_MINUS_ONE=2]="MAX_MINUS_ONE",y[y.ZERO_THEN_MAX=3]="ZERO_THEN_MAX",y[y.ZERO_THEN_MAX_MINUS_ONE=4]="ZERO_THEN_MAX_MINUS_ONE";let ApproveAndCall=class ApproveAndCall{static encodeApproveMax(e){return(0,eK.R)({abi:ApproveAndCall.ABI,functionName:"approveMax",args:[e.address]})}static encodeApproveMaxMinusOne(e){return(0,eK.R)({abi:ApproveAndCall.ABI,functionName:"approveMaxMinusOne",args:[e.address]})}static encodeApproveZeroThenMax(e){return(0,eK.R)({abi:ApproveAndCall.ABI,functionName:"approveZeroThenMax",args:[e.address]})}static encodeApproveZeroThenMaxMinusOne(e){return(0,eK.R)({abi:ApproveAndCall.ABI,functionName:"approveZeroThenMaxMinusOne",args:[e.address]})}static encodeCallPositionManager(e){if((0,x.Z)(e.length>0,"NULL_CALLDATA"),1===e.length)return(0,eK.R)({abi:ApproveAndCall.ABI,functionName:"callPositionManager",args:e});let t=(0,eK.R)({abi:NonfungiblePositionManager.ABI,functionName:"multicall",args:[e]});return(0,eK.R)({abi:ApproveAndCall.ABI,functionName:"callPositionManager",args:[t]})}static encodeAddLiquidity(e,t,n,i){let{amount0:a,amount1:r}=e.mintAmountsWithSlippage(i);return(t.amount0.quotient<a&&(a=t.amount0.quotient),t.amount1.quotient<r&&(r=t.amount1.quotient),Object.keys(n).some(e=>"recipient"===e))?(0,eK.R)({abi:ApproveAndCall.ABI,functionName:"mint",args:[{token0:e.pool.token0.address,token1:e.pool.token1.address,fee:e.pool.fee,tickLower:e.tickLower,tickUpper:e.tickUpper,amount0Min:a,amount1Min:r,recipient:n.recipient}]}):(0,eK.R)({abi:ApproveAndCall.ABI,functionName:"increaseLiquidity",args:[{token0:e.pool.token0.address,token1:e.pool.token1.address,amount0Min:a,amount1Min:r,tokenId:BigInt(n.tokenId)}]})}static encodeApprove(e,t){switch(t){case 1:return ApproveAndCall.encodeApproveMax(e.wrapped);case 2:return ApproveAndCall.encodeApproveMaxMinusOne(e.wrapped);case 3:return ApproveAndCall.encodeApproveZeroThenMax(e.wrapped);case 4:return ApproveAndCall.encodeApproveZeroThenMaxMinusOne(e.wrapped);default:throw Error("Error: invalid ApprovalType")}}constructor(){}};ApproveAndCall.ABI=[{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"callPositionManager",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getApprovalType",outputs:[{internalType:"enum IApproveAndCall.ApprovalType",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"}],internalType:"struct IApproveAndCall.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],internalType:"struct IApproveAndCall.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"}];let MulticallExtended=class MulticallExtended{static encodeMulticall(e,t){if(void 0===t)return Multicall.encodeMulticall(e);if(Array.isArray(e)||(e=[e]),"string"==typeof t&&t.startsWith("0x")){let n=function(e){if(!e.match(/^0x[0-9a-fA-F]{64}$/))throw Error(`${e} is not valid bytes32.`);return e.toLowerCase()}(t);return(0,eK.R)({abi:MulticallExtended.ABI,functionName:"multicall",args:[n,e]})}let n=BigInt(t);return(0,eK.R)({abi:MulticallExtended.ABI,functionName:"multicall",args:[n,e]})}constructor(){}};function encodeFeeBips(e){return e.multiply(1e4).quotient}MulticallExtended.ABI=[{inputs:[{internalType:"bytes32",name:"previousBlockhash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"}];let PaymentsExtended=class PaymentsExtended{static encodeUnwrapWETH9(e,t,n){if("string"==typeof t)return Payments.encodeUnwrapWETH9(e,t,n);if(n){let t=encodeFeeBips(n.fee),i=utils_validateAndParseAddress(n.recipient);return(0,eK.R)({abi:PaymentsExtended.ABI,functionName:"unwrapWETH9WithFee",args:[e,t,i]})}return(0,eK.R)({abi:PaymentsExtended.ABI,functionName:"unwrapWETH9",args:[e]})}static encodeSweepToken(e,t,n,i){if("string"==typeof n)return Payments.encodeSweepToken(e,t,n,i);if(i){let n=encodeFeeBips(i.fee),a=utils_validateAndParseAddress(i.recipient);return(0,eK.R)({abi:PaymentsExtended.ABI,functionName:"sweepTokenWithFee",args:[e.address,t,n,a]})}return(0,eK.R)({abi:PaymentsExtended.ABI,functionName:"sweepToken",args:[e.address,t]})}static encodePull(e,t){return(0,eK.R)({abi:PaymentsExtended.ABI,functionName:"pull",args:[e.address,t]})}static encodeWrapETH(e){return(0,eK.R)({abi:PaymentsExtended.ABI,functionName:"wrapETH",args:[e]})}constructor(){}};PaymentsExtended.ABI=[{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"pull",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"wrapETH",outputs:[],stateMutability:"payable",type:"function"}];let partitionMixedRouteByProtocol=e=>{let t=[],n=0,i=0;for(;i<e.pools.length;)e.pools[n].type!==e.pools[i].type&&(t.push(e.pools.slice(n,i)),n=i),++i===e.pools.length&&t.push(e.pools.slice(n,i));return t},getOutputOfPools=(e,t)=>{let{inputToken:n}=e.reduce((e,t)=>{let{inputToken:n}=e;if(!involvesCurrency(t,n))throw Error("PATH");let i=getOutputCurrency(t,n);return{inputToken:i}},{inputToken:t});return n},tG=new percent_Percent(50n,100n);let swapRouter_SwapRouter=class swapRouter_SwapRouter{static encodeV2Swap(e,t,n,i){let a=maximumAmountIn(e,t.slippageTolerance).quotient,r=minimumAmountOut(e,t.slippageTolerance).quotient,u=e.routes[0],s=u.path.map(e=>e.wrapped.address),o=n?eM:void 0===t.recipient?eA:utils_validateAndParseAddress(t.recipient);return e.tradeType===m.EXACT_INPUT?(0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"swapExactTokensForTokens",args:[a,i?0n:r,s,o]}):(0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"swapTokensForExactTokens",args:[r,a,s,o]})}static encodeStableSwap(e,t,n,i){let a=maximumAmountIn(e,t.slippageTolerance).quotient,r=minimumAmountOut(e,t.slippageTolerance).quotient;if(e.routes.length>1||e.routes[0].pools.some(e=>!isStablePool(e)))throw Error("Unsupported trade to encode");let u=e.routes[0],s=u.path.map(e=>e.wrapped.address),o=u.pools.map(e=>BigInt(e.balances.length)),p=n?eM:void 0===t.recipient?eA:utils_validateAndParseAddress(t.recipient);return e.tradeType===m.EXACT_INPUT?(0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"exactInputStableSwap",args:[s,o,a,i?0n:r,p]}):(0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"exactOutputStableSwap",args:[s,o,r,a,p]})}static encodeV3Swap(e,t,n,i){let a=[];for(let r of e.routes){let{inputAmount:u,outputAmount:s,pools:o,path:p}=r,l=maximumAmountIn(e,t.slippageTolerance,u).quotient,y=minimumAmountOut(e,t.slippageTolerance,s).quotient,d=1===o.length,c=n?eM:void 0===t.recipient?eA:utils_validateAndParseAddress(t.recipient);if(d){if(e.tradeType===m.EXACT_INPUT){let e={tokenIn:p[0].wrapped.address,tokenOut:p[1].wrapped.address,fee:o[0].fee,recipient:c,amountIn:l,amountOutMinimum:i?0n:y,sqrtPriceLimitX96:0n};a.push((0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"exactInputSingle",args:[e]}))}else{let e={tokenIn:p[0].wrapped.address,tokenOut:p[1].wrapped.address,fee:o[0].fee,recipient:c,amountOut:y,amountInMaximum:l,sqrtPriceLimitX96:0n};a.push((0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"exactOutputSingle",args:[e]}))}}else{let t=encodeMixedRouteToPath({...r,input:u.currency,output:s.currency},e.tradeType===m.EXACT_OUTPUT);if(e.tradeType===m.EXACT_INPUT){let e={path:t,recipient:c,amountIn:l,amountOutMinimum:i?0n:y};a.push((0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"exactInput",args:[e]}))}else{let e={path:t,recipient:c,amountOut:y,amountInMaximum:l};a.push((0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"exactOutput",args:[e]}))}}}return a}static encodeMixedRouteSwap(e,t,n,i){let a=[],r=e.tradeType===m.EXACT_INPUT;for(let u of e.routes){let{inputAmount:s,outputAmount:o,pools:p}=u,l=maximumAmountIn(e,t.slippageTolerance,s).quotient,y=minimumAmountOut(e,t.slippageTolerance,o).quotient,d=1===p.length,m=n?eM:void 0===t.recipient?eA:utils_validateAndParseAddress(t.recipient),mixedRouteIsAllV3=e=>e.pools.every(isV3Pool),mixedRouteIsAllV2=e=>e.pools.every(isV2Pool),mixedRouteIsAllStable=e=>e.pools.every(isStablePool);if(d){if(mixedRouteIsAllV3(u))a=[...a,...swapRouter_SwapRouter.encodeV3Swap({...e,routes:[u],inputAmount:s,outputAmount:o},t,n,i)];else if(mixedRouteIsAllV2(u))a=[...a,swapRouter_SwapRouter.encodeV2Swap({...e,routes:[u],inputAmount:s,outputAmount:o},t,n,i)];else if(mixedRouteIsAllStable(u))a=[...a,swapRouter_SwapRouter.encodeStableSwap({...e,routes:[u],inputAmount:s,outputAmount:o},t,n,i)];else throw Error("Unsupported route to encode")}else{let e;let t=partitionMixedRouteByProtocol(u),isLastSectionInRoute=e=>e===t.length-1,n=s.currency.wrapped;for(let i=0;i<t.length;i++){let u=t[i];e=getOutputOfPools(u,n);let s=buildBaseRoute([...u],n,e);n=e.wrapped;let o=isLastSectionInRoute(i),p=o?m:eM,d=0===i?l:0n,c=o?y:0n;if(mixedRouteIsAllV3(s)){let e=encodeMixedRouteToPath(s,!r);if(r){let t={path:e,recipient:p,amountIn:d,amountOutMinimum:c};a.push((0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"exactInput",args:[t]}))}else{let t={path:e,recipient:m,amountOut:c,amountInMaximum:d};a.push((0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"exactOutput",args:[t]}))}}else if(mixedRouteIsAllV2(s)){let e=s.path.map(e=>e.wrapped.address);if(r){let t=[d,c,e,p];a.push((0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"swapExactTokensForTokens",args:t}))}else{let t=[c,d,e,p];a.push((0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"swapTokensForExactTokens",args:t}))}}else if(mixedRouteIsAllStable(s)){let e=s.path.map(e=>e.wrapped.address),t=s.pools.map(e=>BigInt(e.balances.length));if(r){let n=[e,t,d,c,p];a.push((0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"exactInputStableSwap",args:n}))}else{let n=[e,t,c,d,p];a.push((0,eK.R)({abi:swapRouter_SwapRouter.ABI,functionName:"exactOutputStableSwap",args:n}))}}else throw Error("Unsupported route")}}}return a}static encodeSwaps(e,t,n){let i=Array.isArray(e)?e:[e],a=i.reduce((e,t)=>e+t.routes.length,0),r=i[0];(0,x.Z)(i.every(e=>e.inputAmount.currency.equals(r.inputAmount.currency)),"TOKEN_IN_DIFF"),(0,x.Z)(i.every(e=>e.outputAmount.currency.equals(r.outputAmount.currency)),"TOKEN_OUT_DIFF"),(0,x.Z)(i.every(e=>e.tradeType===r.tradeType),"TRADE_TYPE_DIFF");let u=[],s=r.inputAmount.currency.isNative,o=r.outputAmount.currency.isNative,p=r.tradeType===m.EXACT_INPUT&&a>2,l=o||!!t.fee||!!n||p;for(let e of(t.inputTokenPermit&&((0,x.Z)(r.inputAmount.currency.isToken,"NON_TOKEN_PERMIT"),u.push(SelfPermit.encodePermit(r.inputAmount.currency,t.inputTokenPermit))),i))if(1===e.routes.length&&e.routes[0].type===h.V2)u.push(swapRouter_SwapRouter.encodeV2Swap(e,t,l,p));else if(e.routes.every(e=>e.type===h.V3))for(let n of swapRouter_SwapRouter.encodeV3Swap(e,t,l,p))u.push(n);else for(let n of swapRouter_SwapRouter.encodeMixedRouteSwap(e,t,l,p))u.push(n);let y=currencyAmount_CurrencyAmount.fromRawAmount(r.inputAmount.currency,0),d=currencyAmount_CurrencyAmount.fromRawAmount(r.outputAmount.currency,0),c=i.reduce((e,n)=>e.add(minimumAmountOut(n,t.slippageTolerance)),d),T=i.reduce((e,t)=>e.add(t.outputAmount),d),f=i.reduce((e,n)=>e.add(maximumAmountIn(n,t.slippageTolerance)),y);return{calldatas:u,sampleTrade:r,routerMustCustody:l,inputIsNative:s,outputIsNative:o,totalAmountIn:f,minimumAmountOut:c,quoteAmountOut:T}}static swapCallParameters(e,t){let{calldatas:n,sampleTrade:i,routerMustCustody:a,inputIsNative:r,outputIsNative:u,totalAmountIn:s,minimumAmountOut:o}=swapRouter_SwapRouter.encodeSwaps(e,t);return a&&(u?n.push(PaymentsExtended.encodeUnwrapWETH9(o.quotient,t.recipient,t.fee)):n.push(PaymentsExtended.encodeSweepToken(i.outputAmount.currency.wrapped,o.quotient,t.recipient,t.fee))),r&&(i.tradeType===m.EXACT_OUTPUT||swapRouter_SwapRouter.riskOfPartialFill(e))&&n.push(Payments.encodeRefundETH()),{calldata:MulticallExtended.encodeMulticall(n,t.deadlineOrPreviousBlockhash),value:calldata_toHex(r?s.quotient:0n)}}static swapAndAddCallParameters(e,t,n,i,a,r){let u;let{calldatas:s,inputIsNative:o,outputIsNative:p,sampleTrade:l,totalAmountIn:y,quoteAmountOut:d,minimumAmountOut:m}=swapRouter_SwapRouter.encodeSwaps(e,t,!0);t.outputTokenPermit&&((0,x.Z)(d.currency.isToken,"NON_TOKEN_PERMIT_OUTPUT"),s.push(SelfPermit.encodePermit(d.currency,t.outputTokenPermit)));let{inputAmount:{currency:{chainId:c}}}=l,T=n.pool.token0.wrapped.address===y.currency.wrapped.address,{positionAmountIn:f,positionAmountOut:b}=swapRouter_SwapRouter.getPositionAmounts(n,T),h=o?G[c]:f.currency.wrapped,w=p?G[c]:b.currency.wrapped,g=b.subtract(d.wrapped);g.greaterThan(currencyAmount_CurrencyAmount.fromRawAmount(b.currency,0))&&(p?s.push(PaymentsExtended.encodeWrapETH(g.quotient)):s.push(PaymentsExtended.encodePull(w,g.quotient))),o?s.push(PaymentsExtended.encodeWrapETH(f.quotient)):s.push(PaymentsExtended.encodePull(h,f.quotient)),a!==k.NOT_REQUIRED&&s.push(ApproveAndCall.encodeApprove(h,a)),r!==k.NOT_REQUIRED&&s.push(ApproveAndCall.encodeApprove(w,r));let v=Position.fromAmounts({pool:n.pool,tickLower:n.tickLower,tickUpper:n.tickUpper,amount0:T?n.amount0.quotient.toString():m.quotient.toString(),amount1:T?m.quotient.toString():n.amount1.quotient.toString(),useFullPrecision:!1});return s.push(ApproveAndCall.encodeAddLiquidity(n,v,i,t.slippageTolerance)),o?s.push(PaymentsExtended.encodeUnwrapWETH9(0n)):s.push(PaymentsExtended.encodeSweepToken(h,0n)),p?s.push(PaymentsExtended.encodeUnwrapWETH9(0n)):s.push(PaymentsExtended.encodeSweepToken(w,0n)),u=o?y.wrapped.add(f.wrapped).quotient:p?g.quotient:0n,{calldata:MulticallExtended.encodeMulticall(s,t.deadlineOrPreviousBlockhash),value:calldata_toHex(u.toString())}}static riskOfPartialFill(e){return Array.isArray(e)?e.some(e=>swapRouter_SwapRouter.v3TradeWithHighPriceImpact(e)):swapRouter_SwapRouter.v3TradeWithHighPriceImpact(e)}static v3TradeWithHighPriceImpact(e){return!(1===e.routes.length&&e.routes[0].type===h.V2)&&(function(e){let t=currencyAmount_CurrencyAmount.fromRawAmount(e.outputAmount.currency.wrapped,0);for(let n of e.routes){let{inputAmount:e}=n,i=function(e){let{path:t,pools:n}=e,i=0,a=null;for(let e of n){let n=t[i].wrapped,r=t[i+1].wrapped,u=getTokenPrice(e,n,r);a=a?a.multiply(u):u,i+=1}if(!a)throw Error("Get mid price failed");return a}(n);t=t.add(i.quote(e.wrapped))}let n=t.subtract(e.outputAmount.wrapped).divide(t);return new percent_Percent(n.numerator,n.denominator)})(e).greaterThan(tG)}static getPositionAmounts(e,t){let{amount0:n,amount1:i}=e.mintAmounts,a=currencyAmount_CurrencyAmount.fromRawAmount(e.pool.token0,n),r=currencyAmount_CurrencyAmount.fromRawAmount(e.pool.token1,i),[u,s]=t?[a,r]:[r,a];return{positionAmountIn:u,positionAmountOut:s}}constructor(){}};swapRouter_SwapRouter.ABI=[{inputs:[{internalType:"address",name:"_factoryV2",type:"address"},{internalType:"address",name:"_deployer",type:"address"},{internalType:"address",name:"_factoryV3",type:"address"},{internalType:"address",name:"_positionManager",type:"address"},{internalType:"address",name:"_stableFactory",type:"address"},{internalType:"address",name:"_stableInfo",type:"address"},{internalType:"address",name:"_WETH9",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"factory",type:"address"},{indexed:!0,internalType:"address",name:"info",type:"address"}],name:"SetStableSwap",type:"event"},{inputs:[],name:"WETH9",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMax",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"approveZeroThenMaxMinusOne",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"}],name:"callPositionManager",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"paths",type:"bytes[]"},{internalType:"uint128[]",name:"amounts",type:"uint128[]"},{internalType:"uint24",name:"maximumTickDivergence",type:"uint24"},{internalType:"uint32",name:"secondsAgo",type:"uint32"}],name:"checkOracleSlippage",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"uint24",name:"maximumTickDivergence",type:"uint24"},{internalType:"uint32",name:"secondsAgo",type:"uint32"}],name:"checkOracleSlippage",outputs:[],stateMutability:"view",type:"function"},{inputs:[],name:"deployer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactInputParams",name:"params",type:"tuple"}],name:"exactInput",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMinimum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactInputSingleParams",name:"params",type:"tuple"}],name:"exactInputSingle",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address[]",name:"path",type:"address[]"},{internalType:"uint256[]",name:"flag",type:"uint256[]"},{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"exactInputStableSwap",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes",name:"path",type:"bytes"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"}],internalType:"struct IV3SwapRouter.ExactOutputParams",name:"params",type:"tuple"}],name:"exactOutput",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"tokenIn",type:"address"},{internalType:"address",name:"tokenOut",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMaximum",type:"uint256"},{internalType:"uint160",name:"sqrtPriceLimitX96",type:"uint160"}],internalType:"struct IV3SwapRouter.ExactOutputSingleParams",name:"params",type:"tuple"}],name:"exactOutputSingle",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address[]",name:"path",type:"address[]"},{internalType:"uint256[]",name:"flag",type:"uint256[]"},{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address",name:"to",type:"address"}],name:"exactOutputStableSwap",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[],name:"factory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"factoryV2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"getApprovalType",outputs:[{internalType:"enum IApproveAndCall.ApprovalType",name:"",type:"uint8"}],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"}],internalType:"struct IApproveAndCall.IncreaseLiquidityParams",name:"params",type:"tuple"}],name:"increaseLiquidity",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"address",name:"token0",type:"address"},{internalType:"address",name:"token1",type:"address"},{internalType:"uint24",name:"fee",type:"uint24"},{internalType:"int24",name:"tickLower",type:"int24"},{internalType:"int24",name:"tickUpper",type:"int24"},{internalType:"uint256",name:"amount0Min",type:"uint256"},{internalType:"uint256",name:"amount1Min",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],internalType:"struct IApproveAndCall.MintParams",name:"params",type:"tuple"}],name:"mint",outputs:[{internalType:"bytes",name:"result",type:"bytes"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"previousBlockhash",type:"bytes32"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes[]",name:"data",type:"bytes[]"}],name:"multicall",outputs:[{internalType:"bytes[]",name:"results",type:"bytes[]"}],stateMutability:"payable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int256",name:"amount0Delta",type:"int256"},{internalType:"int256",name:"amount1Delta",type:"int256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"pancakeV3SwapCallback",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"positionManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"pull",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"refundETH",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermit",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowed",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"uint256",name:"expiry",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitAllowedIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"selfPermitIfNecessary",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_factory",type:"address"},{internalType:"address",name:"_info",type:"address"}],name:"setStableSwap",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"stableSwapFactory",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"stableSwapInfo",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"amountIn",type:"uint256"},{internalType:"uint256",name:"amountOutMin",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapExactTokensForTokens",outputs:[{internalType:"uint256",name:"amountOut",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountOut",type:"uint256"},{internalType:"uint256",name:"amountInMax",type:"uint256"},{internalType:"address[]",name:"path",type:"address[]"},{internalType:"address",name:"to",type:"address"}],name:"swapTokensForExactTokens",outputs:[{internalType:"uint256",name:"amountIn",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"}],name:"sweepToken",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"token",type:"address"},{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"sweepTokenWithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"}],name:"unwrapWETH9",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"amountMinimum",type:"uint256"},{internalType:"uint256",name:"feeBips",type:"uint256"},{internalType:"address",name:"feeRecipient",type:"address"}],name:"unwrapWETH9WithFee",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"}],name:"wrapETH",outputs:[],stateMutability:"payable",type:"function"},{stateMutability:"payable",type:"receive"}];var tK=n(42029);d.ETHEREUM;let tj="0xcA11bde05977b3631167028862bE2a173976CA11",tY={[d.ETHEREUM]:tj};d.ETHEREUM,d.ETHEREUM,d.ETHEREUM;let tJ=[{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"aggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes[]",name:"returnData",type:"bytes[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"blockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall2.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],name:"getBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBlockNumber",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockCoinbase",outputs:[{internalType:"address",name:"coinbase",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockDifficulty",outputs:[{internalType:"uint256",name:"difficulty",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockGasLimit",outputs:[{internalType:"uint256",name:"gaslimit",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"addr",type:"address"}],name:"getEthBalance",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getLastBlockHash",outputs:[{internalType:"bytes32",name:"blockHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"tryAggregate",outputs:[{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall2.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"requireSuccess",type:"bool"},{components:[{internalType:"address",name:"target",type:"address"},{internalType:"bytes",name:"callData",type:"bytes"}],internalType:"struct Multicall2.Call[]",name:"calls",type:"tuple[]"}],name:"tryBlockAndAggregate",outputs:[{internalType:"uint256",name:"blockNumber",type:"uint256"},{internalType:"bytes32",name:"blockHash",type:"bytes32"},{components:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],internalType:"struct Multicall2.Result[]",name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}];n(8804);var t2=n(80444),t0=n(42170),t6=n(68597);function createViemPublicClients(){let{transportSignal:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return I.reduce((t,n)=>({...t,[n.id]:(0,t2.v)({chain:n,transport:(0,t0.t)(P[n.id].map(t=>(0,t6.d)(t,{timeout:1e4,fetchOptions:{signal:e}})),{rank:!1}),batch:{multicall:{batchSize:204800,wait:16}},pollingInterval:6e3})}),{})}let t5=createViemPublicClients(),t1=function(){let{viemClients:e,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e||createViemPublicClients(t);return function(e){let{chainId:t}=e;return n[t]}}({viemClients:t5});let RetryableError=class RetryableError extends Error{};let t3=[];async function fetchChunk(e,t,n){let i,a;console.debug("Fetching chunk",e,t,n);let r=t1({chainId:e});try{[i,,a]=await r.readContract({abi:tJ,address:tY[e||d.ETHEREUM]||tj,functionName:"tryBlockAndAggregate",args:[!1,t.map(e=>({callData:e.callData,target:e.address}))],blockNumber:BigInt(n)})}catch(i){var u,s,o,p,l;if(-32e3===i.code||(null==i?void 0:null===(u=i.data)||void 0===u?void 0:u.message)&&(null==i?void 0:null===(o=i.data)||void 0===o?void 0:null===(s=o.message)||void 0===s?void 0:s.indexOf("header not found"))!==-1||(null===(p=i.message)||void 0===p?void 0:p.indexOf("header not found"))!==-1)throw new RetryableError(`header not found for block number ${n}`);if((-32603===i.code||(null===(l=i.message)||void 0===l?void 0:l.indexOf("execution ran out of gas"))!==-1)&&t.length>1){let i=Math.floor(t.length/2),[a,r]=await Promise.all([fetchChunk(e,t.slice(0,i),n),fetchChunk(e,t.slice(i,t.length),n)]);return{results:a.results.concat(r.results),blockNumber:r.blockNumber}}throw console.debug("Failed to fetch chunk inside retry",i),i}let y=t3.includes(e);return Number(i)<n&&!y&&console.debug(`Fetched results for old block number: ${null==i?void 0:i.toString()} vs. ${n}`),{results:a,blockNumber:y?n:Number(i)}}let{parseCurrency:t8,parseCurrencyAmount:t9,parsePool:t4,serializeTrade:t7}=g,ne=fetch,fetchWithLogging=async(e,t)=>{let n,i;let a=Date.now();t&&"POST"===t.method&&t.body&&(n=e.toString(),i=t.body.toString().length/1024);let r=await ne(e,t),u=Date.now();return n&&i&&!n.includes("vercel-vitals.axiom.co")&&tK.cM.info("QuoteRPC",{url:n,size:i,time:u-a,status:r.status}),r};globalThis.fetch=fetchWithLogging;let nt=function(e){let{onChainProvider:t,multicallConfigs:n}=e,i=function(){let createGetRoutesWithQuotes=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return function(t,n){let{reserve0:i,reserve1:a}=t,r=new Pair(i.wrapped,a.wrapped),[u]=e?r.getOutputAmount(n.wrapped):r.getInputAmount(n.wrapped);return u}}(e),n=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=e?getSwapOutput:getSwapInput;return function(e,n){let{amplifier:i,balances:a,fee:r}=e;return t({amount:n,balances:a,amplifier:i,outputCurrency:getOutputCurrency(e,n.currency),fee:r})}}(e),i=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return async function(t,n){let{token0:i,token1:a,fee:r,sqrtRatioX96:u,liquidity:s,ticks:o,tick:p}=t;if(!(null==o?void 0:o.length))return null;try{let t=new pool_Pool(i.wrapped,a.wrapped,r,u,s,p,o),[l,y]=e?await t.getOutputAmount(n.wrapped):await t.getInputAmount(n.wrapped);if(l.quotient<=0n)return null;let{tickCurrent:d}=y,m=TickList.countInitializedTicksCrossed(o,p,d);return{quote:l,numOfTicksCrossed:m}}catch(e){return null}}}(e),adjustQuoteForGas=(t,n)=>e?t.subtract(n):t.add(n);return async function(a,r){let{gasModel:u}=r,s=[];for(let r of a)try{let{pools:a,amount:o}=r,p=o,l=Array(a.length).fill(0),y=!0;for(let[r,u]of function*(t){let n=e?0:t.length-1,hasNext=()=>e?n<t.length:n>=0;for(;hasNext();)yield[t[n],n],e?n+=1:n-=1}(a)){if(isV2Pool(r)){p=t(r,p);continue}if(isStablePool(r)){p=n(r,p);continue}if(isV3Pool(r)){let e=await i(r,p);if(!e||0n===e.quote.quotient){y=!1;break}let{quote:t,numOfTicksCrossed:n}=e;p=t,l[u]=n}}if(!y)continue;let{gasEstimate:d,gasCostInUSD:m,gasCostInToken:c}=u.estimateGasCost({...r,quote:p},{initializedTickCrossedList:l});s.push({...r,quote:p,quoteAdjustedForGas:adjustQuoteForGas(p,c),gasEstimate:d,gasCostInUSD:m,gasCostInToken:c})}catch(e){}return s}};return{getRouteWithQuotesExactIn:createGetRoutesWithQuotes(!0),getRouteWithQuotesExactOut:createGetRoutesWithQuotes(!1)}}(),a=tS({onChainProvider:t,multicallConfigs:n}),r=tC({onChainProvider:t,multicallConfigs:n}),createGetRouteWithQuotes=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=e?i.getRouteWithQuotesExactIn:i.getRouteWithQuotesExactOut,n=e?a.getRouteWithQuotesExactIn:a.getRouteWithQuotesExactOut,u=e?r.getRouteWithQuotesExactIn:r.getRouteWithQuotesExactOut;return async function(e,i){let{blockNumber:a,gasModel:r}=i,s=[],o=[],p=[];for(let t of e){if(t.type===h.V2||t.type===h.STABLE){p.push(t);continue}if(t.type===h.V3){s.push(t);continue}let{pools:e}=t;if(e.some(e=>isV3Pool(e))){o.push(t);continue}p.push(t)}let[l,y,d]=await Promise.all([t(p,{blockNumber:a,gasModel:r}),n(o,{blockNumber:a,gasModel:r}),u(s,{blockNumber:a,gasModel:r})]);return[...l,...y,...d]}};return{getRouteWithQuotesExactIn:createGetRouteWithQuotes(!0),getRouteWithQuotesExactOut:createGetRouteWithQuotes(!1)}}({onChainProvider:t1});addEventListener("message",e=>{let{data:t}=e,[n,i]=t;if("multicallChunk"===i.cmd&&fetchChunk(i.params.chainId,i.params.chunk,i.params.minBlockNumber).then(e=>{postMessage([n,{success:!0,result:e}])}).catch(e=>{postMessage([n,{success:!1,error:e}])}),"getBestTrade"===i.cmd){let e=tQ.safeParse(i.params);if(!1===e.success){postMessage([n,{success:!1,error:e.error.message}]);return}let{amount:t,chainId:a,currency:r,tradeType:u,blockNumber:s,gasPriceWei:o,maxHops:p,maxSplits:l,poolTypes:y,candidatePools:d}=e.data,m=t9(a,t),c=t8(a,r),T=d.map(e=>t4(a,e)),f=o?BigInt(o):async()=>BigInt(await (await t1({chainId:a}).getGasPrice()).toString());getBestTrade(m,c,u,{gasPriceWei:f,poolProvider:function(e){let t=[b.V2,b.STABLE,b.V3];return{getCandidatePools:async n=>{let{protocols:i=t,pairs:a}=n;if(!e)return[];if(!a)return e.filter(e=>i.includes(e.type));let r=[];for(let[t,n]of a)for(let a of e)involvesCurrency(a,t)&&involvesCurrency(a,n)&&i.includes(a.type)&&r.push(a);return r}}}(T),quoteProvider:nt,maxHops:p,maxSplits:l,blockNumber:s?Number(s):void 0,allowedPoolTypes:y,quoterOptimization:!1}).then(e=>{postMessage([n,{success:!0,result:t7(e)}])}).catch(e=>{postMessage([n,{success:!1,error:e.message}])})}})}},s={};function __webpack_require__(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={id:e,loaded:!1,exports:{}},i=!0;try{u[e].call(n.exports,n,n.exports,__webpack_require__),i=!1}finally{i&&delete s[e]}return n.loaded=!0,n.exports}__webpack_require__.m=u,__webpack_require__.x=function(){var e=__webpack_require__.O(void 0,[3064,221],function(){return __webpack_require__(5668)});return __webpack_require__.O(e)},e=[],__webpack_require__.O=function(t,n,i,a){if(n){a=a||0;for(var r=e.length;r>0&&e[r-1][2]>a;r--)e[r]=e[r-1];e[r]=[n,i,a];return}for(var u=1/0,r=0;r<e.length;r++){for(var n=e[r][0],i=e[r][1],a=e[r][2],s=!0,o=0;o<n.length;o++)u>=a&&Object.keys(__webpack_require__.O).every(function(e){return __webpack_require__.O[e](n[o])})?n.splice(o--,1):(s=!1,a<u&&(u=a));if(s){e.splice(r--,1);var p=i();void 0!==p&&(t=p)}}return t},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.f={},__webpack_require__.e=function(e){return Promise.all(Object.keys(__webpack_require__.f).reduce(function(t,n){return __webpack_require__.f[n](e,t),t},[]))},__webpack_require__.u=function(e){return 3064===e?"static/chunks/3064-299db58e7d320af9.js":"static/chunks/"+e+"."+({221:"c6feb6a25871658e",422:"407c9456b8ae3b21"})[e]+".js"},__webpack_require__.miniCssF=function(e){},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},__webpack_require__.tt=function(){return void 0===t&&(t={createScriptURL:function(e){return e}},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(t=trustedTypes.createPolicy("nextjs#bundler",t))),t},__webpack_require__.tu=function(e){return __webpack_require__.tt().createScriptURL(e)},__webpack_require__.p="/_next/",n={8677:1},__webpack_require__.f.i=function(e,t){n[e]||importScripts(__webpack_require__.tu(__webpack_require__.p+__webpack_require__.u(e)))},a=(i=self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push.bind(i),i.push=function(e){var t=e[0],i=e[1],r=e[2];for(var u in i)__webpack_require__.o(i,u)&&(__webpack_require__.m[u]=i[u]);for(r&&r(__webpack_require__);t.length;)n[t.pop()]=1;a(e)},r=__webpack_require__.x,__webpack_require__.x=function(){return Promise.all([__webpack_require__.e(3064),__webpack_require__.e(221)]).then(r)},_N_E=__webpack_require__.x()}();