"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3064],{55709:function(e,t,r){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n.throw(e))}catch(e){s(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(s){return function(a){return function(s){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},i=this&&this.__spreadArray||function(e,t,r){if(r||2==arguments.length)for(var n,o=0,s=t.length;o<s;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.prettyPrint=t.log=t.Logger=void 0;var a=r(19690),l=r(19690),u=a.isBrowser?"".concat(a.proxyPath,"/logs"):(0,a.getIngestURL)(a.EndpointType.logs),c=function(){function Logger(e,t,r){void 0===e&&(e={}),void 0===t&&(t=null),void 0===r&&(r=!0),this.args=e,this.req=t,this.autoFlush=r,this.logEvents=[],this.throttledSendLogs=(0,l.throttle)(this.sendLogs,1e3),this.flush=this.sendLogs}return Logger.prototype.debug=function(e,t){void 0===t&&(t={}),this._log("debug",e,n(n({},this.args),t))},Logger.prototype.info=function(e,t){void 0===t&&(t={}),this._log("info",e,n(n({},this.args),t))},Logger.prototype.warn=function(e,t){void 0===t&&(t={}),this._log("warn",e,n(n({},this.args),t))},Logger.prototype.error=function(e,t){void 0===t&&(t={}),this._log("error",e,n(n({},this.args),t))},Logger.prototype.with=function(e){return new Logger(n(n({},this.args),e),this.req,this.autoFlush)},Logger.prototype.withRequest=function(e){return new Logger(n({},this.args),e,this.autoFlush)},Logger.prototype._log=function(e,t,r){void 0===r&&(r={});var n={level:e,message:t,_time:new Date(Date.now()).toISOString(),fields:{}};Object.keys(r).length>0&&(n.fields=r),n.vercel={environment:a.vercelEnv,region:a.vercelRegion},null!=this.req&&(n.request=this.req,n.vercel.route=this.req.path),this.logEvents.push(n),this.autoFlush&&this.throttledSendLogs()},Logger.prototype.attachResponseStatus=function(e){this.logEvents=this.logEvents.map(function(t){return t.request&&(t.request.statusCode=e),t})},Logger.prototype.sendLogs=function(){return o(this,void 0,void 0,function(){var e,t,n,o;return s(this,function(s){switch(s.label){case 0:if(!this.logEvents.length)return[2];if(!a.isEnvVarsSet)return this.logEvents.forEach(function(e){return prettyPrint(e)}),this.logEvents=[],[2];e="POST",t=!0,n=JSON.stringify(this.logEvents),this.logEvents=[],s.label=1;case 1:if(s.trys.push([1,8,,9]),"undefined"!=typeof fetch)return[3,4];return[4,r(66477)];case 2:return[4,s.sent()(u,{body:n,method:e,keepalive:t})];case 3:return s.sent(),[3,7];case 4:if(!(a.isBrowser&&navigator.sendBeacon))return[3,5];return navigator.sendBeacon(u,n),[3,7];case 5:return[4,fetch(u,{body:n,method:e,keepalive:t})];case 6:s.sent(),s.label=7;case 7:return[3,9];case 8:return o=s.sent(),console.error("Failed to send logs to Axiom: ".concat(o)),[3,9];case 9:return[2]}})})},Logger}();t.Logger=c,t.log=new c;var h={info:{terminal:"32",browser:"lightgreen"},debug:{terminal:"36",browser:"lightblue"},warn:{terminal:"33",browser:"yellow"},error:{terminal:"31",browser:"red"}};function prettyPrint(e){var t=Object.keys(e.fields).length>0;if(a.isNoPrettyPrint){var r="".concat(e.level," - ").concat(e.message);t&&(r+=" "+JSON.stringify(e.fields)),console.log(r);return}var n="",o=[e.level,e.message];a.isBrowser?(n="%c%s - %s",o=i(["color: ".concat(h[e.level].browser,";")],o,!0)):n="\x1b[".concat(h[e.level].terminal,"m%s\x1b[0m - %s"),t&&(n+=" %o",o.push(e.fields)),e.request&&(n+=" %o",o.push(e.request)),console.log.apply(console,i([n],o,!0))}t.prettyPrint=prettyPrint},19690:function(e,t,r){var n,o=r(83454);Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=t.getIngestURL=t.EndpointType=t.vercelEnv=t.vercelRegion=t.isNoPrettyPrint=t.isEnvVarsSet=t.isBrowser=t.proxyPath=void 0,t.proxyPath="/_axiom",t.isBrowser="undefined"!=typeof window,t.isEnvVarsSet=o.env.AXIOM_INGEST_ENDPOINT||o.env.NEXT_PUBLIC_AXIOM_INGEST_ENDPOINT,t.isNoPrettyPrint="true"==o.env.AXIOM_NO_PRETTY_PRINT,t.vercelRegion=o.env.VERCEL_REGION,t.vercelEnv=o.env.VERCEL_ENV,(n=t.EndpointType||(t.EndpointType={})).webVitals="web-vitals",n.logs="logs",t.getIngestURL=function(e){var t=o.env.AXIOM_INGEST_ENDPOINT||o.env.NEXT_PUBLIC_AXIOM_INGEST_ENDPOINT;if(!t)return"";var r=new URL(t);return r.searchParams.set("type",e.toString()),r.toString()},t.throttle=function(e,t){var r,n;return function(){var o=this,s=arguments;null==n&&(n=Date.now()),clearTimeout(r),r=setTimeout(function(){Date.now()-n>=t&&(e.apply(o,s),n=Date.now())},Math.max(t-(Date.now()-n),0))}}},20921:function(e,t,r){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.reportWebVitals=void 0;var o=r(19690),s="".concat(o.proxyPath,"/web-vitals"),i=(0,o.throttle)(function(){var e=JSON.stringify({webVitals:a});function sendFallback(){fetch(s,{body:e,method:"POST",keepalive:!0}).catch(console.error)}if(o.isBrowser&&navigator.sendBeacon)try{navigator.sendBeacon.bind(navigator)(s,e)}catch(e){sendFallback()}else sendFallback();a=[]},1e3),a=[];t.reportWebVitals=function(e){var t;a.push(n({route:null===(t=window.__NEXT_DATA__)||void 0===t?void 0:t.page},e)),o.isEnvVarsSet&&i()}},42726:function(e,t,r){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function fulfilled(e){try{step(n.next(e))}catch(e){s(e)}}function rejected(e){try{step(n.throw(e))}catch(e){s(e)}}function step(e){var t;e.done?o(e.value):((t=e.value)instanceof r?t:new r(function(e){e(t)})).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var r,n,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function verb(s){return function(a){return function(s){if(r)throw TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;switch(n=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e],n=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.withAxiom=void 0;var i=r(55709),a=r(19690);function logEdgeReport(e){console.log("AXIOM_EDGE_REPORT::".concat(JSON.stringify(e)))}t.withAxiom=function(e){return"object"==typeof e?function(e){var t=this;return n(n({},e),{rewrites:function(){return o(t,void 0,void 0,function(){var t,r,n,o,l,u;return s(this,function(s){switch(s.label){case 0:return[4,null===(u=e.rewrites)||void 0===u?void 0:u.call(e)];case 1:if(t=s.sent(),r=(0,a.getIngestURL)(a.EndpointType.webVitals),n=(0,a.getIngestURL)(a.EndpointType.logs),!r&&!n)return(o=new i.Logger).warn("axiom: Envvars not detected. If this is production please see https://github.com/axiomhq/next-axiom for help"),o.warn("axiom: Sending Web Vitals to /dev/null"),o.warn("axiom: Sending logs to console"),[2,t||[]];if(l=[{source:"".concat(a.proxyPath,"/web-vitals"),destination:r,basePath:!1},{source:"".concat(a.proxyPath,"/logs"),destination:n,basePath:!1}],!t)return[2,l];if(Array.isArray(t))return[2,t.concat(l)];return t.afterFiles=(t.afterFiles||[]).concat(l),[2,t]}})})}})}(e):"function"==typeof e&&void 0===globalThis.EdgeRuntime?function(e){var t=this;return function(r,n){return o(t,void 0,void 0,function(){var t,l,u,c,h,f,g;return s(this,function(p){switch(p.label){case 0:t={startTime:new Date().getTime(),path:r.url,method:r.method,host:getHeaderOrDefault(r,"host",""),userAgent:getHeaderOrDefault(r,"user-agent",""),scheme:"https",ip:getHeaderOrDefault(r,"x-forwarded-for",""),region:a.vercelRegion},l=new i.Logger({},t,!1),(u=r).log=l,h=(c=function(e,t){var r=this,n=[],i=t.send;t.send=function(a){n.push(o(r,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return e.log.attachResponseStatus(t.statusCode),[4,e.log.flush()];case 1:return r.sent(),i(a),[2]}})}))};var a=t.json;t.json=function(i){n.push(o(r,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return e.log.attachResponseStatus(t.statusCode),[4,e.log.flush()];case 1:return r.sent(),a(i),[2]}})}))};var l=t.end;return t.end=function(i){return n.push(o(r,void 0,void 0,function(){return s(this,function(r){switch(r.label){case 0:return e.log.attachResponseStatus(t.statusCode),[4,e.log.flush()];case 1:return r.sent(),l(i),[2]}})})),t},[t,n]}(u,n))[0],f=c[1],p.label=1;case 1:return p.trys.push([1,5,,8]),[4,e(u,h)];case 2:return p.sent(),[4,l.flush()];case 3:case 6:return p.sent(),[4,Promise.all(f)];case 4:return p.sent(),[3,8];case 5:return g=p.sent(),l.error("Error in API handler",{error:g}),l.attachResponseStatus(500),[4,l.flush()];case 7:throw p.sent(),g;case 8:return[2]}})})}}(e):function(e){var t=this;return function(r,n){return o(t,void 0,void 0,function(){var t,o,a,l,u,c;return s(this,function(s){switch(s.label){case 0:t={startTime:new Date().getTime(),ip:r.ip,region:null===(c=r.geo)||void 0===c?void 0:c.region,host:r.nextUrl.host,method:r.method,path:r.nextUrl.pathname,scheme:r.nextUrl.protocol.replace(":",""),userAgent:r.headers.get("user-agent")},o=new i.Logger({},t,!1),(a=r).log=o,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e(a,n)];case 2:return(l=s.sent())&&o.attachResponseStatus(l.status),n.waitUntil(o.flush()),logEdgeReport(t),[2,l];case 3:throw u=s.sent(),o.error("Error in edge function",{error:u}),o.attachResponseStatus(500),n.waitUntil(o.flush()),logEdgeReport(t),u;case 4:return[2]}})})}}(e)};var getHeaderOrDefault=function(e,t,r){return e.headers[t]?e.headers[t]:r}},66477:function(e,t){t.Headers=self.Headers,t.Request=self.Request,t.Response=self.Response,t.fetch=self.fetch}}]);