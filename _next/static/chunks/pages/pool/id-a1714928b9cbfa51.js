(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4761],{39211:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pool/id",function(){return t(57058)}])},95359:function(e,n,t){"use strict";t.d(n,{j:function(){return RangePriceSection}});var r=t(85893),i=t(87619),o=t(19521);let l=(0,o.ZP)(i.xuv).withConfig({componentId:"sc-133e391c-0"})`
  width: ${e=>{let{width:n}=e;return null!=n?n:"100%"}};
  padding: ${e=>{let{padding:n}=e;return null!=n?n:"1.25rem"}};
  border: 1px solid ${e=>{let{theme:n}=e;return n.colors.primary}};
  background-color: ${e=>{let{theme:n}=e;return n.colors.modal}};
  border-radius: ${e=>{let{borderRadius:n}=e;return null!=n?n:"8px"}};
`,RangePriceSection=e=>{let{title:n,currency0:t,currency1:o,price:s,...c}=e;return(0,r.jsxs)(l,{...c,style:{paddingTop:"8px",paddingBottom:"8px",textAlign:"center"},children:[(0,r.jsx)(i.xvT,{fontSize:"12px",color:"secondary",textTransform:"uppercase",mb:"4px",children:n}),(0,r.jsx)(i.xvT,{fontSize:"20px",mb:"4px",children:s}),(0,r.jsxs)(i.xvT,{fontSize:"12px",color:"textSubtle",children:[null==t?void 0:t.symbol," per ",null==o?void 0:o.symbol]})]})}},93490:function(e,n,t){"use strict";var r,i,o,l,s,c,d,u;t.d(n,{Mb:function(){return l},iF:function(){return a}}),(s=r||(r={})).COMMUNITY="Community",s.CORE="Core",s.BINANCE="Binance",s.AUTO="Auto",(c=i||(i={})).PENDING="pending",c.OPEN="open",c.CLOSE="close",c.CLAIMABLE="claimable",(d=o||(o={}))[d.ToBeAnnounced=0]="ToBeAnnounced",d[d.Pending=1]="Pending",d[d.Open=2]="Open",d[d.Finished=3]="Finished",d[d.Closed=4]="Closed";let a={Idle:"idle",Fetching:"pending",Fetched:"success",Failed:"error"};(u=l||(l={})).LOWER="LOWER",u.UPPER="UPPER"},9536:function(e,n,t){"use strict";t.d(n,{Z:function(){return useIsTickAtLimit}});var r=t(31717),i=t(67294),o=t(93490);function useIsTickAtLimit(e,n,t){return(0,i.useMemo)(()=>({[o.Mb.LOWER]:e&&n?n===(0,r.Gp)(r.pk.MIN_TICK,r.LX[e]):void 0,[o.Mb.UPPER]:e&&t?t===(0,r.Gp)(r.pk.MAX_TICK,r.LX[e]):void 0}),[e,n,t])}},75256:function(e,n,t){"use strict";t.d(n,{C:function(){return formatTickPrice}});var r=t(32214),i=t(93490);function formatTickPrice(e,n,t,o,l){return n[t]?t===i.Mb.LOWER?"0":"∞":e||void 0===l?(null==e?void 0:e.greaterThan(1e15))?"∞":(0,r.T4)(e,6,o):l}},62130:function(e,n,t){"use strict";function getPriceOrderingFromPositionForUI(e){if(!e)return{};let n=e.amount0.currency,t=e.amount1.currency;return e.token0PriceUpper.lessThan(1)?{priceLower:e.token0PriceUpper.invert(),priceUpper:e.token0PriceLower.invert(),quote:n,base:t}:{priceLower:e.token0PriceLower,priceUpper:e.token0PriceUpper,quote:t,base:n}}t.d(n,{Z:function(){return getPriceOrderingFromPositionForUI}})},57058:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return en}});var r=t(85893),i=t(63150),o=t(29928),l=t(87619),s=t(12021),c=t(40231),d=t(36945),u=t(31717),a=t(26256),x=t(98287),p=t(28583),m=t(66749),h=t(9536),j=t(67947),v=t(90579),y=t(95359),f=t(99006),g=t(31347),b=t(93490),w=t(58844),C=t(27086),k=t(89704),T=t(19516),S=t(44149),I=t(32229),P=t(75256),A=t(62130),B=t(67294),$=t(26647),L=t(57078),R=t(19521),Z=t(10777),F=t(61129),q=t(78774),O=t(32214),U=t(22066),z=t(91592),W=t(33590),E=t(18803),N=t(58865),_=t(25375),M=t(27484),X=t.n(M),D=t(58722),H=t(95946),K=t(13670),utils_isPoolTickInRange=(e,n,t)=>{let r=e&&"number"==typeof n?e.tickCurrent<n:void 0,i=e&&"number"==typeof t?e.tickCurrent>=t:void 0;return"boolean"==typeof r&&"boolean"==typeof i&&!r&&!i},G=t(78074);let V=(0,R.ZP)(l.xuv).withConfig({componentId:"sc-8f153310-0"})`
    width: ${e=>{let{width:n}=e;return null!=n?n:"100%"}};
    padding: ${e=>{let{padding:n}=e;return null!=n?n:"1.25rem"}};
    border: 1px solid ${e=>{let{theme:n}=e;return n.colors.primary}};
    background-color: ${e=>{let{theme:n}=e;return n.colors.modal}};
    border-radius: ${e=>{let{borderRadius:n}=e;return null!=n?n:"8px"}};
  `,Y=(0,R.ZP)(l.Zbd).withConfig({componentId:"sc-8f153310-1"})`
  // background: ${e=>{let{theme:n}=e;return n.colors.background}};
  border: 3px solid ${e=>{let{theme:n}=e;return n.colors.textDisabled}};
  border-radius: 8px;
  padding: 12px;
  max-width: 858px;
  width: 100%;
  z-index: 1;
`,useInverter=e=>{let{priceLower:n,priceUpper:t,quote:r,base:i,invert:o}=e;return{priceUpper:o?null==n?void 0:n.invert():t,priceLower:o?null==t?void 0:t.invert():n,quote:o?i:r,base:o?r:i}};function PoolPage(e){var n,t,i,w;let{parsedTokenId:C}=e,[R,Z]=(0,B.useState)(!1),[U,M]=(0,B.useState)(null),[X,J]=(0,B.useState)(!1),{data:ee}=(0,N.p)(),{sendTransactionAsync:en}=(0,_.p)(),{account:et,chainId:er}=(0,D.Z)(),{loading:ei,position:eo}=(0,I.nq)(C),{token0:el,token1:es,fee:ec,liquidity:ed,tickLower:eu,tickUpper:ea,tokenId:ex}=eo||{},ep=0n===ed,em=(0,x.dQ)(el),eh=(0,x.dQ)(es),ej=em?(0,z.Bv)(em):void 0,ev=eh?(0,z.Bv)(eh):void 0,[ey,ef]=(0,j.A)(null!=em?em:void 0,null!=eh?eh:void 0,ec),eg=(0,B.useMemo)(()=>{if(ef&&"bigint"==typeof ed&&"number"==typeof eu&&"number"==typeof ea)return new u.Ly({pool:ef,liquidity:ed.toString(),tickLower:eu,tickUpper:ea})},[ed,ef,eu,ea]),eb=(0,h.Z)(ec,eu,ea),ew=(0,A.Z)(eg),[eC,ek]=(0,B.useState)(!1),{priceLower:eT,priceUpper:eS,base:eI}=useInverter({priceLower:ew.priceLower,priceUpper:ew.priceUpper,quote:ew.quote,base:ew.base,invert:eC}),eP=eh&&eI?eI.equals(eh):void 0,eA=eP?ej:ev,eB=eP?ev:ej,[e$,eL]=(0,S.t)(null!=ef?ef:void 0,null==eo?void 0:eo.tokenId,X),eR=ef?X?ef.token0:(0,z.Bv)(ef.token0):void 0,eZ=ef?X?ef.token1:(0,z.Bv)(ef.token1):void 0,eF=(0,L.ub)(null!=U?U:void 0),eq=(0,p.Ue)(null!=em?em:void 0,{enabled:!!e$}),eO=(0,p.Ue)(null!=eh?eh:void 0,{enabled:!!eL}),eU=(0,B.useMemo)(()=>{if(!eq||!eO||!e$||!eL)return null;let e=null==e$?void 0:e$.wrapped,n=null==eL?void 0:eL.wrapped;if(!e||!n)return null;let t=eq.quote(e),r=eO.quote(n);return t.add(r)},[eq,eO,e$,eL]),ez=(0,B.useMemo)(()=>{if(!eq||!eO||!eg)return null;let e=eq.quote(eg.amount0),n=eO.quote(eg.amount1);return e.add(n)},[eq,eO,eg]),eW=(0,L.h7)(),eE=(0,m.GL)(),eN=(0,m.gp)(),{tokenIds:e_,loading:eM}=(0,I.OC)(null==eN?void 0:eN.address,et),eX=ex&&!!e_.find(e=>e===ex),eD=eX?eN:eE,eH=eX?u.e5:u.cK,eK=(0,B.useCallback)(()=>{var e;if(eM||!eR||!eZ||!er||!eD||!et||!ex)return;Z(!0);let{calldata:n,value:t}=eH.collectCallParameters({tokenId:ex.toString(),expectedCurrencyOwed0:null!=e$?e$:o.ih.fromRawAmount(eR,0),expectedCurrencyOwed1:null!=eL?eL:o.ih.fromRawAmount(eZ,0),recipient:et}),r={to:eD.address,data:n,value:(0,H.y_)(t),account:et,chain:null==ee?void 0:ee.chain};null===(e=(0,K.NP)({chainId:er}).estimateGas(r).then(e=>{let n={...r,gas:(0,F.yC)(e)};return en(n).then(e=>{M(e),Z(!1);let n=null!=e$?e$:o.ih.fromRawAmount(eR,0),t=null!=eL?eL:o.ih.fromRawAmount(eZ,0);eW({hash:e},{type:"collect-fee",summary:`Collect fee ${n.toExact()} ${eR.symbol} and ${t.toExact()} ${eZ.symbol}`})})}))||void 0===e||e.catch(e=>{Z(!1),console.error(e)})},[eM,eR,eZ,er,eD,et,ex,eH,e$,eL,ee,en,eW]),eG=(0,$.Wk)({contract:ex?eE:null,functionName:"ownerOf",args:[ex]}).result,eV=eG===et||(null==eo?void 0:eo.operator)===et,eY=eP?e$:eL,eQ=eP?eL:e$,eJ=eP?null==eg?void 0:eg.amount0:null==eg?void 0:eg.amount1,e0=eP?null==eg?void 0:eg.amount1:null==eg?void 0:eg.amount0,e1=eP?eq:eO,e4=eP?eO:eq,e2=utils_isPoolTickInRange(ef,eu,ea),e8=(0,k.Z)(),e6=e8.wrapped.symbol,e3=!!(eV&&((null==e$?void 0:e$.greaterThan(0))||(null==eL?void 0:eL.greaterThan(0)))&&ej&&ev&&(ej.isNative||ev.isNative)&&!U),modalHeader=()=>{var e,n;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(V,{mb:"16px",children:[(0,r.jsxs)(l.BA4,{justifyContent:"space-between",mb:"8px",children:[(0,r.jsxs)(l.kCb,{children:[(0,r.jsx)(v.X,{currency:null==eY?void 0:eY.currency,size:"24px"}),(0,r.jsx)(l.xvT,{color:"textSubtle",ml:"4px",children:null==eY?void 0:null===(e=eY.currency)||void 0===e?void 0:e.symbol})]}),(0,r.jsx)(l.xvT,{children:eY?(0,O.ZO)(eY,4,"en-US"):"-"})]}),(0,r.jsxs)(l.BA4,{justifyContent:"space-between",children:[(0,r.jsxs)(l.kCb,{children:[(0,r.jsx)(v.X,{currency:null==eQ?void 0:eQ.currency,size:"24px"}),(0,r.jsx)(l.xvT,{color:"textSubtle",ml:"4px",children:null==eQ?void 0:null===(n=eQ.currency)||void 0===n?void 0:n.symbol})]}),(0,r.jsx)(l.xvT,{children:eQ?(0,O.ZO)(eQ,4,"en-US"):"-"})]})]}),(0,r.jsx)(l.xvT,{mb:"16px",px:"16px",children:"Collecting fees will withdraw currently available fees for you"})]})},[e9]=(0,c.dd)((0,r.jsx)(g.Z,{title:"Claim fees",attemptingTxn:R,hash:null!=U?U:"",content:()=>(0,r.jsx)(s.p,{topContent:modalHeader,bottomContent:()=>(0,r.jsx)(l.zxk,{width:"100%",onClick:eK,height:"48px",variant:"primary",children:"Collect"})}),pendingText:"Collecting fees"}),!0,!0,"TransactionConfirmationModalColelctFees"),e7=ei||ey===T.t.LOADING||ey===T.t.INVALID||!ec,{isMobile:e5}=(0,d.SL)(),ne=eX||eV;return(0,r.jsx)(E.Z,{children:(0,r.jsx)(l.kCb,{justifyContent:"center",mt:"40px",children:(0,r.jsx)(Y,{children:e7?(0,r.jsx)(l.kCb,{width:"100%",justifyContent:"center",alignItems:"center",minHeight:"200px",mb:"32px",children:(0,r.jsx)(l.$jN,{})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.t,{title:(0,r.jsx)(l.xuv,{mb:["8px","8px",0],width:"100%",style:{flex:1},minWidth:["auto",null,"max-content"],children:(0,r.jsxs)(l.kCb,{alignItems:"center",children:[(0,r.jsx)(v.g,{size:24,currency0:eA,currency1:eB}),(0,r.jsxs)(l.X6q,{as:"h2",ml:"8px",children:[null==eA?void 0:eA.symbol,"-",null==eB?void 0:eB.symbol," V3 LP #",null==C?void 0:C.toString()]}),!e5&&(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.U,{ml:"8px",removed:ep,outOfRange:!e2})})]})}),backTo:"/pool",noConfig:!0}),(0,r.jsxs)(l.eWz,{children:[e5&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.aBH,{to:`/increase?currency=${(0,q.Z)(ej)}&currency=${(0,q.Z)(ev)}&fee=${ec}&tokenId=${ex}`,children:(0,r.jsx)(l.zxk,{disabled:!ne,width:"100%",mb:"8px",height:"36px",variant:"primary",children:"Add"})}),!ep&&(0,r.jsx)(l.aBH,{to:`/remove?tokenId=${ex}`,children:(0,r.jsx)(l.zxk,{disabled:!ne,variant:"secondary",width:"100%",mb:"8px",height:"36px",children:"Remove"})})]}),(0,r.jsx)(l.BA4,{children:(0,r.jsxs)(l.kCb,{alignItems:"center",justifyContent:"space-between",width:"100%",mb:"8px",style:{gap:"16px"},flexWrap:["wrap","wrap","nowrap"],children:[(0,r.jsxs)(l.xuv,{width:"100%",mb:["8px","8px",0],position:"relative",children:[(0,r.jsx)(l.xvT,{fontSize:"12px",color:"secondary",textTransform:"uppercase",children:"Liquidity"}),(0,r.jsxs)(l.xvT,{fontSize:"24px",fontWeight:600,mb:"8px",children:["$",(null==ez?void 0:ez.greaterThan(new o.iA(1,100)))?ez.toFixed(2,{groupSeparator:","}):"-"]}),(0,r.jsxs)(V,{mr:"4px",style:{padding:"16px 8px"},children:[(0,r.jsxs)(l.BA4,{justifyContent:"space-between",mb:"8px",children:[(0,r.jsxs)(l.kCb,{children:[(0,r.jsx)(v.X,{currency:eA}),(0,r.jsx)(l.xvT,{small:!0,color:"textSubtle",id:"remove-liquidity-tokenb-symbol",ml:"4px",children:null===(n=(0,z.Bv)(null==eJ?void 0:eJ.currency))||void 0===n?void 0:n.symbol})]}),(0,r.jsx)(l.kCb,{justifyContent:"center",children:(0,r.jsx)(l.xvT,{small:!0,mr:"4px",children:(0,r.jsx)(G.Z,{currencyAmount:eJ})})}),(0,r.jsx)(l.m0X,{justifyContent:"flex-end",children:(0,r.jsx)(l.xvT,{fontSize:"10px",color:"textSubtle",mr:"4px",children:eJ&&e1?`~$${e1.quote(null==eJ?void 0:eJ.wrapped).toFixed(2,{groupSeparator:","})}`:""})})]}),(0,r.jsxs)(l.BA4,{justifyContent:"space-between",children:[(0,r.jsxs)(l.kCb,{children:[(0,r.jsx)(v.X,{currency:eB}),(0,r.jsx)(l.xvT,{small:!0,color:"textSubtle",id:"remove-liquidity-tokenb-symbol",ml:"4px",children:null===(t=(0,z.Bv)(null==e0?void 0:e0.currency))||void 0===t?void 0:t.symbol})]}),(0,r.jsx)(l.kCb,{justifyContent:"center",children:(0,r.jsx)(l.xvT,{small:!0,mr:"4px",children:(0,r.jsx)(G.Z,{currencyAmount:e0})})}),(0,r.jsx)(l.m0X,{justifyContent:"flex-end",children:(0,r.jsx)(l.xvT,{fontSize:"10px",color:"textSubtle",mr:"4px",children:e0&&e4?`~$${e4.quote(null==e0?void 0:e0.wrapped).toFixed(2,{groupSeparator:","})}`:""})})]})]})]}),(0,r.jsxs)(l.xuv,{width:"100%",children:[(0,r.jsx)(l.xvT,{fontSize:"12px",color:"secondary",textTransform:"uppercase",children:"Unclaimed Fees"}),(0,r.jsxs)(l.BA4,{justifyContent:"space-between",mb:"8px",children:[(0,r.jsxs)(l.xvT,{fontSize:"24px",fontWeight:600,children:["$",(null==eU?void 0:eU.greaterThan(new o.iA(1,100)))?eU.toFixed(2,{groupSeparator:","}):"-"]}),(0,r.jsx)(l.zxk,{scale:"sm",disabled:!ne||R||eF||!((null==e$?void 0:e$.greaterThan(0))||(null==eL?void 0:eL.greaterThan(0))||U),onClick:e9,variant:"primary",children:U&&!eF?"Collected":eF||R?"Collecting...":"Collect"})]}),(0,r.jsxs)(V,{mr:"4px",style:{padding:"16px 8px"},children:[(0,r.jsxs)(l.BA4,{justifyContent:"space-between",mb:"8px",children:[(0,r.jsxs)(l.kCb,{children:[(0,r.jsx)(v.X,{currency:null==eY?void 0:eY.currency}),(0,r.jsx)(l.xvT,{small:!0,color:"textSubtle",id:"remove-liquidity-tokenb-symbol",ml:"4px",children:null==eY?void 0:null===(i=eY.currency)||void 0===i?void 0:i.symbol})]}),(0,r.jsx)(l.kCb,{justifyContent:"center",children:(0,r.jsx)(l.xvT,{small:!0,children:eY?(0,O.ZO)(eY,4,"en-US"):"-"})}),(0,r.jsx)(l.m0X,{justifyContent:"flex-end",children:(0,r.jsx)(l.xvT,{fontSize:"10px",color:"textSubtle",ml:"4px",children:eY&&e1?`~$${e1.quote(null==eY?void 0:eY.wrapped).toFixed(2,{groupSeparator:","})}`:""})})]}),(0,r.jsxs)(l.BA4,{justifyContent:"space-between",children:[(0,r.jsxs)(l.kCb,{children:[(0,r.jsx)(v.X,{currency:null==eQ?void 0:eQ.currency}),(0,r.jsx)(l.xvT,{small:!0,color:"textSubtle",id:"remove-liquidity-tokenb-symbol",ml:"4px",children:null==eQ?void 0:null===(w=eQ.currency)||void 0===w?void 0:w.symbol})]}),(0,r.jsx)(l.kCb,{justifyContent:"center",children:(0,r.jsx)(l.xvT,{small:!0,children:eQ?(0,O.ZO)(eQ,4,"en-US"):"-"})}),(0,r.jsx)(l.m0X,{justifyContent:"flex-end",children:(0,r.jsx)(l.xvT,{fontSize:"10px",color:"textSubtle",ml:"4px",children:eQ&&e4?`~$${e4.quote(null==eQ?void 0:eQ.wrapped).toFixed(2,{groupSeparator:","})}`:""})})]})]})]})]})}),e3&&(0,r.jsx)(l.kCb,{mb:"8px",children:(0,r.jsxs)(l.kCb,{ml:"auto",alignItems:"center",children:[(0,r.jsxs)(l.xvT,{mr:"8px",children:["Collect as ",e6]}),(0,r.jsx)(l.ZDl,{id:"receive-as-weth",scale:"sm",checked:X,onChange:()=>J(e=>!e)})]})}),(0,r.jsxs)(l.BA4,{justifyContent:"space-between",mb:"16px",mt:"24px",children:[(0,r.jsx)(l.xvT,{fontSize:"12px",color:"secondary",textTransform:"uppercase",children:"Price Range"}),eB&&eA&&(0,r.jsx)(W.Z,{currencyA:eB,handleRateToggle:()=>ek(!eC)})]}),(0,r.jsx)(l.BA4,{mb:"8px",children:(0,r.jsxs)(l.kCb,{alignItems:"center",justifyContent:"space-between",width:"100%",flexWrap:["wrap","wrap","nowrap"],children:[(0,r.jsx)(y.j,{mr:["0","0","16px"],mb:["8px","8px","0"],title:"Min Price",price:(0,P.C)(eT,eb,b.Mb.LOWER,"en-US"),currency0:eA,currency1:eB}),e5?null:(0,r.jsx)(l.ewS,{width:"24px",mx:"16px"}),(0,r.jsx)(y.j,{ml:["0","0","16px"],title:"Max Price",price:(0,P.C)(eS,eb,b.Mb.UPPER,"en-US"),currency0:eA,currency1:eB})]})}),ef&&eA&&eB?(0,r.jsx)(y.j,{title:"Current Price",currency0:eA,currency1:eB,price:(0,O.T4)(eP?ef.token1Price:ef.token0Price,6,"en-US")}):null,eo&&ej&&ev&&(0,r.jsx)(Q,{tokenId:eo.tokenId.toString(),currency0:ej,currency1:ev})]}),!e5&&ej&&ev&&(0,r.jsxs)(l.kCb,{justifyContent:"space-between",alignItems:"center",width:"100%",style:{gap:"16px"},children:[(0,r.jsx)(l.zxk,{as:l.aBH,to:`/increase?currency=${(0,q.Z)(ej)}&currency=${(0,q.Z)(ev)}&fee=${ec}&tokenId=${ex}`,disabled:!ne,width:"100%",height:"48px",variant:"primary",children:"Add"}),!ep&&(0,r.jsx)(l.zxk,{as:l.aBH,to:`/remove?tokenId=${ex}`,disabled:!ne,variant:"secondary",width:"100%",height:"48px",children:"Remove"})]})]})})})})}PoolPage.chains=i.vo;let Q=(0,B.memo)(function(e){let{tokenId:n,currency0:t,currency1:i}=e,[o,s]=(0,B.useState)(!1),{chainId:c}=(0,C.g)(),d=U.mN[c],{data:u,isLoading:a}=(0,Z.a)({queryKey:["positionHistory",c,n],queryFn:async()=>{let e=await d.request(w.Ps`
          query positionHistory($tokenId: String!) {
            positionSnapshots(where: { position: $tokenId }, orderBy: timestamp, orderDirection: desc, first: 30) {
              id
              transaction {
                mints(where: { or: [{ amount0_gt: "0" }, { amount1_gt: "0" }] }) {
                  id
                  timestamp
                  amount1
                  amount0
                  logIndex
                }
                burns(where: { or: [{ amount0_gt: "0" }, { amount1_gt: "0" }] }) {
                  id
                  timestamp
                  amount1
                  amount0
                  logIndex
                }
                collects(where: { or: [{ amount0_gt: "0" }, { amount1_gt: "0" }] }) {
                  id
                  timestamp
                  amount0
                  amount1
                  logIndex
                }
              }
            }
          }
        `,{tokenId:n});return e.positionSnapshots.filter(e=>{let{transaction:n}=e;return n.mints.length>0||n.burns.length>0||n.collects.length>0})},enabled:!!(d&&n),refetchInterval:3e4,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return!a&&(null==u?void 0:u.length)?(0,r.jsxs)(l.pKk,{textAlign:"center",pt:"16px",children:[(0,r.jsx)(l.LrQ,{expanded:o,onClick:()=>{s(!o)},children:o?"Hide":"History"}),o&&(0,r.jsxs)(l.pKk,{display:"grid",gap:"16px",mt:"20px",children:[(0,r.jsxs)(l.pKk,{display:"grid",style:{gridTemplateColumns:"1fr 1fr 1fr"},alignItems:"center",children:[(0,r.jsx)(l.Z7A,{children:"Timestamp"}),(0,r.jsx)(l.Z7A,{children:"Action"}),(0,r.jsx)(l.Z7A,{children:"Token Transferred"})]}),u.map(e=>(0,r.jsxs)(l.Tz7,{gap:"16px",children:[e.transaction.mints.map(e=>(0,r.jsx)(PositionHistoryRow,{chainId:c,positionTx:e,type:"mint",currency0:t,currency1:i},e.id)),e.transaction.collects.map(n=>{let t=e.transaction.burns.find(e=>+n.amount0>=+e.amount0&&+n.amount1>=+e.amount1&&+e.logIndex<+n.logIndex);return t?t.amount0===n.amount0&&t.amount1===n.amount1?null:{...n,amount0:String(+n.amount0-+t.amount0),amount1:String(+n.amount1-+t.amount1)}:n}).filter(Boolean).map(e=>(0,r.jsx)(PositionHistoryRow,{chainId:c,positionTx:e,type:"collect",currency0:t,currency1:i},null==e?void 0:e.id)),e.transaction.burns.map(e=>(0,r.jsx)(PositionHistoryRow,{chainId:c,positionTx:e,type:"burn",currency0:t,currency1:i},e.id))]},e.id))]})]}):null}),J={mint:"Add V3 Liquidity",burn:"Remove V3 Liquidity",collect:"Collect fee"};function PositionHistoryRow(e){let{chainId:n,positionTx:t,type:i,currency0:o,currency1:s}=e,{isMobile:c}=(0,d.SL)();if(!t)return(0,r.jsx)(r.Fragment,{});let u=new Date(1e3*+t.timestamp),a="burn"!==i;return c?(0,r.jsxs)(l.xuv,{children:[(0,r.jsx)(l.BA4,{gap:"8px",children:(0,r.jsx)(l.NRJ,{href:(0,F.C)(t.id,"transaction",n),children:(0,r.jsx)(l.xvT,{ellipsis:!0,children:X()(1e3*+t.timestamp).format("YYYY/MM/DD")})})}),(0,r.jsx)(l.xvT,{children:J[i]}),(0,r.jsxs)(l.Tz7,{gap:"4px",children:[+t.amount0>0&&(0,r.jsxs)(l.BA4,{flexWrap:"nowrap",gap:"12px",justifyContent:"space-between",children:[(0,r.jsxs)(l.BA4,{width:"auto",flexWrap:"nowrap",gap:"4px",children:[(0,r.jsx)(l.pKk,{minWidth:"24px",children:(0,r.jsx)(v.X,{currency:o})}),(0,r.jsx)(l.xvT,{display:["none",null,"block"],children:o.symbol})]}),(0,r.jsxs)(l.xvT,{ellipsis:!0,title:t.amount0,children:[a?"+":"-"," ",(+t.amount0).toLocaleString(void 0,{maximumFractionDigits:6,maximumSignificantDigits:6})]})]}),+t.amount1>0&&(0,r.jsxs)(l.BA4,{flexWrap:"nowrap",gap:"12px",justifyContent:"space-between",children:[(0,r.jsxs)(l.BA4,{width:"auto",flexWrap:"nowrap",gap:"4px",children:[(0,r.jsx)(l.pKk,{minWidth:"24px",children:(0,r.jsx)(v.X,{currency:s})}),(0,r.jsx)(l.xvT,{display:["none",null,"block"],children:s.symbol})]}),(0,r.jsxs)(l.xvT,{ellipsis:!0,title:t.amount1,children:[a?"+":"-"," ",(+t.amount1).toLocaleString(void 0,{maximumFractionDigits:6,maximumSignificantDigits:6})]})]})]})]}):(0,r.jsxs)(l.pKk,{display:"grid",style:{gridTemplateColumns:"1fr 1fr 1fr"},gap:"16px",alignItems:"center",borderTop:"1",p:"16px",children:[(0,r.jsx)(l.BA4,{justifyContent:"center",gap:"8px",children:(0,r.jsx)(l.NRJ,{href:(0,F.C)(t.id,"transaction",n),children:(0,r.jsx)(l.xvT,{ellipsis:!0,children:u.toLocaleString()})})}),(0,r.jsx)(l.xvT,{children:J[i]}),(0,r.jsxs)(l.Tz7,{gap:"4px",children:[+t.amount0>0&&(0,r.jsxs)(l.BA4,{flexWrap:"nowrap",justifyContent:"flex-end",gap:"12px",children:[(0,r.jsxs)(l.xvT,{ellipsis:!0,title:t.amount0,children:[a?"+":"-"," ",(+t.amount0).toLocaleString(void 0,{maximumFractionDigits:6,maximumSignificantDigits:6})]}),(0,r.jsxs)(l.BA4,{width:"auto",flexWrap:"nowrap",gap:"4px",children:[(0,r.jsx)(l.pKk,{minWidth:"24px",children:(0,r.jsx)(v.X,{currency:o})}),(0,r.jsx)(l.xvT,{display:["none",null,"block"],children:o.symbol})]})]}),+t.amount1>0&&(0,r.jsxs)(l.BA4,{flexWrap:"nowrap",justifyContent:"flex-end",gap:"12px",children:[(0,r.jsxs)(l.xvT,{ellipsis:!0,title:t.amount1,children:[a?"+":"-"," ",(+t.amount1).toLocaleString(void 0,{maximumFractionDigits:6,maximumSignificantDigits:6})]}),(0,r.jsxs)(l.BA4,{width:"auto",flexWrap:"nowrap",gap:"4px",children:[(0,r.jsx)(l.pKk,{minWidth:"24px",children:(0,r.jsx)(v.X,{currency:s})}),(0,r.jsx)(l.xvT,{display:["none",null,"block"],children:s.symbol})]})]})]})]})}var ee=t(30233);let PoolItemPage=()=>{let{tokenId:e}=(0,ee.A)(),n=e?BigInt(e):void 0;return(0,r.jsx)(PoolPage,{parsedTokenId:n})};PoolItemPage.chains=i.vo;var en=PoolItemPage},78774:function(e,n,t){"use strict";function currencyId(e){var n;if(null==e?void 0:e.isNative)return null===(n=e.symbol)||void 0===n?void 0:n.toUpperCase();if(null==e?void 0:e.isToken)return e.address;throw Error("invalid currency")}t.d(n,{H:function(){return currencyId}}),n.Z=currencyId},33590:function(e,n,t){"use strict";t.d(n,{Z:function(){return RateToggle}});var r=t(85893),i=t(87619),o=t(19521);let l=(0,o.ZP)(i.zxk).withConfig({componentId:"sc-b04e1f59-0"})`
  border-radius: 8px;
  padding-left: 4px;
  padding-right: 4px;
`;function RateToggle(e){let{currencyA:n,handleRateToggle:t}=e;return n?(0,r.jsxs)(i.kCb,{justifyContent:"center",alignItems:"center",children:[(0,r.jsx)(i.xvT,{mr:"4px",color:"textSubtle",small:!0,children:"View prices in"}),(0,r.jsx)(l,{variant:"secondary",onClick:t,startIcon:(0,r.jsx)(i.ewS,{color:"primary"}),children:null==n?void 0:n.symbol})]}):null}}},function(e){e.O(0,[2425,1753,9774,2888,179],function(){return e(e.s=39211)}),_N_E=e.O()}]);