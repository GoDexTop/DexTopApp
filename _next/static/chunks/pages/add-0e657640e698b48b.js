(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8121],{6478:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add",function(){return i(65828)}])},99006:function(e,t,i){"use strict";i.d(t,{U:function(){return RangeTag}});var n=i(85893),r=i(87619);function RangeTag(e){let{removed:t,outOfRange:i,children:o,...l}=e;return t?(0,n.jsx)(r.Vp9,{variant:"textSubtle",...l,children:o||"Closed"}):i?(0,n.jsx)(r.Vp9,{variant:"failure",...l,children:o||(0,n.jsxs)(r.kCb,{alignItems:"center",children:["Inactive"," ",(0,n.jsx)(r.s6f,{position:"relative",top:"1px",ml:"4px",text:"The position is inactive and not earning trading fees due to the current price being out of the set price range.",size:"20px",color:"white",placement:"bottom"})]})}):(0,n.jsx)(r.Vp9,{variant:"success",...l,children:o||"Active"})}},19516:function(e,t,i){"use strict";var n,r;i.d(t,{t:function(){return n}}),(r=n||(n={}))[r.LOADING=0]="LOADING",r[r.NOT_EXISTS=1]="NOT_EXISTS",r[r.EXISTS=2]="EXISTS",r[r.INVALID=3]="INVALID"},67947:function(e,t,i){"use strict";i.d(t,{A:function(){return usePool},O:function(){return usePools}});var n=i(31717),r=i(67294),o=i(26647);let l=[{inputs:[],name:"feeGrowthGlobal0X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeGrowthGlobal1X128",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"liquidity",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"observations",outputs:[{internalType:"uint32",name:"blockTimestamp",type:"uint32"},{internalType:"int56",name:"tickCumulative",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityCumulativeX128",type:"uint160"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"key",type:"bytes32"}],name:"positions",outputs:[{internalType:"uint128",name:"_liquidity",type:"uint128"},{internalType:"uint256",name:"feeGrowthInside0LastX128",type:"uint256"},{internalType:"uint256",name:"feeGrowthInside1LastX128",type:"uint256"},{internalType:"uint128",name:"tokensOwed0",type:"uint128"},{internalType:"uint128",name:"tokensOwed1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"protocolFees",outputs:[{internalType:"uint128",name:"token0",type:"uint128"},{internalType:"uint128",name:"token1",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"slot0",outputs:[{internalType:"uint160",name:"sqrtPriceX96",type:"uint160"},{internalType:"int24",name:"tick",type:"int24"},{internalType:"uint16",name:"observationIndex",type:"uint16"},{internalType:"uint16",name:"observationCardinality",type:"uint16"},{internalType:"uint16",name:"observationCardinalityNext",type:"uint16"},{internalType:"uint32",name:"feeProtocol",type:"uint32"},{internalType:"bool",name:"unlocked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int16",name:"wordPosition",type:"int16"}],name:"tickBitmap",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"int24",name:"tick",type:"int24"}],name:"ticks",outputs:[{internalType:"uint128",name:"liquidityGross",type:"uint128"},{internalType:"int128",name:"liquidityNet",type:"int128"},{internalType:"uint256",name:"feeGrowthOutside0X128",type:"uint256"},{internalType:"uint256",name:"feeGrowthOutside1X128",type:"uint256"},{internalType:"int56",name:"tickCumulativeOutside",type:"int56"},{internalType:"uint160",name:"secondsPerLiquidityOutsideX128",type:"uint160"},{internalType:"uint32",name:"secondsOutside",type:"uint32"},{internalType:"bool",name:"initialized",type:"bool"}],stateMutability:"view",type:"function"}];var a=i(27086),s=i(19516);let PoolCache=class PoolCache{static getPoolAddress(e,t,i,r){this.addresses.length>this.MAX_ENTRIES&&(this.addresses=this.addresses.slice(0,this.MAX_ENTRIES/2));let{address:o}=t,{address:l}=i,a=`${e}:${o}:${l}:${r.toString()}`,s=this.addresses.find(e=>e.key===a);if(s)return s.address;let u={key:a,address:(0,n.d_)({deployerAddress:e,tokenA:t,tokenB:i,fee:r})};return this.addresses.unshift(u),u.address}static getPool(e,t,i,r,o,l,a){this.pools.length>this.MAX_ENTRIES&&(this.pools=this.pools.slice(0,this.MAX_ENTRIES/2));let s=this.pools.find(n=>n.token0===e&&n.token1===t&&n.fee===i&&n.sqrtRatioX96===r&&n.liquidity===o&&n.tickCurrent===l);if(s)return s;let u=new n.Kg(e,t,i,r,o,l);return u.feeProtocol=a,this.pools.unshift(u),u}};function usePools(e){let{chainId:t}=(0,a.g)(),i=(0,r.useMemo)(()=>t?e.map(e=>{let[t,i,n]=e;if(t&&i&&n){let e=t.wrapped,r=i.wrapped;if(e.equals(r))return;return e.sortsBefore(r)?[e,r,n]:[r,e,n]}}):Array(e.length),[t,e]),u=(0,r.useMemo)(()=>{let e=t&&n.zF[t];return e?i.map(t=>t&&PoolCache.getPoolAddress(e,...t)):Array(i.length)},[t,i]),d=(0,o._Y)({addresses:u,abi:l,functionName:"slot0"}),c=(0,o._Y)({addresses:u,abi:l,functionName:"liquidity"});return(0,r.useMemo)(()=>e.map((e,t)=>{let n=i[t];if(!n)return[s.t.INVALID,null];let[r,o,l]=n;if(!d[t])return[s.t.INVALID,null];let{result:a,loading:u,valid:p}=d[t];if(!c[t])return[s.t.INVALID,null];let{result:m,loading:x,valid:h}=c[t];if(!n||!p||!h)return[s.t.INVALID,null];if(u||x)return[s.t.LOADING,null];if(!a||void 0===m)return[s.t.NOT_EXISTS,null];let[v,f,,,,y]=a;if(!v||0n===v)return[s.t.NOT_EXISTS,null];try{let e=PoolCache.getPool(r,o,l,v,m,f,y);return[s.t.EXISTS,e]}catch(e){return console.error("Error when constructing the pool",e),[s.t.NOT_EXISTS,null]}}),[c,e,d,i])}function usePool(e,t,i){let n=(0,r.useMemo)(()=>[[e,t,i]],[e,t,i]);return usePools(n)[0]}PoolCache.MAX_ENTRIES=128,PoolCache.pools=[],PoolCache.addresses=[]},65828:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return eK}});var n,r,o=i(85893),l=i(11163),a=i(67294),s=i(63150),u=i(19521),d=i(87619),c=i(40231),p=i(74723),m=i(90579);let x=u.ZP.div.withConfig({componentId:"sc-c5f1a310-0"})`
  width: 100%;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0px 16px;
  box-shadow: ${e=>{let{theme:t}=e;return t.shadows.inset}};
  border: 1px solid ${e=>{let{theme:t}=e;return t.colors.primary}};
  border-radius: 8px;
  background: ${e=>{let{theme:t}=e;return t.colors.input}};
  transition: border-radius 0.15s;
`,h=(0,u.ZP)(d.zxk).withConfig({componentId:"sc-c5f1a310-1"})`
  cursor: pointer;
  width: 100%;
  position: relative;
  background: ${e=>{let{theme:t}=e;return t.colors.input}};
  border-radius: 8px;
  height: 40px;
  min-width: 136px;
  user-select: none;
  z-index: 20;

  .down-icon {
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
  }
`,CurrencySelect=e=>{let{onCurrencySelect:t,selectedCurrency:i,otherSelectedCurrency:n,showCommonBases:r,commonBasesType:l,...a}=e,[s]=(0,c.dd)((0,o.jsx)(p.Z,{onCurrencySelect:t,selectedCurrency:i,otherSelectedCurrency:n,showCommonBases:r,commonBasesType:l}));return(0,o.jsx)(d.xuv,{width:"100%",...a,children:(0,o.jsxs)(h,{p:0,onClick:s,children:[(0,o.jsx)(x,{children:(0,o.jsx)(d.xvT,{id:"pair",color:i?void 0:"text",children:i?(0,o.jsxs)(d.kCb,{alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(m.X,{currency:i,size:"24px",style:{marginRight:"8px"}}),(0,o.jsx)(d.xvT,{id:"pair",children:i&&i.symbol&&i.symbol.length>20?`${i.symbol.slice(0,4)}...${i.symbol.slice(i.symbol.length-5,i.symbol.length)}`:null==i?void 0:i.symbol})]}):(0,o.jsx)(o.Fragment,{children:"Select"})})}),(0,o.jsx)(d.chj,{color:"text",className:"down-icon"})]})})};var v=i(92897),f=i(29928),y=i(35275);let g=(0,u.ZP)(y.Tz).withConfig({componentId:"sc-819b9fa3-0"})`
  opacity: ${e=>{let{disabled:t}=e;return t?"0.4":"1"}};
  pointer-events: ${e=>{let{disabled:t}=e;return t?"none":"initial"}};
  width: 100%;
`;var b=i(31717),k=i(78774),j=i(18803),C=i(26256),w=i(15103),S=i(48583),T=i(98287),I=i(19922),M=i(45775),L=i(27086),A=i(32584),E=i(74906),P=i(19516),R=i(58351),N=i(10777),O=i(22066),U=i(58844);let $=U.Ps`
  query FeeTierDistribution($token0: String!, $token1: String!) {
    _meta {
      block {
        number
      }
    }
    asToken0: pools(
      orderBy: totalValueLockedToken0
      orderDirection: desc
      where: { token0: $token0, token1: $token1 }
    ) {
      feeTier
      totalValueLockedToken0
      totalValueLockedToken1
    }
    asToken1: pools(
      orderBy: totalValueLockedToken0
      orderDirection: desc
      where: { token0: $token1, token1: $token0 }
    ) {
      feeTier
      totalValueLockedToken0
      totalValueLockedToken1
    }
  }
`;var B=i(67947);let q=(0,u.ZP)(d.xuv).withConfig({componentId:"sc-4553c053-0"})`
  width: ${e=>{let{width:t}=e;return null!=t?t:"100%"}};
  padding: ${e=>{let{padding:t}=e;return null!=t?t:"1.25rem"}};
  border: 1px solid ${e=>{let{theme:t}=e;return t.colors.primary}};
  background-color: ${e=>{let{theme:t}=e;return t.colors.input}};
  border-radius: ${e=>{let{borderRadius:t}=e;return null!=t?t:"8px"}};
`;function HideShowSelectorSection(e){let{noHideButton:t,showOptions:i,setShowOptions:n,heading:r,content:l}=e;return(0,o.jsxs)(q,{padding:"8px",style:{height:"fit-content"},children:[(0,o.jsxs)(d.BA4,{justifyContent:"space-between",marginBottom:i?"8px":"0px",children:[null!=r?r:(0,o.jsx)("div",{}),t||(0,o.jsx)(d.zxk,{scale:"sm",onClick:()=>n(e=>!e),variant:"text",endIcon:!i&&(0,o.jsx)(d.v4q,{style:{marginLeft:"0px"},color:"primary"}),children:i?"Hide":"More"})]}),i&&l]})}let D={[b.lk.LOWEST]:{initialMin:.999,initialMax:1.001,min:1e-5,max:1.5},[b.lk.LOW]:{initialMin:.999,initialMax:1.001,min:1e-5,max:1.5},[b.lk.MEDIUM]:{initialMin:.5,initialMax:2,min:1e-5,max:20},[b.lk.HIGH]:{initialMin:.5,initialMax:2,min:1e-5,max:20}};(n=r||(r={}))[n.V3=0]="V3",n[n.STABLE=1]="STABLE",n[n.V2=2]="V2";let F={[b.lk.LOWEST]:{.1:{initialMin:.999,initialMax:1.001,min:1e-5,max:1.5},.5:{initialMin:.995,initialMax:1.005,min:1e-5,max:1.5},1:{initialMin:.99,initialMax:1.01,min:1e-5,max:1.5}},[b.lk.LOW]:{5:{initialMin:.95,initialMax:1.054,min:1e-5,max:1.5},10:{initialMin:.9,initialMax:1.11,min:1e-5,max:1.5},20:{initialMin:.8,initialMax:1.25,min:1e-5,max:1.5}},[b.lk.MEDIUM]:{10:{initialMin:.9,initialMax:1.11,min:1e-5,max:20},20:{initialMin:.8,initialMax:1.25,min:1e-5,max:20},50:D[b.lk.MEDIUM]},[b.lk.HIGH]:{10:{initialMin:.9,initialMax:1.1,min:1e-5,max:1.5},20:{initialMin:.8,initialMax:1.25,min:1e-5,max:20},50:D[b.lk.HIGH]}};var z=i(57505);function FeeTierPercentageBadge(e){var t;let{feeAmount:i,distributions:n,poolState:r}=e;return(0,o.jsx)(d.Vp9,{variant:"secondary",outline:!0,fontSize:"12px",padding:"2px",style:{width:"fit-content",justifyContent:"center",whiteSpace:"inherit",alignSelf:"flex-end",textAlign:"center"},children:n&&r!==P.t.NOT_EXISTS&&r!==P.t.INVALID?void 0!==n[i]?`${null===(t=n[i])||void 0===t?void 0:t.toFixed(0)}% Pick`:"No Data":"Not Created"})}let _={[b.lk.LOWEST]:{label:"0.01",description:"Best for very stable pairs.",supportedChains:s.vo},[b.lk.LOW]:{label:"0.05",description:"Best for stable pairs.",supportedChains:s.vo},[b.lk.MEDIUM]:{label:"0.25",description:"Best for most pairs.",supportedChains:s.vo},[b.lk.HIGH]:{label:"1",description:"Best for exotic pairs.",supportedChains:s.vo}},V=u.ZP.div.withConfig({componentId:"sc-c8a81406-0"})`
  align-items: flex-start;
  display: grid;
  grid-auto-flow: column;
  grid-gap: 4px;
`,Z=(0,u.ZP)(d.xuv).withConfig({componentId:"sc-2e267ade-0"})`
  &:hover {
    opacity: 0.7;
  }
  animation: ${z.DS} 4s ease infinite;
  cursor: pointer;
  border: 1px solid ${e=>{let{theme:t,active:i}=e;return i?"none":t.colors.cardBorder}};
  background: ${e=>{let{theme:t,active:i}=e;return i?t.colors.backgroundAlt:t.colors.backgroundAlt2}};
`;function FeeOption(e){let{feeAmount:t,active:i,poolState:n,distributions:r,onClick:l,largestUsageFeeTier:a,isLoading:s}=e;return(0,o.jsx)(Z,{active:i,padding:["4px","4px","8px"],onClick:l,children:(0,o.jsxs)(d.Tz7,{gap:"sm",justify:"flex-start",height:"100%",justifyItems:"center",children:[(0,o.jsxs)(d.xvT,{textAlign:"center",children:[_[t].label,"% ",t===a&&"\uD83D\uDD25"]}),s?(0,o.jsx)(d.OdW,{width:"100%",height:16}):r?(0,o.jsx)(FeeTierPercentageBadge,{distributions:r,feeAmount:t,poolState:n}):null]})})}u.ZP.div.withConfig({componentId:"sc-2e267ade-1"})`
  cursor: pointer;
  height: 100%;
  animation: ${z.DS} 4s ease infinite;
  ${e=>{let{active:t}=e;return t&&u.iv`
      background-color: ${e=>{let{theme:t}=e;return t.colors.backgroundAlt}};
    `}}
  border-radius: 8px;
  padding: 2px 2px 4px 2px;
  &:hover {
    opacity: 0.7;
  }
`;let W=[b.lk.LOWEST,b.lk.LOW,b.lk.MEDIUM,b.lk.HIGH];function FeeSelector(e){let{feeAmount:t,handleFeePoolSelect:i,currencyA:n,currencyB:l,handleSelectV2:s}=e,{chainId:u}=(0,L.g)(),{isLoading:c,isError:p,largestUsageFeeTier:m,distributions:x,largestUsageFeeTierTvl:h}=function(e,t){let{isLoading:i,error:n,distributions:r,tvlByFeeTier:o}=function(e,t){let i=(0,R.je)(),{isLoading:n,error:r,data:o}=function(e,t,i){let{chainId:n}=(0,L.g)(),{data:r,isLoading:o,error:l}=(0,N.a)({queryKey:[`useFeeTierDistributionQuery2-${e}-${t}`],queryFn:async()=>O.mN[n].request($,{token0:null==e?void 0:e.toLowerCase(),token1:null==t?void 0:t.toLowerCase()}),enabled:!!(e&&t&&n),refetchInterval:3e4,refetchOnMount:!1,refetchOnReconnect:!1,refetchOnWindowFocus:!1});return(0,a.useMemo)(()=>({error:l,isLoading:o,data:r}),[r,l,o])}(null==e?void 0:e.address,null==t?void 0:t.address,0),{asToken0:l,asToken1:s,_meta:u}=null!=o?o:{};return(0,a.useMemo)(()=>{var e,t;if(!i||!u||!l||!s||i-(null!==(t=null==u?void 0:null===(e=u.block)||void 0===e?void 0:e.number)&&void 0!==t?t:0)>20)return{isLoading:n,error:r};let o=l.concat(s),a=o.reduce((e,t)=>{var i,n,r,o;return e[t.feeTier][0]=(null!==(r=null===(i=e[t.feeTier])||void 0===i?void 0:i[0])&&void 0!==r?r:0)+Number(t.totalValueLockedToken0),e[t.feeTier][1]=(null!==(o=null===(n=e[t.feeTier])||void 0===n?void 0:n[1])&&void 0!==o?o:0)+Number(t.totalValueLockedToken1),e},{[b.lk.LOWEST]:[void 0,void 0],[b.lk.LOW]:[void 0,void 0],[b.lk.MEDIUM]:[void 0,void 0],[b.lk.HIGH]:[void 0,void 0]}),[d,c]=Object.values(a).reduce((e,t)=>{var i,n;return e[0]+=null!==(i=t[0])&&void 0!==i?i:0,e[1]+=null!==(n=t[1])&&void 0!==n?n:0,e},[0,0]),mean=(e,t,i,n)=>void 0===e&&void 0===i?void 0:((null!=e?e:0)+(null!=i?i:0))/(t+n)||0,p={[b.lk.LOWEST]:mean(a[b.lk.LOWEST][0],d,a[b.lk.LOWEST][1],c),[b.lk.LOW]:mean(a[b.lk.LOW][0],d,a[b.lk.LOW][1],c),[b.lk.MEDIUM]:mean(a[b.lk.MEDIUM][0],d,a[b.lk.MEDIUM][1],c),[b.lk.HIGH]:mean(a[b.lk.HIGH][0],d,a[b.lk.HIGH][1],c)};return{isLoading:n,error:r,distributions:p,tvlByFeeTier:a}},[u,l,s,n,r,i])}(null==e?void 0:e.wrapped,null==t?void 0:t.wrapped),[l]=(0,B.A)(e,t,b.lk.LOWEST),[s]=(0,B.A)(e,t,b.lk.LOW),[u]=(0,B.A)(e,t,b.lk.MEDIUM),[d]=(0,B.A)(e,t,b.lk.HIGH);return(0,a.useMemo)(()=>{var e,t,a,c;if(i||n||!r)return{isLoading:i,isError:!!n,distributions:r};let p=Object.keys(r).map(e=>Number(e)).filter(e=>0!==r[e]&&void 0!==r[e]).reduce((e,t)=>{var i,n;return(null!==(i=r[e])&&void 0!==i?i:0)>(null!==(n=r[t])&&void 0!==n?n:0)?e:t},-1),m=i||n||!r||l===P.t.LOADING||s===P.t.LOADING||u===P.t.LOADING||d===P.t.LOADING?void 0:{[b.lk.LOWEST]:l===P.t.EXISTS?(null!==(e=r[b.lk.LOWEST])&&void 0!==e?e:0)*100:void 0,[b.lk.LOW]:s===P.t.EXISTS?(null!==(t=r[b.lk.LOW])&&void 0!==t?t:0)*100:void 0,[b.lk.MEDIUM]:u===P.t.EXISTS?(null!==(a=r[b.lk.MEDIUM])&&void 0!==a?a:0)*100:void 0,[b.lk.HIGH]:d===P.t.EXISTS?(null!==(c=r[b.lk.HIGH])&&void 0!==c?c:0)*100:void 0};return{isLoading:i,isError:!!n,distributions:m,largestUsageFeeTier:-1===p?void 0:p,largestUsageFeeTierTvl:o[p]}},[i,n,r,o,l,s,u,d])}(n,l),[v,f]=(0,a.useState)(!1),y=(0,B.O)([[n,l,b.lk.LOWEST],[n,l,b.lk.LOW],[n,l,b.lk.MEDIUM],[n,l,b.lk.HIGH]]),g=(0,a.useMemo)(()=>y.reduce((e,t)=>{let[i,n]=t;return n?{...e,[n.fee]:i}:e},{[b.lk.LOWEST]:P.t.NOT_EXISTS,[b.lk.LOW]:P.t.NOT_EXISTS,[b.lk.MEDIUM]:P.t.NOT_EXISTS,[b.lk.HIGH]:P.t.NOT_EXISTS}),[y]);return(0,a.useEffect)(()=>{t||c||p||(m?(f(!1),i({type:r.V3,feeAmount:m})):f(!0))},[t,c,p,m,i]),(0,o.jsx)(HideShowSelectorSection,{showOptions:v||p,noHideButton:!t,setShowOptions:f,heading:t?(0,o.jsxs)(d.Tz7,{gap:"8px",children:[(0,o.jsxs)(d.xvT,{children:["V3 LP - ",_[t].label,"% fee tier"]}),x&&(0,o.jsx)(FeeTierPercentageBadge,{distributions:x,feeAmount:t,poolState:g[t]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(d.xvT,{children:"V3 LP"}),c&&(0,o.jsx)(E.Z,{})]}),content:(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(V,{children:W.map(e=>{let{supportedChains:n}=_[e];return n.includes(u)?(0,o.jsx)(FeeOption,{isLoading:c,largestUsageFeeTier:m,feeAmount:e,active:t===e,onClick:()=>i({type:r.V3,feeAmount:e}),distributions:x,poolState:g[e]},e):null})}),n&&l&&s&&(0,o.jsx)(A.p,{textAlign:"center"})]})})}var X=i(52963),H=i(12021),Y=i(22184),G=i(51675),Q=i(50535),K=i(13243),J=i(75533),ee=i(60491),et=i(28429),ei=i(88051),en=i(57078),er=i(66749),eo=i(3774),el=i(58865),ea=i(25375),es=i(72043),eu=i(62810),ed=i(93490);function InfoBox(e){let{message:t,icon:i}=e;return(0,o.jsxs)(d.lgB,{style:{height:"100%",justifyContent:"center"},children:[i,t&&(0,o.jsx)(d.xvT,{pt:"4px",textAlign:"center",fontSize:"20px",bold:!0,children:t})]})}var ec=i(94203),ep=i(43174),em=i.n(ep);let ex=u.ZP.path.withConfig({componentId:"sc-3bebb028-0"})`
  opacity: ${e=>{let{opacity:t}=e;return t||1}}};
  stroke: ${e=>{let{fill:t,theme:i}=e;return null!=t?t:i.colors.failure}};
  fill: ${e=>{let{fill:t,theme:i}=e;return null!=t?t:i.colors.failure}};
`,Area=e=>{let{series:t,xScale:i,yScale:n,xValue:r,yValue:l,fill:s,opacity:u}=e;return(0,a.useMemo)(()=>{var e;return(0,o.jsx)(ex,{opacity:u,fill:s,d:null!==(e=(0,es.SOn)().curve(es.jsv).x(e=>i(r(e))).y1(e=>n(l(e))).y0(n(0))(t.filter(e=>{let t=i(r(e));return t>0&&t<=window.innerWidth})))&&void 0!==e?e:void 0})},[s,u,t,i,r,n,l])},eh=u.ZP.g.withConfig({componentId:"sc-8cbe1f73-0"})`
  line {
    display: none;
  }

  text {
    color: ${e=>{let{theme:t}=e;return t.colors.textSubtle}};
    transform: translateY(5px);
  }
`,Axis=e=>{let{axisGenerator:t}=e;return(0,o.jsx)("g",{ref:e=>{e&&(0,es.Ys)(e).call(t).call(e=>e.select(".domain").remove())}})},AxisBottom=e=>{let{xScale:t,innerHeight:i,offset:n=0}=e;return(0,a.useMemo)(()=>(0,o.jsx)(eh,{transform:`translate(0, ${i+n})`,children:(0,o.jsx)(Axis,{axisGenerator:(0,es.LLu)(t).ticks(6)})}),[i,n,t])},brushHandlePath=e=>`M 0 0 v ${e} m 1 0 V 0 M 0 1 h 12 q 2 0, 2 2 v 22 q 0 2 -2 2 h -12 z`,brushHandleAccentPath=()=>"m 5 7 v 14 M 0 0 m 9 7 v 14 z",OffScreenHandle=e=>{let{color:t,size:i=10,margin:n=10}=e;return(0,o.jsx)("polygon",{points:`0 0, ${i} ${i}, 0 ${i}`,transform:` translate(${i+n}, ${n}) rotate(45) `,fill:t,stroke:t,strokeWidth:"4",strokeLinejoin:"round"})},ev=u.ZP.path.withConfig({componentId:"sc-a3ab9f2c-0"})`
  cursor: ew-resize;
  pointer-events: none;

  stroke-width: 3;
  stroke: ${e=>{let{color:t}=e;return t}};
  fill: ${e=>{let{color:t}=e;return t}};
`,ef=u.ZP.path.withConfig({componentId:"sc-a3ab9f2c-1"})`
  cursor: ew-resize;
  pointer-events: none;

  stroke-width: 1.5;
  stroke: ${e=>{let{theme:t}=e;return t.colors.background}};
  opacity: ${e=>{let{theme:t}=e;return t.colors.background}};
`,ey=u.ZP.g.withConfig({componentId:"sc-a3ab9f2c-2"})`
  opacity: ${e=>{let{visible:t}=e;return t?"1":"0"}};
  transition: opacity 300ms;
`,eg=u.ZP.rect.withConfig({componentId:"sc-a3ab9f2c-3"})`
  fill: ${e=>{let{theme:t}=e;return t.colors.secondary}};
`,eb=u.ZP.text.withConfig({componentId:"sc-a3ab9f2c-4"})`
  text-anchor: middle;
  font-size: 13px;
  fill: ${e=>{let{theme:t}=e;return t.colors.background}};
`,compare=(e,t,i)=>{let n=e.map(e=>i(e).toFixed(1)),r=t.map(e=>i(e).toFixed(1));return n.every((e,t)=>e===r[t])},Brush=e=>{let{id:t,xScale:i,interactive:n,brushLabelValue:r,brushExtent:l,setBrushExtent:s,innerWidth:u,innerHeight:d,westHandleColor:c,eastHandleColor:p}=e,{theme:m}=(0,ec.ZP)(),x=(0,a.useRef)(null),h=(0,a.useRef)(null),[v,f]=(0,a.useState)(l),[y,g]=(0,a.useState)(!1),[b,k]=(0,a.useState)(!1),j=(0,I.Z)(l),C=(0,a.useCallback)(e=>{let{type:t,selection:n,mode:r}=e;if(!n){f(null);return}let o=n.map(i.invert);"end"!==t||compare(l,o,i)||s(o,r),f(o)},[i,l,s]);(0,a.useEffect)(()=>{f(l)},[l]),(0,a.useEffect)(()=>{x.current&&(h.current=(0,es.Yud)().extent([[Math.max(2,i(0)),0],[u-2,d]]).handleSize(30).filter(()=>n).on("brush end",C),h.current((0,es.Ys)(x.current)),j&&compare(l,j,i)&&(0,es.Ys)(x.current).transition().call(h.current.move,l.map(i)),(0,es.Ys)(x.current).selectAll(".selection").attr("stroke","none").attr("fill-opacity","0.1").attr("fill",`url(#${t}-gradient-selection)`))},[l,C,t,d,u,n,j,i]),(0,a.useEffect)(()=>{x.current&&h.current&&h.current.move((0,es.Ys)(x.current),l.map(i))},[l,i]),(0,a.useEffect)(()=>{g(!0);let e=setTimeout(()=>g(!1),1500);return()=>clearTimeout(e)},[v]);let w=v&&i(v[0])>20,S=v&&i(v[1])>u-20,T=v&&(0>i(v[0])||0>i(v[1])),M=v&&(i(v[0])>u||i(v[1])>u),L=v&&i(v[0])>=0&&i(v[0])<=u,A=v&&i(v[1])>=0&&i(v[1])<=u;return(0,a.useMemo)(()=>(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("defs",{children:[(0,o.jsxs)("linearGradient",{id:`${t}-gradient-selection`,x1:"0%",y1:"100%",x2:"100%",y2:"100%",children:[(0,o.jsx)("stop",{stopColor:c}),(0,o.jsx)("stop",{stopColor:p,offset:"1"})]}),(0,o.jsx)("clipPath",{id:`${t}-brush-clip`,children:(0,o.jsx)("rect",{x:"0",y:"0",width:u,height:d})})]}),(0,o.jsx)("g",{ref:x,clipPath:`url(#${t}-brush-clip)`,onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1)}),v&&(0,o.jsxs)(o.Fragment,{children:[L?(0,o.jsxs)("g",{transform:`translate(${Math.max(0,i(v[0]))}, 0), scale(${w?"-1":"1"}, 1)`,children:[(0,o.jsxs)("g",{children:[(0,o.jsx)(ev,{color:m.colors.secondary,d:brushHandlePath(d)}),(0,o.jsx)(ef,{d:brushHandleAccentPath()})]}),(0,o.jsxs)(ey,{transform:`translate(50,0), scale(${w?"1":"-1"}, 1)`,visible:y||b,children:[(0,o.jsx)(eg,{y:"0",x:"-30",height:"30",width:"60",rx:"8"}),(0,o.jsx)(eb,{transform:"scale(-1, 1)",y:"15",dominantBaseline:"middle",children:r("w",v[0])})]})]}):null,A?(0,o.jsxs)("g",{transform:`translate(${i(v[1])}, 0), scale(${S?"-1":"1"}, 1)`,children:[(0,o.jsxs)("g",{children:[(0,o.jsx)(ev,{color:m.colors.secondary,d:brushHandlePath(d)}),(0,o.jsx)(ef,{d:brushHandleAccentPath()})]}),(0,o.jsxs)(ey,{transform:`translate(50,0), scale(${S?"-1":"1"}, 1)`,visible:y||b,children:[(0,o.jsx)(eg,{y:"0",x:"-30",height:"30",width:"60",rx:"8"}),(0,o.jsx)(eb,{y:"15",dominantBaseline:"middle",children:r("e",v[1])})]})]}):null,T&&(0,o.jsx)(OffScreenHandle,{color:c}),M&&(0,o.jsx)("g",{transform:`translate(${u}, 0) scale(-1, 1)`,children:(0,o.jsx)(OffScreenHandle,{color:p})})]})]}),[r,p,A,S,w,b,t,m,d,u,v,M,y,T,c,L,i])},ek=u.ZP.line.withConfig({componentId:"sc-78c5c56e-0"})`
  opacity: 0.5;
  stroke-width: 2;
  stroke: ${e=>{let{theme:t}=e;return t.colors.primary}};
  fill: none;
  stroke-dasharray: 4;
`,Line=e=>{let{value:t,xScale:i,innerHeight:n}=e;return(0,a.useMemo)(()=>(0,o.jsx)(ek,{x1:i(t),y1:"0",x2:i(t),y2:n}),[t,i,n])},ej=u.ZP.div.withConfig({componentId:"sc-d83f5456-0"})`
  display: grid;
  grid-template-columns: repeat(${e=>{let{count:t}=e;return t.toString()}}, 1fr);
  grid-gap: 6px;

  position: absolute;
  top: -18px;
  right: 0;
`,eC=u.ZP.rect.withConfig({componentId:"sc-d83f5456-1"})`
  fill: transparent;
  cursor: grab;

  &:active {
    cursor: grabbing;
  }
`;function Zoom(e){let{svg:t,xScale:i,setZoom:n,width:r,height:l,resetBrush:s,showResetButton:u,zoomLevels:c}=e,p=(0,a.useRef)(),[m,x,h,v]=(0,a.useMemo)(()=>[()=>t&&p.current&&(0,es.Ys)(t).transition().call(p.current.scaleBy,2),()=>t&&p.current&&(0,es.Ys)(t).transition().call(p.current.scaleBy,.5),()=>t&&p.current&&(0,es.Ys)(t).transition().call(p.current.scaleTo,.5),()=>t&&p.current&&(0,es.Ys)(t).call(p.current.transform,es.CRH.translate(0,0).scale(1)).transition().call(p.current.scaleTo,.5)],[t]);return(0,a.useEffect)(()=>{t&&(p.current=(0,es.sPX)().scaleExtent([c.min,c.max]).extent([[0,0],[r,l]]).on("zoom",e=>{let{transform:t}=e;return n(t)}),(0,es.Ys)(t).call(p.current))},[l,r,n,t,i,p,c,c.max,c.min]),(0,a.useEffect)(()=>{h()},[h,c]),(0,o.jsxs)(ej,{count:u?3:2,children:[u&&(0,o.jsx)(d.xuv,{style:{cursor:"pointer",textAlign:"center",paddingLeft:"4px"},children:(0,o.jsx)(d.kFI,{color:"primary",width:20,onClick:()=>{s(),v()}})}),(0,o.jsx)(d.xuv,{style:{cursor:"pointer"},children:(0,o.jsx)(d.Sd5,{width:24,onClick:m,color:"primary"})}),(0,o.jsx)(d.xuv,{style:{cursor:"pointer"},children:(0,o.jsx)(d.xLV,{width:24,onClick:x,color:"primary"})})]})}let xAccessor=e=>e.price0,yAccessor=e=>e.activeLiquidity;function Chart(e){let{id:t="liquidityChartRangeInput",data:{series:i,current:n},ticksAtLimit:r,styles:l,dimensions:{width:s,height:u},margins:d,interactive:c=!0,brushDomain:p,brushLabels:m,onBrushDomainChange:x,zoomLevels:h,showZoomButtons:v=!0}=e,f=(0,a.useRef)(null),{theme:y}=(0,ec.ZP)(),[g,b]=(0,a.useState)(null),[k,j]=(0,a.useMemo)(()=>[u-d.top-d.bottom,s-d.left-d.right],[s,u,d]),{xScale:C,yScale:w}=(0,a.useMemo)(()=>{let e={xScale:(0,es.BYU)().domain([n*h.initialMin,n*h.initialMax]).range([0,j]),yScale:(0,es.BYU)().domain([0,(0,es.Fp7)(i,yAccessor)]).range([k,0])};if(g){let t=g.rescaleX(e.xScale);e.xScale.domain(t.domain())}return e},[n,h.initialMin,h.initialMax,j,i,k,g]);(0,a.useEffect)(()=>{b(null)},[h]),(0,a.useEffect)(()=>{p||x(C.domain(),void 0)},[p,x,C]);let[S,T]=(0,a.useMemo)(()=>{var e,t;let r=(null===(e=i[0])||void 0===e?void 0:e.price0)>(null===(t=i[i.length-1])||void 0===t?void 0:t.price0),[o,l]=em()(i,e=>r?+xAccessor(e)<n:+xAccessor(e)>n);return l.length&&l[l.length-1]&&(l[l.length-1].price0!==n&&(l=[...l,{activeLiquidity:l[l.length-1].activeLiquidity,price0:n}]),o=[{activeLiquidity:l[l.length-1].activeLiquidity,price0:n},...o]),[o,l]},[n,i]);return(0,o.jsxs)(o.Fragment,{children:[v&&(0,o.jsx)(Zoom,{svg:f.current,xScale:C,setZoom:b,width:j,height:u,resetBrush:()=>{x([n*h.initialMin,n*h.initialMax],"reset")},showResetButton:!!(r[ed.Mb.LOWER]||r[ed.Mb.UPPER]),zoomLevels:h}),(0,o.jsxs)("svg",{width:"100%",height:"100%",viewBox:`0 0 ${s} ${u}`,style:{overflow:"visible"},children:[(0,o.jsxs)("defs",{children:[(0,o.jsxs)("linearGradient",{id:"green-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,o.jsx)("stop",{offset:"5%",stopColor:y.colors.success,stopOpacity:1}),(0,o.jsx)("stop",{offset:"100%",stopColor:y.colors.success,stopOpacity:.2})]}),(0,o.jsxs)("linearGradient",{id:"red-gradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,o.jsx)("stop",{offset:"5%",stopColor:y.colors.failure,stopOpacity:1}),(0,o.jsx)("stop",{offset:"100%",stopColor:y.colors.failure,stopOpacity:.2})]})]}),(0,o.jsxs)("defs",{children:[(0,o.jsx)("clipPath",{id:`${t}-chart-clip`,children:(0,o.jsx)("rect",{x:"0",y:"0",width:j,height:u})}),p&&(0,o.jsx)("mask",{id:`${t}-chart-area-mask`,children:(0,o.jsx)("rect",{fill:"white",x:C(p[0]),y:"0",width:C(p[1])-C(p[0]),height:k})})]}),(0,o.jsxs)("g",{transform:`translate(${d.left},${d.top})`,children:[(0,o.jsxs)("g",{clipPath:`url(#${t}-chart-clip)`,children:[(0,o.jsx)(Area,{series:S,xScale:C,yScale:w,xValue:xAccessor,yValue:yAccessor,opacity:.5,fill:"url(#red-gradient)"}),(0,o.jsx)(Area,{series:T,xScale:C,yScale:w,xValue:xAccessor,yValue:yAccessor,opacity:.5,fill:"url(#green-gradient)"}),p&&(0,o.jsx)("g",{mask:`url(#${t}-chart-area-mask)`,children:(0,o.jsx)(Area,{opacity:.1,series:i,xScale:C,yScale:w,xValue:xAccessor,yValue:yAccessor,fill:"white"})}),(0,o.jsx)(Line,{value:n,xScale:C,innerHeight:k}),(0,o.jsx)(AxisBottom,{xScale:C,innerHeight:k})]}),(0,o.jsx)(eC,{width:j,height:u,ref:f}),(0,o.jsx)(Brush,{id:t,xScale:C,interactive:c,brushLabelValue:m,brushExtent:null!=p?p:C.domain(),innerWidth:j,innerHeight:k,setBrushExtent:x,westHandleColor:l.brush.handle.west,eastHandleColor:l.brush.handle.east})]})]})]})}var ew=i(24743);function computeSurroundingTicks(e,t,i,n,r,o){let l={...i},a=[];for(let i=r+(o?1:-1);o?i<n.length:i>=0;o?i++:i--){let r=Number(n[i].tick),s={liquidityActive:l.liquidityActive,tick:r,liquidityNet:BigInt(n[i].liquidityNet),price0:(0,b.zz)(e,t,r).toFixed(8)};o?s.liquidityActive=l.liquidityActive+BigInt(n[i].liquidityNet):o||0n===l.liquidityNet||(s.liquidityActive=l.liquidityActive-l.liquidityNet),a.push(s),l=s}return o||(a=a.reverse()),a}let getActiveTick=(e,t)=>void 0!==e&&t?Math.floor(e/b.LX[t])*b.LX[t]:void 0,eS=u.F4`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,eT=u.ZP.svg.withConfig({componentId:"sc-8d846268-0"})`
  animation: 2s ${eS} linear infinite;
  height: ${e=>{let{size:t}=e;return t}};
  width: ${e=>{let{size:t}=e;return t}};
  path {
    stroke: ${e=>{let{stroke:t,theme:i}=e;return null!=t?t:i.colors.primary}};
  }
`;function Loader(e){let{size:t="16px",stroke:i,strokeWidth:n,...r}=e;return(0,o.jsx)(eT,{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",size:t,stroke:i,...r,children:(0,o.jsx)("path",{d:"M12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22C17.5228 22 22 17.5228 22 12C22 9.27455 20.9097 6.80375 19.1414 5",strokeWidth:null!=n?n:"2.5",strokeLinecap:"round",strokeLinejoin:"round"})})}let eI=u.ZP.div.withConfig({componentId:"sc-c1235089-0"})`
  position: relative;

  justify-content: center;
  align-content: center;
`;function LiquidityChartRangeInput(e){var t,i;let{currencyA:n,currencyB:r,feeAmount:l,ticksAtLimit:s,price:c,priceLower:p,priceUpper:m,onLeftRangeInput:x,onRightRangeInput:h,interactive:v,onBothRangeInput:f,zoomLevel:y}=e,g=(0,u.Fg)(),k=n&&r&&(null==n?void 0:n.wrapped.sortsBefore(null==r?void 0:r.wrapped)),{isLoading:j,error:C,formattedData:w}=function(e){let{currencyA:t,currencyB:i,feeAmount:n}=e,{isLoading:r,error:o,data:l}=function(e,t,i){let n=(0,B.A)(e,t,i),r=(0,a.useMemo)(()=>{var e;return getActiveTick(null===(e=n[1])||void 0===e?void 0:e.tickCurrent,i)},[n,i]),{isLoading:o,error:l,ticks:s}=function(e,t,i){let n=function(e,t,i){let n=e&&t&&i?b.Kg.getAddress(null==e?void 0:e.wrapped,null==t?void 0:t.wrapped,i,void 0):void 0;return(0,ew.Z)(n,3e4)}(e,t,i);return{isLoading:n.isLoading,error:n.error,ticks:n.data}}(e,t,i);return(0,a.useMemo)(()=>{var i,a;if(!e||!t||void 0===r||n[0]!==P.t.EXISTS||!s||0===s.length||o)return{isLoading:o||n[0]===P.t.LOADING,error:l,activeTick:r,data:void 0};let u=null==e?void 0:e.wrapped,d=null==t?void 0:t.wrapped,c=s.findIndex(e=>{let{tick:t}=e;return Number(t)>r})-1;if(c<0)return console.error("TickData pivot not found"),{isLoading:o,error:l,activeTick:r,data:void 0};let p={liquidityActive:BigInt(null!==(a=null===(i=n[1])||void 0===i?void 0:i.liquidity)&&void 0!==a?a:0),tick:r,liquidityNet:Number(s[c].tick)===r?BigInt(s[c].liquidityNet):0n,price0:(0,b.zz)(u,d,r).toFixed(8)},m=computeSurroundingTicks(u,d,p,s,c,!0),x=computeSurroundingTicks(u,d,p,s,c,!1),h=x.concat(p).concat(m);return{isLoading:o,error:l,activeTick:r,data:h}},[e,t,r,n,s,o,l])}(t,i,n),s=(0,a.useCallback)(()=>{if(!(null==l?void 0:l.length))return;let e=[];for(let t=0;t<l.length;t++){let i=l[t],n={activeLiquidity:parseFloat(i.liquidityActive.toString()),price0:parseFloat(i.price0)};n.activeLiquidity>0&&e.push(n)}return e},[l]);return(0,a.useMemo)(()=>({isLoading:r,error:o,formattedData:r?void 0:s()}),[r,o,s])}({currencyA:n,currencyB:r,feeAmount:l}),S=(0,a.useCallback)((e,t)=>{let i=Number(e[0]),n=Number(e[1]);i<=0&&(i=1e-6);let r=(!s[k?ed.Mb.LOWER:ed.Mb.UPPER]||"handle"===t||"reset"===t)&&i>0,o=(!s[k?ed.Mb.UPPER:ed.Mb.LOWER]||"reset"===t)&&n>0&&n<1e35;if(r&&o){let e=parseFloat(i.toFixed(6)),t=parseFloat(n.toFixed(6));e>0&&t>0&&e<t&&f({leftTypedValue:i.toFixed(6),rightTypedValue:n.toFixed(6)})}else r?x(i.toFixed(6)):o&&h(n.toFixed(6))},[k,f,x,h,s]),T=(0,a.useMemo)(()=>{let e=k?p:null==m?void 0:m.invert(),t=k?m:null==p?void 0:p.invert();return e&&t?[parseFloat(null==e?void 0:e.toSignificant(6)),parseFloat(null==t?void 0:t.toSignificant(6))]:void 0},[k,p,m]),I=(0,a.useCallback)((e,t)=>{if(!c)return"";if("w"===e&&s[k?ed.Mb.LOWER:ed.Mb.UPPER])return"0";if("e"===e&&s[k?ed.Mb.UPPER:ed.Mb.LOWER])return"∞";let i=(t<c?-1:1)*((Math.max(t,c)-Math.min(t,c))/c)*100;return c?`${(0,es.WUZ)(Math.abs(i)>1?".2~s":".2~f")(i)}%`:""},[k,c,s]),M=!n||!r||void 0===w&&!j;return(0,o.jsx)(d.Tz7,{gap:"md",style:{minHeight:"200px",width:"100%",marginBottom:"16px"},children:M?(0,o.jsx)(InfoBox,{message:"Your position will appear here.",icon:(0,o.jsx)(d.kO3,{width:"40px"})}):j?(0,o.jsx)(InfoBox,{icon:(0,o.jsx)(Loader,{size:"40px",stroke:g.colors.text})}):C?(0,o.jsx)(InfoBox,{message:"Liquidity data not available.",icon:(0,o.jsx)(d.Ep0,{width:"40px"})}):w&&0!==w.length&&c?(0,o.jsx)(eI,{children:(0,o.jsx)(Chart,{data:{series:w,current:c},dimensions:{width:400,height:200},margins:{top:10,right:2,bottom:20,left:0},styles:{area:{selection:g.colors.text},brush:{handle:{west:null!==(t=(0,eu.p_)(.1,"#7645D9"))&&void 0!==t?t:g.colors.text,east:null!==(i=(0,eu.p_)(.1,"#7645D9"))&&void 0!==i?i:g.colors.text}}},interactive:v&&!!(null==w?void 0:w.length),brushLabels:I,brushDomain:T,onBrushDomainChange:S,zoomLevels:null!=y?y:D[null!=l?l:b.lk.MEDIUM],ticksAtLimit:s},`${null!=l?l:b.lk.MEDIUM}`)}):(0,o.jsx)(InfoBox,{message:"There is no liquidity data.",icon:(0,o.jsx)(d.n5S,{width:"40px"})})})}var eM=i(31347),eL=i(65262),eA=i(32214),eE=i(17133),eP=i(95946),eR=i(13670),eN=i(61129);let eO=(0,u.ZP)(d.xuv).withConfig({componentId:"sc-740f6013-0"})`
  width: ${e=>{let{width:t}=e;return null!=t?t:"100%"}};
  padding: ${e=>{let{padding:t}=e;return null!=t?t:"1.25rem"}};
  border: 1px solid ${e=>{let{theme:t}=e;return t.colors.primary}};
  background-color: ${e=>{let{theme:t}=e;return t.colors.input}};
  border-radius: ${e=>{let{borderRadius:t}=e;return null!=t?t:"8px"}};
`;var components_StepCounter=e=>{let{value:t,decrement:i,increment:n,decrementDisabled:r=!1,incrementDisabled:l=!1,locked:s,onUserInput:u,title:c,tokenA:p,tokenB:m}=e,[,x]=(0,a.useState)(!1),[h,v]=(0,a.useState)(""),[f,y]=(0,a.useState)(!1),g=(0,a.useCallback)(()=>{y(!1),x(!1),u(h)},[h,u]),b=(0,a.useCallback)(()=>{y(!1),u(i())},[i,u]),k=(0,a.useCallback)(()=>{y(!1),u(n())},[n,u]);return(0,a.useEffect)(()=>{h===t||f||setTimeout(()=>{v(t)},0)},[h,f,t]),(0,o.jsx)(eO,{padding:"0",children:(0,o.jsxs)(d.Tz7,{py:"8px",textAlign:"center",gap:"4px",width:"100%",onFocus:()=>{y(!0),x(!0)},onBlur:g,children:[c,(0,o.jsxs)(d.BA4,{children:[!s&&(0,o.jsx)(d.hU,{onClick:b,disabled:r,scale:"xs",variant:"text",style:{width:20,padding:16},children:(0,o.jsx)(d.HFL,{color:"primary",width:20,height:20})}),(0,o.jsx)(X.Z,{value:h,fontSize:"16px",disabled:s,onUserInput:e=>{v(e)}}),!s&&(0,o.jsx)(d.hU,{px:"16px",onClick:k,disabled:l,scale:"xs",variant:"text",style:{width:20,padding:16},children:(0,o.jsx)(d.agZ,{color:"primary",width:20,height:20})})]}),m," per ",p]})})};function RangeSelector(e){var t,i,n,r;let{priceLower:l,priceUpper:a,onLeftRangeInput:s,onRightRangeInput:u,getDecrementLower:c,getIncrementLower:p,getDecrementUpper:m,getIncrementUpper:x,currencyA:h,currencyB:v,feeAmount:f,ticksAtLimit:y}=e,g=null===(t=null!=h?h:void 0)||void 0===t?void 0:t.wrapped,b=null===(i=null!=v?v:void 0)||void 0===i?void 0:i.wrapped,k=g&&b&&g.sortsBefore(b),j=k?l:null==a?void 0:a.invert(),C=k?a:null==l?void 0:l.invert();return(0,o.jsxs)(d.Oh6,{gap:"16px",width:"100%",children:[(0,o.jsx)(components_StepCounter,{value:y[k?ed.Mb.LOWER:ed.Mb.UPPER]?"0":null!==(n=null==j?void 0:j.toSignificant(5))&&void 0!==n?n:"",onUserInput:s,width:"48%",decrement:k?c:x,increment:k?p:m,decrementDisabled:y[k?ed.Mb.LOWER:ed.Mb.UPPER],incrementDisabled:y[k?ed.Mb.LOWER:ed.Mb.UPPER],feeAmount:f,label:j?`${null==v?void 0:v.symbol}`:"-",title:"Min Price",tokenA:null==h?void 0:h.symbol,tokenB:null==v?void 0:v.symbol}),(0,o.jsx)(components_StepCounter,{value:y[k?ed.Mb.UPPER:ed.Mb.LOWER]?"∞":null!==(r=null==C?void 0:C.toSignificant(5))&&void 0!==r?r:"",onUserInput:u,width:"48%",decrement:k?m:p,increment:k?x:c,incrementDisabled:y[k?ed.Mb.UPPER:ed.Mb.LOWER],decrementDisabled:y[k?ed.Mb.UPPER:ed.Mb.LOWER],feeAmount:f,label:C?`${null==v?void 0:v.symbol}`:"-",tokenA:null==h?void 0:h.symbol,tokenB:null==v?void 0:v.symbol,title:"Max Price"})]})}var eU=i(52282),e$=i(33590),eB=i(35330),eq=i(1266),eD=i(1854),eF=i(27426);let ez=(0,u.ZP)(X.Z).withConfig({componentId:"sc-f5cade16-0"})`
  background-color: ${e=>{let{theme:t}=e;return t.colors.input}};
  box-shadow: ${e=>{let{theme:t,error:i}=e;return t.shadows[i?"warning":"inset"]}};
  border-radius: 16px;
  padding: 8px 16px;
  font-size: 16px;
  width: 100%;
  margin-bottom: 16px;
`,e_=u.ZP.div.withConfig({componentId:"sc-f5cade16-1"})`
  ${e=>{let{theme:t}=e;return t.mediaQueries.md}} {
    display: none;
  }
`,eV=u.ZP.div.withConfig({componentId:"sc-f5cade16-2"})`
  display: none;
  ${e=>{let{theme:t}=e;return t.mediaQueries.md}} {
    display: initial;
  }
`,eZ=(0,u.ZP)(d.Tz7).withConfig({componentId:"sc-f5cade16-3"})`
  height: fit-content;

  grid-row: 2 / 3;
  grid-column: 1;

  ${e=>{let{theme:t}=e;return t.mediaQueries.md}} {
    grid-row: 1 / 3;
    grid-column: 2;
  }
`;function V3FormView(e){var t,i,n,r,s,u,p;let{feeAmount:m,baseCurrency:x,quoteCurrency:h,currencyIdA:y,currencyIdB:k}=e,j=(0,l.useRouter)(),{data:C}=(0,el.p)(),{sendTransactionAsync:w}=(0,ea.p)(),[S,T]=(0,a.useState)(!1),I=(0,K.LO)(),M=(0,er.GL)(),{account:L,chainId:A,isWrongNetwork:E}=(0,eo.Z)(),P=(0,en.h7)(),R=(0,eD.Di)(),{independentField:N,typedValue:O,startPriceTypedValue:U,leftRangeTypedValue:$,rightRangeTypedValue:B}=R,{pool:q,ticks:z,dependentField:_,price:V,pricesAtTicks:Z,parsedAmounts:W,currencyBalances:X,position:es,noLiquidity:eu,currencies:ec,errorMessage:ep,invalidPool:em,invalidRange:ex,outOfRange:eh,depositADisabled:ev,depositBDisabled:ef,invertPrice:ey,ticksAtLimit:eg}=(0,Y.Z)(null!=x?x:void 0,null!=h?h:void 0,m,null!=x?x:void 0,void 0,R),{onFieldAInput:eb,onFieldBInput:ek,onLeftRangeInput:ej,onRightRangeInput:eC,onStartPriceInput:ew,onBothRangeInput:eS}=(0,eF.E)(eu),[eT,eI]=(0,a.useState)(!1);(0,a.useEffect)(()=>{eI(!1)},[x,h,m]),(0,a.useEffect)(()=>{m&&(tu(void 0),eS({leftTypedValue:"",rightTypedValue:""}))},[m]);let eO=(0,eD.J2)(),eW=(0,G.$)(),[eX,eH]=(0,a.useState)(""),eY={[N]:O,[_]:null!==(p=null===(t=W[_])||void 0===t?void 0:t.toSignificant(6))&&void 0!==p?p:""},eG=(0,a.useMemo)(()=>[et.gN.CURRENCY_A,et.gN.CURRENCY_B].reduce((e,t)=>({...e,[t]:(0,J.i)(X[t])}),{}),[X]),eQ=null===(i=(0,er.GL)())||void 0===i?void 0:i.address,{approvalState:eK,approveCallback:eJ}=(0,ei.qL)(W[et.gN.CURRENCY_A],eQ),{approvalState:e0,approveCallback:e1}=(0,ei.qL)(W[et.gN.CURRENCY_B],eQ),[e2]=(0,K.eq)(),e5=(0,a.useCallback)(async()=>{if(A&&C&&L&&eQ&&M&&x&&h&&es&&L&&eW){var e,t;let i=x.isNative?x:h.isNative?h:void 0,{calldata:n,value:r}=b.cK.addCallParameters(es,{slippageTolerance:(0,ee.P4)(e2),recipient:L,deadline:null!==(t=null===(e=eW[0])||void 0===e?void 0:e.toString())&&void 0!==t?t:"0",useNative:i,createPool:eu});T(!0);let o={data:n,to:eQ,value:(0,eP.y_)(r),account:L};(0,eR.NP)({chainId:A}).estimateGas(o).then(e=>{w({...o,gas:(0,eN.yC)(e)}).then(e=>{var t,i,n,r,o,l;let a=(0,eA.xy)(null!==(o=null===(i=W[et.gN.CURRENCY_A])||void 0===i?void 0:null===(t=i.quotient)||void 0===t?void 0:t.toString())&&void 0!==o?o:"0",x.decimals,4),s=(0,eA.xy)(null!==(l=null===(r=W[et.gN.CURRENCY_B])||void 0===r?void 0:null===(n=r.quotient)||void 0===n?void 0:n.toString())&&void 0!==l?l:"0",h.decimals,4);T(!1),P({hash:e},{type:"add-liquidity-v3",summary:`Add ${a} ${null==x?void 0:x.symbol} and ${s} ${null==h?void 0:h.symbol}`}),eH(e),eO(e)}).catch(e=>{console.error("Failed to send transaction",e),T(!1),(0,eE.Z)(e)||console.error(e)})}).catch(e=>{console.error("failed to estimate gas",e),T(!1),(0,eE.Z)(e)||console.error(e)})}},[L,P,e2,x,A,eW,eQ,eu,eO,W,es,M,h,w,C]),e6=(0,a.useCallback)(()=>{eX&&eb(""),eH("")},[eb,eX]),{[ed.Mb.LOWER]:e8,[ed.Mb.UPPER]:e4}=z,{[ed.Mb.LOWER]:e3,[ed.Mb.UPPER]:e7}=Z,{getDecrementLower:e9,getIncrementLower:te,getDecrementUpper:tt,getIncrementUpper:ti,getSetFullRange:tn}=function(e,t,i,n,r,o){let l=(0,eD.dn)(),s=(0,a.useMemo)(()=>null==e?void 0:e.wrapped,[e]),u=(0,a.useMemo)(()=>null==t?void 0:t.wrapped,[t]),d=(0,a.useCallback)(()=>{if(s&&u&&"number"==typeof n&&i){let e=(0,b.zz)(s,u,n-b.LX[i]);return e.toSignificant(5,void 0,f.mL.ROUND_UP)}if("number"!=typeof n&&s&&u&&i&&o){let e=(0,b.zz)(s,u,o.tickCurrent-b.LX[i]);return e.toSignificant(5,void 0,f.mL.ROUND_UP)}return""},[s,u,n,i,o]),c=(0,a.useCallback)(()=>{if(s&&u&&"number"==typeof n&&i){let e=(0,b.zz)(s,u,n+b.LX[i]);return e.toSignificant(5,void 0,f.mL.ROUND_UP)}if("number"!=typeof n&&s&&u&&i&&o){let e=(0,b.zz)(s,u,o.tickCurrent+b.LX[i]);return e.toSignificant(5,void 0,f.mL.ROUND_UP)}return""},[s,u,n,i,o]),p=(0,a.useCallback)(()=>{if(s&&u&&"number"==typeof r&&i){let e=(0,b.zz)(s,u,r-b.LX[i]);return e.toSignificant(5,void 0,f.mL.ROUND_UP)}if("number"!=typeof r&&s&&u&&i&&o){let e=(0,b.zz)(s,u,o.tickCurrent-b.LX[i]);return e.toSignificant(5,void 0,f.mL.ROUND_UP)}return""},[s,u,r,i,o]),m=(0,a.useCallback)(()=>{if(s&&u&&"number"==typeof r&&i){let e=(0,b.zz)(s,u,r+b.LX[i]);return e.toSignificant(5,void 0,f.mL.ROUND_UP)}if("number"!=typeof r&&s&&u&&i&&o){let e=(0,b.zz)(s,u,o.tickCurrent+b.LX[i]);return e.toSignificant(5,void 0,f.mL.ROUND_UP)}return""},[s,u,r,i,o]),x=(0,a.useCallback)(()=>{l((0,eq._h)())},[l]);return{getDecrementLower:d,getIncrementLower:c,getDecrementUpper:p,getIncrementUpper:m,getSetFullRange:x}}(null!=x?x:void 0,null!=h?h:void 0,m,e8,e4,q),tr=eK!==ei.UK.APPROVED&&!!W[et.gN.CURRENCY_A],to=e0!==ei.UK.APPROVED&&!!W[et.gN.CURRENCY_B],tl=(0,a.useMemo)(()=>{var e,t;return{amountA:ev?"":(0,eA.ZO)(W[et.gN.CURRENCY_A],4,"en-US"),symbolA:ev?"":null===(e=ec[et.gN.CURRENCY_A])||void 0===e?void 0:e.symbol,amountB:ef?"":(0,eA.ZO)(W[et.gN.CURRENCY_B],4,"en-US"),symbolB:ef?"":null===(t=ec[et.gN.CURRENCY_B])||void 0===t?void 0:t.symbol}},[ev,ef,W,"en-US",ec]),ta=(0,a.useMemo)(()=>eh?`Supplying ${tl.amountA} ${tl.symbolA} ${tl.amountB} ${tl.symbolB}`:`Supplying ${tl.amountA} ${tl.symbolA} and ${tl.amountB} ${tl.symbolB}`,[eh,tl]),[ts,tu]=(0,a.useState)(),td=(0,a.useRef)(!1),[tc]=(0,c.dd)((0,o.jsx)(eM.Z,{minWidth:["100%",null,"420px"],title:"Add V3 Liquidity",customOnDismiss:e6,attemptingTxn:S,hash:eX,content:()=>(0,o.jsx)(H.p,{topContent:()=>es?(0,o.jsx)(eU.z,{position:es,inRange:!eh,ticksAtLimit:eg,baseCurrencyDefault:x}):null,bottomContent:()=>(0,o.jsx)(d.zxk,{width:"100%",mt:"16px",height:"48px",variant:"primary",onClick:e5,children:"Add"})}),pendingText:ta}),!0,!0,"TransactionConfirmationModal"),tp=(0,a.useCallback)(()=>{I?e5():tc()},[I,e5,tc]),tm=(0,o.jsx)(eL.f,{addIsUnsupported:!1,addIsWarning:!1,account:null!=L?L:void 0,isWrongNetwork:E,approvalA:eK,approvalB:e0,isValid:!ep&&!ex,showApprovalA:tr,approveACallback:eJ,currencies:ec,approveBCallback:e1,showApprovalB:to,parsedAmounts:W,onClick:tp,attemptingTxn:S,errorMessage:ep,buttonText:"Add",depositADisabled:ev,depositBDisabled:ef});(0,a.useEffect)(()=>{!td.current&&ts?tu(void 0):td.current&&(td.current=!1)},[td,ts,$,B]);let tx=(0,a.useCallback)(e=>{tu(void 0);let t=V?parseFloat((ey?V.invert():V).toSignificant(8)):void 0;if(t){var i,n;eS({leftTypedValue:(t*(null!==(i=null==e?void 0:e.initialMin)&&void 0!==i?i:D[null!=m?m:b.lk.MEDIUM].initialMin)).toString(),rightTypedValue:(t*(null!==(n=null==e?void 0:e.initialMax)&&void 0!==n?n:D[null!=m?m:b.lk.MEDIUM].initialMax)).toString()})}},[V,m,ey,eS]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(g,{style:{gridAutoRows:"max-content",gridAutoColumns:"100%"},disabled:!m||em||eu&&!U||!e3&&!e7,children:[(0,o.jsx)(d.xvT,{color:"secondary",fontSize:"12px",textTransform:"uppercase",mb:"8px",children:"Deposit Amount"}),(0,o.jsx)(eB.Z,{locked:ev,mb:"16px",children:(0,o.jsx)(Q.Z,{showBUSD:!0,maxAmount:eG[et.gN.CURRENCY_A],onMax:()=>{var e,t;return eb(null!==(t=null===(e=eG[et.gN.CURRENCY_A])||void 0===e?void 0:e.toExact())&&void 0!==t?t:"")},onPercentInput:e=>{var t,i,n;return eb(null!==(n=null===(i=eG[et.gN.CURRENCY_A])||void 0===i?void 0:null===(t=i.multiply(new f.gG(e,100)))||void 0===t?void 0:t.toExact())&&void 0!==n?n:"")},disableCurrencySelect:!0,value:eY[et.gN.CURRENCY_A],onUserInput:eb,showQuickInputButton:!0,showMaxButton:!0,currency:ec[et.gN.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,commonBasesType:v.L0.LIQUIDITY})}),(0,o.jsx)(d.xuv,{minHeight:"3px"}),(0,o.jsx)(eB.Z,{locked:ef,mb:"8px",children:(0,o.jsx)(Q.Z,{showBUSD:!0,maxAmount:eG[et.gN.CURRENCY_B],onMax:()=>{var e,t;return ek(null!==(t=null===(e=eG[et.gN.CURRENCY_B])||void 0===e?void 0:e.toExact())&&void 0!==t?t:"")},onPercentInput:e=>{var t,i,n;return ek(null!==(n=null===(i=eG[et.gN.CURRENCY_B])||void 0===i?void 0:null===(t=i.multiply(new f.gG(e,100)))||void 0===t?void 0:t.toExact())&&void 0!==n?n:"")},disableCurrencySelect:!0,value:eY[et.gN.CURRENCY_B],onUserInput:ek,showQuickInputButton:!0,showMaxButton:!0,currency:ec[et.gN.CURRENCY_B],id:"add-liquidity-input-tokenb",showCommonBases:!0,commonBasesType:v.L0.LIQUIDITY})})]}),(0,o.jsx)(e_,{children:tm}),(0,o.jsx)(eZ,{children:(0,o.jsxs)(d.Tz7,{gap:"16px",children:[eu&&(0,o.jsxs)(d.xuv,{children:[(0,o.jsx)(d.xvT,{color:"secondary",fontSize:"12px",textTransform:"uppercase",mb:"8px",children:"Set Starting Price"}),(0,o.jsx)(d.v0C,{variant:"warning",mb:"8px",children:(0,o.jsxs)(d.YId,{children:["This pool must be initialized before you can add liquidity. To initialize, select a starting price for the pool. Then, enter your liquidity price range and deposit amount. Gas fees will be higher than usual due to the initialization transaction.",(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("b",{children:"Fee-on transfer tokens and rebasing tokens are NOT compatible with V3."})]})}),(0,o.jsx)(ez,{className:"start-price-input",value:U,onUserInput:ew}),(0,o.jsxs)(d.BA4,{justifyContent:"space-between",mb:"24px",children:[(0,o.jsxs)(d.xvT,{children:["Current $",null==x?void 0:x.symbol," Price:"]}),(0,o.jsxs)(d.xvT,{children:[V?ey?null==V?void 0:null===(n=V.invert())||void 0===n?void 0:n.toSignificant(5):null==V?void 0:V.toSignificant(5):"-",(0,o.jsx)("span",{style:{marginLeft:"4px"},children:null==h?void 0:h.symbol})]})]})]}),(0,o.jsxs)(g,{disabled:!m||em,children:[(0,o.jsxs)(d.m0X,{mb:"8px",children:[(0,o.jsx)(d.xvT,{color:"secondary",fontSize:"12px",textTransform:"uppercase",children:"Set Price Range"}),(0,o.jsx)(e$.Z,{currencyA:x,handleRateToggle:()=>{if(!eg[ed.Mb.LOWER]&&!eg[ed.Mb.UPPER]){var e,t,i,n,r;ej(null!==(i=null===(e=ey?e3:null==e7?void 0:e7.invert())||void 0===e?void 0:e.toSignificant(6))&&void 0!==i?i:""),eC(null!==(n=null===(t=ey?e7:null==e3?void 0:e3.invert())||void 0===t?void 0:t.toSignificant(6))&&void 0!==n?n:""),eb(null!==(r=eY[et.gN.CURRENCY_B])&&void 0!==r?r:"")}j.replace({pathname:j.pathname,query:{...j.query,currency:[k,y,m?m.toString():""]}},void 0,{shallow:!0})}})]}),!eu&&(0,o.jsxs)(o.Fragment,{children:[V&&x&&h&&!eu&&(0,o.jsxs)(d.BA4,{gap:"4px",marginBottom:["24px","0px"],justifyContent:"center",style:{marginTop:"0.5rem"},children:[(0,o.jsx)(d.xvT,{fontWeight:500,textAlign:"center",fontSize:12,color:"text1",children:"Current Price:"}),(0,o.jsx)(d.xvT,{fontWeight:500,textAlign:"center",fontSize:12,color:"text1",children:ey?V.invert().toSignificant(6):V.toSignificant(6)}),(0,o.jsxs)(d.xvT,{color:"text2",fontSize:12,children:[null==h?void 0:h.symbol," per ",x.symbol]})]}),(0,o.jsx)(LiquidityChartRangeInput,{zoomLevel:null==F?void 0:null===(r=F[m])||void 0===r?void 0:r[ts],currencyA:null!=x?x:void 0,currencyB:null!=h?h:void 0,feeAmount:m,ticksAtLimit:eg,price:V?parseFloat((ey?V.invert():V).toSignificant(8)):void 0,priceLower:e3,priceUpper:e7,onBothRangeInput:eS,onLeftRangeInput:ej,onRightRangeInput:eC,interactive:!0},null==x?void 0:null===(s=x.wrapped)||void 0===s?void 0:s.address)]})]}),(0,o.jsxs)(g,{disabled:!m||em||eu&&!U,gap:"16px",children:[(0,o.jsx)(RangeSelector,{priceLower:e3,priceUpper:e7,getDecrementLower:e9,getIncrementLower:te,getDecrementUpper:tt,getIncrementUpper:ti,onLeftRangeInput:ej,onRightRangeInput:eC,currencyA:x,currencyB:h,feeAmount:m,ticksAtLimit:eg}),eT?(0,o.jsx)(d.v0C,{variant:"warning",children:(0,o.jsxs)(d.xuv,{children:[(0,o.jsx)(d.xvT,{fontSize:"16px",children:"Efficiency Comparison"}),(0,o.jsx)(d.xvT,{color:"textSubtle",children:"Full range positions may earn less fees than concentrated positions."}),(0,o.jsx)(d.zxk,{mt:"16px",onClick:()=>{eI(!1),tn()},scale:"md",variant:"danger",children:"I understand"})]})}):(0,o.jsxs)(d.kCb,{justifyContent:"space-between",width:"100%",style:{gap:"8px"},children:[F[m]&&(null===(u=Object.entries(F[m]))||void 0===u?void 0:u.sort((e,t)=>{let[i]=e,[n]=t;return+i-+n}).map(e=>{let[t,i]=e;return(0,o.jsxs)(d.zxk,{width:"100%",onClick:()=>{if(+t===ts){tx(D[m]);return}tx(i),tu(+t),td.current=!0},variant:+t===ts?"primary":"secondary",scale:"sm",children:[t,"%"]},`quickActions${t}`)})),(0,o.jsx)(d.zxk,{width:"200%",onClick:()=>{if(100===ts){tx();return}eI(!0),tu(100),td.current=!0},variant:100===ts?"primary":"secondary",scale:"sm",children:"Full Range"})]}),eh?(0,o.jsx)(d.v0C,{variant:"warning",children:(0,o.jsx)(d.m0X,{children:(0,o.jsx)(d.xvT,{ml:"12px",fontSize:"12px",children:"Your position will not earn fees or be used in trades until the market price moves into your range."})})}):null,ex?(0,o.jsx)(d.v0C,{variant:"warning",children:(0,o.jsx)(d.YId,{children:"Invalid range selected. The min price must be lower than the max price."})}):null]}),(0,o.jsx)(eV,{children:tm})]})})]})}var eW=i(94808),eX=i(89704);function useCurrencyParams(){var e,t;let{chainId:i}=(0,L.g)(),n=(0,l.useRouter)(),r=(0,eX.Z)(),[o,a,s]=n.isReady?n.query.currency||[r.symbol,(null===(e=eW.fV[i])||void 0===e?void 0:e.address)||(null===(t=eW.gn[i])||void 0===t?void 0:t.address)]:[void 0,void 0,void 0],u=s&&Object.values(b.lk).includes(parseFloat(s))?parseFloat(s):void 0;return{currencyIdA:o,currencyIdB:a,feeAmount:u}}let eH=(0,u.ZP)(d.Zbd).withConfig({componentId:"sc-a404b36f-0"})`
  background: ${e=>{let{theme:t}=e;return t.colors.backgroundAlt}};
  border: 3px solid ${e=>{let{theme:t}=e;return t.colors.textDisabled}};
  border-radius: 8px;
  padding: 4px 12px;
  max-width: 858px;
  width: 100%;
  z-index: 1;
`,eY=u.ZP.div.withConfig({componentId:"sc-a404b36f-1"})`
  display: grid;
  grid-column-gap: 32px;
  grid-row-gap: 16px;
  grid-template-columns: 1fr;

  grid-template-rows: max-content;
  grid-auto-flow: row;

  ${e=>{let{theme:t}=e;return t.mediaQueries.md}} {
    grid-template-columns: 1fr 1fr;
  }
`,eG=(0,w.cn)(r.V3);function UniversalAddLiquidity(e){let{isV2:t,currencyIdA:i,currencyIdB:n,preferredSelectType:s,preferredFeeAmount:u}=e,{chainId:c}=(0,L.g)(),p=(0,l.useRouter)(),m=(0,T.U8)(i),x=(0,T.U8)(n),h=m&&x&&m.wrapped.equals(x.wrapped)?void 0:x,[,,y]=p.query.currency||[],j=(0,a.useMemo)(()=>u||(y&&Object.values(b.lk).includes(parseFloat(y))?parseFloat(y):void 0),[u,y]),C=(0,a.useCallback)((e,t)=>{var i,n,r;let o=(0,k.Z)(e);if(o===t)return[o,void 0];let l=(null==e?void 0:e.isNative)||void 0!==c&&o===(null===(i=f.FX[c])||void 0===i?void 0:i.address),a=void 0!==t&&(t===(null===(n=f.B5[c])||void 0===n?void 0:n.symbol)||void 0!==c&&(0,M.K)(t)===(null===(r=f.FX[c])||void 0===r?void 0:r.address));return l&&a?[o,void 0]:[o,t]},[c]),w=(0,a.useCallback)(e=>{let[t,i]=C(e,n);void 0===i?p.replace({pathname:p.pathname,query:{...p.query,currency:[t]}},void 0,{shallow:!0}):p.replace({pathname:p.pathname,query:{...p.query,currency:[t,i]}},void 0,{shallow:!0})},[C,n,p]),A=(0,a.useCallback)(e=>{let[t,n]=C(e,i);void 0===n?p.replace({pathname:p.pathname,query:{...p.query,currency:[t]}},void 0,{shallow:!0}):p.replace({pathname:p.pathname,query:{...p.query,currency:[n,t]}},void 0,{shallow:!0})},[C,i,p]),[E,P]=(0,S.KO)(eG),R=(0,I.Z)(s);(0,a.useEffect)(()=>{i&&n&&(E!==r.V3||s!==r.V3)&&(y||P(s||r.V3))},[i,n,y,t,s,R,P]);let N=(0,a.useCallback)(e=>{let{type:t,feeAmount:r}=e;P(t),r&&p.replace({pathname:p.pathname,query:{...p.query,currency:[i,n,r.toString()]}},void 0,{shallow:!0})},[i,n,p,P]);return(0,a.useEffect)(()=>{u&&!y&&E===r.V3&&N({type:E,feeAmount:u})},[u,y,N,E]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(d.eWz,{children:(0,o.jsxs)(eY,{children:[(0,o.jsxs)(d.Tz7,{alignSelf:"stretch",children:[(0,o.jsx)(d.xvT,{color:"secondary",fontSize:"12px",textTransform:"uppercase",children:"Choose Token Pair"}),(0,o.jsxs)(d.Oh6,{gap:"4px",width:"100%",mb:"8px",alignItems:"center",children:[(0,o.jsx)(CurrencySelect,{id:"add-liquidity-select-tokena",selectedCurrency:m,onCurrencySelect:w,showCommonBases:!0,commonBasesType:v.L0.LIQUIDITY}),(0,o.jsx)(d.dtP,{color:"textSubtle"}),(0,o.jsx)(CurrencySelect,{id:"add-liquidity-select-tokenb",selectedCurrency:h,onCurrencySelect:A,showCommonBases:!0,commonBasesType:v.L0.LIQUIDITY})]}),(0,o.jsx)(g,{disabled:!m||!x,children:E===r.V3&&(0,o.jsx)(FeeSelector,{currencyA:null!=m?m:void 0,currencyB:null!=h?h:void 0,handleFeePoolSelect:N,feeAmount:j,handleSelectV2:()=>P(r.V2)})})]}),E===r.V3&&(0,o.jsx)(V3FormView,{feeAmount:j,baseCurrency:null!=m?m:void 0,quoteCurrency:null!=h?h:void 0,currencyIdA:i,currencyIdB:n})]})})})}function AddLiquidityV3Layout(e){let{showRefreshButton:t=!1,handleRefresh:i,children:n}=e,[r]=(0,S.KO)(eG),{currencyIdA:l,currencyIdB:a,feeAmount:s}=useCurrencyParams();return(0,T.U8)(l),(0,T.U8)(a),(0,o.jsx)(j.Z,{children:(0,o.jsx)(d.kCb,{justifyContent:"center",mt:"40px",children:(0,o.jsxs)(eH,{children:[(0,o.jsx)(C.t,{title:"Add V3 Liquidity",backTo:"/pool"}),n]})})})}var eQ=i(59842);let AddLiquidityPage=()=>{let e=(0,l.useRouter)(),{currencyIdA:t,currencyIdB:i,feeAmount:n}=useCurrencyParams(),r=(0,a.useCallback)(()=>{e.replace({pathname:e.pathname,query:{currency:[t,i]}},void 0,{shallow:!0})},[e,t,i]);return(0,o.jsx)(eQ.Z,{children:(0,o.jsx)(AddLiquidityV3Layout,{handleRefresh:r,showRefreshButton:void 0,children:(0,o.jsx)(UniversalAddLiquidity,{currencyIdA:t,currencyIdB:i,preferredSelectType:void 0,isV2:void 0,preferredFeeAmount:void 0})})})};AddLiquidityPage.chains=s.vo;var eK=AddLiquidityPage},78774:function(e,t,i){"use strict";function currencyId(e){var t;if(null==e?void 0:e.isNative)return null===(t=e.symbol)||void 0===t?void 0:t.toUpperCase();if(null==e?void 0:e.isToken)return e.address;throw Error("invalid currency")}i.d(t,{H:function(){return currencyId}}),t.Z=currencyId},32214:function(e,t,i){"use strict";i.d(t,{ZO:function(){return formatCurrencyAmount},T4:function(){return formatPrice},xy:function(){return formatRawAmount}});var n=i(29928);function formatLocaleNumber(e){let t,{number:i,locale:n,sigFigs:r,fixedDecimals:o,options:l={}}=e;if("number"==typeof i)t=o?parseFloat(i.toFixed(o)):i;else{let e=parseFloat(i.toSignificant(r));t=o?parseFloat(e.toFixed(o)):e}return t.toLocaleString(n,{...l,minimumFractionDigits:l.minimumFractionDigits||o,maximumFractionDigits:l.maximumFractionDigits||o,maximumSignificantDigits:l.maximumSignificantDigits||o?void 0:r})}function formatCurrencyAmount(e,t,i,r){return e?0n===e.quotient?"0":e.divide(e.decimalScale).lessThan(new n.iA(1,1e5))?"<0.0001":formatLocaleNumber({number:e,locale:i,sigFigs:t,fixedDecimals:r}):"-"}function formatPrice(e,t,i){return e?1e-4>parseFloat(e.toFixed(t))?"<0.0001":formatLocaleNumber({number:e,locale:i,sigFigs:t}):"-"}function formatRawAmount(e,t,i){return new n.iA(e,10n**BigInt(t)).toSignificant(i)}}},function(e){e.O(0,[1314,2810,4846,5223,2464,6559,9774,2888,179],function(){return e(e.s=6478)}),_N_E=e.O()}]);