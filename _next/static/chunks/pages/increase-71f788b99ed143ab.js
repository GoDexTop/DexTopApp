(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1567],{76710:function(t,e,n){"use strict";function ownKeys(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,i)}return n}function _objectSpread2(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){var i;i=n[e],e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}n.d(e,{u:function(){return createRuntimeFn}});var shouldApplyCompound=(t,e,n)=>{for(var i of Object.keys(t)){var o;if(t[i]!==(null!==(o=e[i])&&void 0!==o?o:n[i]))return!1}return!0},createRuntimeFn=t=>e=>{var n=t.defaultClassName,i=_objectSpread2(_objectSpread2({},t.defaultVariants),e);for(var o in i){var r,s=null!==(r=i[o])&&void 0!==r?r:t.defaultVariants[o];if(null!=s){var a=s;"boolean"==typeof a&&(a=!0===a?"true":"false");var u=t.variantClassNames[o][a];u&&(n+=" "+u)}}for(var[l,d]of t.compoundVariants)shouldApplyCompound(l,i,t.defaultVariants)&&(n+=" "+d);return n}},71516:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/increase",function(){return n(25871)}])},25871:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return F}});var i=n(85893),o=n(94808),r=n(98287),s=n(89704),a=n(11163),u=n(63150),l=n(27086),d=n(59842),c=n(92897),p=n(29928),v=n(87619),h=n(40231),C=n(12021),m=n(31717),y=n(67947),b=n(32229),g=n(22184),f=n(67294),R=n(51675),x=n(13243),N=n(75533),O=n(28429),E=n(57078),U=n(66749),w=n(61129),k=n(3774),_=n(25375),j=n(18803),A=n(26256),S=n(19521),B=n(50535),I=n(31347),P=n(88051),Y=n(32214),L=n(60491),M=n(95946),q=n(17133),T=n(13670),D=n(27426),Z=n(52282),$=n(35330),V=n(65262),K=n(1854);let z=(0,S.ZP)(v.Zbd).withConfig({componentId:"sc-48aff12a-0"})`
  // background: ${t=>{let{theme:e}=t;return e.colors.background}};
  border: 3px solid ${t=>{let{theme:e}=t;return e.colors.textDisabled}};
  border-radius: 8px;
  padding: 4px 12px;
  max-width: 464px;
  width: 100%;
  z-index: 1;
`;function IncreaseLiquidityV3(t){var e,n,o,s,u,l,d,S,F,G;let{currencyA:Q,currencyB:W}=t,X=(0,a.useRouter)(),{sendTransactionAsync:H}=(0,_.p)(),[J,tt]=(0,f.useState)(!1),te=null!==(l=X.query.fee)&&void 0!==l?l:"0",tn=null!==(d=X.query.tokenId)&&void 0!==d?d:"0",ti=(0,x.LO)(),{account:to,chainId:tr,isWrongNetwork:ts}=(0,k.Z)(),ta=(0,U.gp)(),{tokenIds:tu,loading:tl}=(0,b.OC)(null==ta?void 0:ta.address,to),[td,tc]=(0,f.useState)(""),tp=(0,E.h7)(),tv=te&&Object.values(m.lk).includes(parseFloat(te))?parseFloat(te):void 0,{position:th,loading:tC}=(0,b.nq)(tn?BigInt(tn):void 0),tm=!!th&&!tC,{position:ty}=function(t){let e;let n=(0,r.U8)(null==t?void 0:t.token0),i=(0,r.U8)(null==t?void 0:t.token1),[,o]=(0,y.A)(null!=n?n:void 0,null!=i?i:void 0,null==t?void 0:t.fee);return o&&t&&(e=new m.Ly({pool:o,liquidity:t.liquidity.toString(),tickLower:t.tickLower,tickUpper:t.tickUpper})),{position:e,pool:null!=o?o:void 0}}(th),tb=Q&&W&&Q.wrapped.equals(W.wrapped)?void 0:W,tg=(0,K.Di)(),{independentField:tf,typedValue:tR}=tg,{dependentField:tx,parsedAmounts:tN,position:tO,noLiquidity:tE,currencies:tU,errorMessage:tw,invalidRange:tk,outOfRange:t_,depositADisabled:tj,depositBDisabled:tA,ticksAtLimit:tS,currencyBalances:tB}=(0,g.Z)(null!=Q?Q:void 0,null!=tb?tb:void 0,tv,null!=Q?Q:void 0,ty,tg),{onFieldAInput:tI,onFieldBInput:tP}=(0,D.E)(tE),tY=(0,R.$)(),tL={[tf]:tR,[tx]:null!==(S=null===(e=tN[tx])||void 0===e?void 0:e.toSignificant(6))&&void 0!==S?S:""},tM=[O.gN.CURRENCY_A,O.gN.CURRENCY_B].reduce((t,e)=>({...t,[e]:(0,N.i)(tB[e])}),{}),tq=(0,U.GL)(),[tT]=(0,x.eq)(),tD=!!(tn&&tu.find(t=>t===BigInt(tn))),tZ=tD?ta:tq,t$=m.cK,{approvalState:tV,approveCallback:tK}=(0,P.qL)(tN[O.gN.CURRENCY_A],null==tZ?void 0:tZ.address),{approvalState:tz,approveCallback:tF}=(0,P.qL)(tN[O.gN.CURRENCY_B],null==tZ?void 0:tZ.address),tG=tV!==P.UK.APPROVED&&!!tN[O.gN.CURRENCY_A],tQ=tz!==P.UK.APPROVED&&!!tN[O.gN.CURRENCY_B],tW=(0,f.useCallback)(async()=>{if(tr&&H&&to&&t$&&tZ&&!tl&&tq&&Q&&tb&&tO&&to&&tY){var t,e,n,i;let o=Q.isNative?Q:tb.isNative?tb:void 0,{calldata:r,value:s}=tm&&tn?t$.addCallParameters(tO,{tokenId:tn,slippageTolerance:(0,L.P4)(tT),deadline:null!==(n=null===(t=tY[0])||void 0===t?void 0:t.toString())&&void 0!==n?n:"0",useNative:o}):t$.addCallParameters(tO,{slippageTolerance:(0,L.P4)(tT),recipient:to,deadline:null!==(i=null===(e=tY[0])||void 0===e?void 0:e.toString())&&void 0!==i?i:"0",useNative:o,createPool:tE});tt(!0),(0,T.NP)({chainId:tr}).estimateGas({account:to,to:tZ.address,data:r,value:(0,M.y_)(s)}).then(t=>H({account:to,to:tZ.address,data:r,value:(0,M.y_)(s),gas:(0,w.yC)(t),chainId:tr})).then(t=>{var e,n,i,o,r,s;let a=(0,Y.xy)(null!==(r=null===(n=tN[O.gN.CURRENCY_A])||void 0===n?void 0:null===(e=n.quotient)||void 0===e?void 0:e.toString())&&void 0!==r?r:"0",Q.decimals,4),u=(0,Y.xy)(null!==(s=null===(o=tN[O.gN.CURRENCY_B])||void 0===o?void 0:null===(i=o.quotient)||void 0===i?void 0:i.toString())&&void 0!==s?s:"0",tb.decimals,4);tt(!1),tp({hash:t},{type:"increase-liquidity-v3",summary:`Increase ${a} ${null==Q?void 0:Q.symbol} and ${u} ${null==tb?void 0:tb.symbol}`}),tc(t)}).catch(t=>{console.error("Failed to send transaction",t),tt(!1),(0,q.Z)(t)||console.error(t)})}},[to,tp,tT,Q,tr,tY,tm,t$,tZ,tE,tN,tO,tq,tb,H,tn,tl]),tX=(0,f.useCallback)(()=>{td&&(tI(""),X.push("/pool"))},[tI,X,td]),tH=`Supplying ${tj?"":(0,Y.ZO)(tN[O.gN.CURRENCY_A],4,"en-US")} ${tj?"":null===(n=tU[O.gN.CURRENCY_A])||void 0===n?void 0:n.symbol} ${t_?"":"and"} ${tA?"":(0,Y.ZO)(tN[O.gN.CURRENCY_B],4,"en-US")} ${tA?"":null===(o=tU[O.gN.CURRENCY_B])||void 0===o?void 0:o.symbol}`,[tJ]=(0,h.dd)((0,i.jsx)(I.Z,{minWidth:["100%",null,"420px"],title:"Increase Liquidity",customOnDismiss:tX,attemptingTxn:J,hash:td,content:()=>(0,i.jsx)(C.p,{topContent:()=>tO?(0,i.jsx)(Z.z,{position:tO,inRange:!t_,ticksAtLimit:tS}):null,bottomContent:()=>(0,i.jsx)(v.zxk,{width:"100%",mt:"16px",variant:"primary",height:"48px",onClick:tW,children:"Increase"})}),pendingText:tH}),!0,!0,"TransactionConfirmationModalIncreaseLiquidity"),t0=(0,f.useCallback)(()=>ti?tW():tJ(),[ti,tW,tJ]),t1=(0,i.jsx)(V.f,{addIsUnsupported:!1,addIsWarning:!1,account:null!=to?to:void 0,isWrongNetwork:ts,approvalA:tV,approvalB:tz,isValid:!tw&&!tk,showApprovalA:tG,approveACallback:tK,currencies:tU,approveBCallback:tF,showApprovalB:tQ,parsedAmounts:tN,onClick:t0,attemptingTxn:J,errorMessage:tw,buttonText:"Increase",depositADisabled:tj,depositBDisabled:tA});return(0,i.jsx)(j.Z,{children:(0,i.jsx)(v.kCb,{justifyContent:"center",mt:"40px",children:(0,i.jsxs)(z,{children:[(0,i.jsx)(A.t,{backTo:`/pool/id?tokenId=${tn}`,title:`Add ${null!==(F=null===(s=tU[O.gN.CURRENCY_A])||void 0===s?void 0:s.symbol)&&void 0!==F?F:""}-${null!==(G=null===(u=tU[O.gN.CURRENCY_B])||void 0===u?void 0:u.symbol)&&void 0!==G?G:""} Liquidity`,noConfig:!0})," ",(0,i.jsxs)(v.eWz,{children:[(0,i.jsxs)(v.xuv,{mb:"16px",children:[ty&&(0,i.jsx)(Z.z,{position:ty,title:"Selected Range",inRange:!t_,ticksAtLimit:tS}),(0,i.jsxs)(v.xuv,{mt:"16px",children:[(0,i.jsx)($.Z,{locked:tj,mb:"8px",children:(0,i.jsx)(B.Z,{disableCurrencySelect:!0,showBUSD:!0,maxAmount:tM[O.gN.CURRENCY_A],onMax:()=>{var t,e;return tI(null!==(e=null===(t=tM[O.gN.CURRENCY_A])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onPercentInput:t=>{var e,n;return tI(null!==(n=null===(e=tM[O.gN.CURRENCY_A])||void 0===e?void 0:e.multiply(new p.gG(t,100)).toExact())&&void 0!==n?n:"")},value:tL[O.gN.CURRENCY_A],onUserInput:tI,showQuickInputButton:!0,showMaxButton:!0,currency:tU[O.gN.CURRENCY_A],id:"add-liquidity-input-tokena",showCommonBases:!0,commonBasesType:c.L0.LIQUIDITY})}),(0,i.jsx)(v.xuv,{minHeight:"3px"}),(0,i.jsx)($.Z,{locked:tA,mt:"8px",children:(0,i.jsx)(B.Z,{disableCurrencySelect:!0,showBUSD:!0,maxAmount:tM[O.gN.CURRENCY_B],onMax:()=>{var t,e;return tP(null!==(e=null===(t=tM[O.gN.CURRENCY_B])||void 0===t?void 0:t.toExact())&&void 0!==e?e:"")},onPercentInput:t=>{var e,n;return tP(null!==(n=null===(e=tM[O.gN.CURRENCY_B])||void 0===e?void 0:e.multiply(new p.gG(t,100)).toExact())&&void 0!==n?n:"")},value:tL[O.gN.CURRENCY_B],onUserInput:tP,showQuickInputButton:!0,showMaxButton:!0,currency:tU[O.gN.CURRENCY_B],id:"add-liquidity-input-tokenb",showCommonBases:!0,commonBasesType:c.L0.LIQUIDITY})})]})]}),(0,i.jsx)(v.Tz7,{style:{flexGrow:1},children:t1})]})]})})})}let AddLiquidityPage=()=>{let t=(0,a.useRouter)(),{chainId:e}=(0,l.g)(),n=(0,s.Z)(),[u,c]=t.query.currency||[n.symbol,o.fV[e].address],p=(0,r.U8)(u),v=(0,r.U8)(c);return(0,i.jsx)(d.Z,{children:(0,i.jsx)(IncreaseLiquidityV3,{currencyA:p,currencyB:v})})};AddLiquidityPage.chains=u.vo;var F=AddLiquidityPage},98029:function(t,e,n){"use strict";n.d(e,{D:function(){return useMutation}});var i=n(67294),o=n(59289),r=n(27037),s=n(7506),a=n(24139),u=class extends s.l{#t;#e=void 0;#n;#i;constructor(t,e){super(),this.#t=t,this.setOptions(e),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){let e=this.options;this.options=this.#t.defaultMutationOptions(t),(0,a.VS)(this.options,e)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),e?.mutationKey&&this.options.mutationKey&&(0,a.Ym)(e.mutationKey)!==(0,a.Ym)(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#r(t)}getCurrentResult(){return this.#e}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#o(),this.#r()}mutate(t,e){return this.#i=e,this.#n?.removeObserver(this),this.#n=this.#t.getMutationCache().build(this.#t,this.options),this.#n.addObserver(this),this.#n.execute(t)}#o(){let t=this.#n?.state??(0,o.R)();this.#e={...t,isPending:"pending"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset}}#r(t){r.V.batch(()=>{if(this.#i&&this.hasListeners()){let e=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#i.onSuccess?.(t.data,e,n),this.#i.onSettled?.(t.data,null,e,n)):t?.type==="error"&&(this.#i.onError?.(t.error,e,n),this.#i.onSettled?.(void 0,t.error,e,n))}this.listeners.forEach(t=>{t(this.#e)})})}},l=n(30202),d=n(86290);function useMutation(t,e){let n=(0,l.NL)(e),[o]=i.useState(()=>new u(n,t));i.useEffect(()=>{o.setOptions(t)},[o,t]);let s=i.useSyncExternalStore(i.useCallback(t=>o.subscribe(r.V.batchCalls(t)),[o]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),a=i.useCallback((t,e)=>{o.mutate(t,e).catch(d.Z)},[o]);if(s.error&&(0,d.L)(o.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:a,mutateAsync:s.mutate}}},25375:function(t,e,n){"use strict";n.d(e,{p:function(){return useSendTransaction}});var i=n(98029),o=n(66357),r=n(37122);function useSendTransaction(t={}){let{mutation:e}=t,n=(0,r.Z)(t),{mutate:s,mutateAsync:a,...u}=(0,i.D)({...e,mutationFn:t=>(0,o.T)(n,t),mutationKey:["sendTransaction"]});return{...u,sendTransaction:s,sendTransactionAsync:a}}}},function(t){t.O(0,[1314,5223,2464,2425,6559,9774,2888,179],function(){return t(t.s=71516)}),_N_E=t.O()}]);